import{d as Jo,r as pe}from"./index.prod-BtU_6dh5.js";var U;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const a={};for(const l of s)a[l]=l;return a},t.getValidEnumValues=s=>{const a=t.objectKeys(s).filter(u=>typeof s[s[u]]!="number"),l={};for(const u of a)l[u]=s[u];return t.objectValues(l)},t.objectValues=s=>t.objectKeys(s).map(function(a){return s[a]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const l in s)Object.prototype.hasOwnProperty.call(s,l)&&a.push(l);return a},t.find=(s,a)=>{for(const l of s)if(a(l))return l},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function o(s,a=" | "){return s.map(l=>typeof l=="string"?`'${l}'`:l).join(a)}t.joinValues=o,t.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(U||(U={}));var xt;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(xt||(xt={}));const C=U.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ne=t=>{switch(typeof t){case"undefined":return C.undefined;case"string":return C.string;case"number":return Number.isNaN(t)?C.nan:C.number;case"boolean":return C.boolean;case"function":return C.function;case"bigint":return C.bigint;case"symbol":return C.symbol;case"object":return Array.isArray(t)?C.array:t===null?C.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?C.promise:typeof Map<"u"&&t instanceof Map?C.map:typeof Set<"u"&&t instanceof Set?C.set:typeof Date<"u"&&t instanceof Date?C.date:C.object;default:return C.unknown}},y=U.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class j extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=o=>{this.issues=[...this.issues,o]},this.addIssues=(o=[])=>{this.issues=[...this.issues,...o]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(a){return a.message},o={_errors:[]},s=a=>{for(const l of a.issues)if(l.code==="invalid_union")l.unionErrors.map(s);else if(l.code==="invalid_return_type")s(l.returnTypeError);else if(l.code==="invalid_arguments")s(l.argumentsError);else if(l.path.length===0)o._errors.push(n(l));else{let u=o,f=0;for(;f<l.path.length;){const c=l.path[f];f===l.path.length-1?(u[c]=u[c]||{_errors:[]},u[c]._errors.push(n(l))):u[c]=u[c]||{_errors:[]},u=u[c],f++}}};return s(this),o}static assert(e){if(!(e instanceof j))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,U.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},o=[];for(const s of this.issues)if(s.path.length>0){const a=s.path[0];n[a]=n[a]||[],n[a].push(e(s))}else o.push(e(s));return{formErrors:o,fieldErrors:n}}get formErrors(){return this.flatten()}}j.create=t=>new j(t);const je=(t,e)=>{let n;switch(t.code){case y.invalid_type:t.received===C.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case y.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,U.jsonStringifyReplacer)}`;break;case y.unrecognized_keys:n=`Unrecognized key(s) in object: ${U.joinValues(t.keys,", ")}`;break;case y.invalid_union:n="Invalid input";break;case y.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${U.joinValues(t.options)}`;break;case y.invalid_enum_value:n=`Invalid enum value. Expected ${U.joinValues(t.options)}, received '${t.received}'`;break;case y.invalid_arguments:n="Invalid function arguments";break;case y.invalid_return_type:n="Invalid function return type";break;case y.invalid_date:n="Invalid date";break;case y.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:U.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case y.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case y.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case y.custom:n="Invalid input";break;case y.invalid_intersection_types:n="Intersection results could not be merged";break;case y.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case y.not_finite:n="Number must be finite";break;default:n=e.defaultError,U.assertNever(t)}return{message:n}};let $o=je;function bo(){return $o}const Ho=t=>{const{data:e,path:n,errorMaps:o,issueData:s}=t,a=[...n,...s.path||[]],l={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let u="";const f=o.filter(c=>!!c).slice().reverse();for(const c of f)u=c(l,{data:e,defaultError:u}).message;return{...s,path:a,message:u}};function v(t,e){const n=bo(),o=Ho({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===je?void 0:je].filter(s=>!!s)});t.common.issues.push(o)}class b{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const o=[];for(const s of n){if(s.status==="aborted")return P;s.status==="dirty"&&e.dirty(),o.push(s.value)}return{status:e.value,value:o}}static async mergeObjectAsync(e,n){const o=[];for(const s of n){const a=await s.key,l=await s.value;o.push({key:a,value:l})}return b.mergeObjectSync(e,o)}static mergeObjectSync(e,n){const o={};for(const s of n){const{key:a,value:l}=s;if(a.status==="aborted"||l.status==="aborted")return P;a.status==="dirty"&&e.dirty(),l.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof l.value<"u"||s.alwaysSet)&&(o[a.value]=l.value)}return{status:e.value,value:o}}}const P=Object.freeze({status:"aborted"}),xe=t=>({status:"dirty",value:t}),W=t=>({status:"valid",value:t}),Rt=t=>t.status==="aborted",Pt=t=>t.status==="dirty",ye=t=>t.status==="valid",Ge=t=>typeof Promise<"u"&&t instanceof Promise;var _;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(_||(_={}));class X{constructor(e,n,o,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=o,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const wt=(t,e)=>{if(ye(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new j(t.common.issues);return this._error=n,this._error}}};function D(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:o,description:s}=t;if(e&&(n||o))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(l,u)=>{const{message:f}=t;return l.code==="invalid_enum_value"?{message:f??u.defaultError}:typeof u.data>"u"?{message:f??o??u.defaultError}:l.code!=="invalid_type"?{message:u.defaultError}:{message:f??n??u.defaultError}},description:s}}class k{get description(){return this._def.description}_getType(e){return ne(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:ne(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new b,ctx:{common:e.parent.common,data:e.data,parsedType:ne(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Ge(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const o=this.safeParse(e,n);if(o.success)return o.data;throw o.error}safeParse(e,n){const o={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ne(e)},s=this._parseSync({data:e,path:o.path,parent:o});return wt(o,s)}"~validate"(e){var o,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ne(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:n});return ye(a)?{value:a.value}:{issues:n.common.issues}}catch(a){(s=(o=a==null?void 0:a.message)==null?void 0:o.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(a=>ye(a)?{value:a.value}:{issues:n.common.issues})}async parseAsync(e,n){const o=await this.safeParseAsync(e,n);if(o.success)return o.data;throw o.error}async safeParseAsync(e,n){const o={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ne(e)},s=this._parse({data:e,path:o.path,parent:o}),a=await(Ge(s)?s:Promise.resolve(s));return wt(o,a)}refine(e,n){const o=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,a)=>{const l=e(s),u=()=>a.addIssue({code:y.custom,...o(s)});return typeof Promise<"u"&&l instanceof Promise?l.then(f=>f?!0:(u(),!1)):l?!0:(u(),!1)})}refinement(e,n){return this._refinement((o,s)=>e(o)?!0:(s.addIssue(typeof n=="function"?n(o,s):n),!1))}_refinement(e){return new Ce({schema:this,typeName:R.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return oe.create(this,this._def)}nullable(){return _e.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return z.create(this)}promise(){return be.create(this,this._def)}or(e){return Be.create([this,e],this._def)}and(e){return Je.create(this,e,this._def)}transform(e){return new Ce({...D(this._def),schema:this,typeName:R.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new ot({...D(this._def),innerType:this,defaultValue:n,typeName:R.ZodDefault})}brand(){return new pi({typeName:R.ZodBranded,type:this,...D(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new it({...D(this._def),innerType:this,catchValue:n,typeName:R.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return yt.create(this,e)}readonly(){return rt.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Yo=/^c[^\s-]{8,}$/i,Wo=/^[0-9a-z]+$/,Ko=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Zo=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Oo=/^[a-z0-9_-]{21}$/i,zo=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Xo=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Qo=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,jo="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Xe;const ei=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ti=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ni=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,oi=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ii=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ri=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,so="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",si=new RegExp(`^${so}$`);function ao(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function ai(t){return new RegExp(`^${ao(t)}$`)}function li(t){let e=`${so}T${ao(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function ui(t,e){return!!((e==="v4"||!e)&&ei.test(t)||(e==="v6"||!e)&&ni.test(t))}function ci(t,e){if(!zo.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const o=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(o));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function fi(t,e){return!!((e==="v4"||!e)&&ti.test(t)||(e==="v6"||!e)&&oi.test(t))}class Z extends k{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==C.string){const a=this._getOrReturnCtx(e);return v(a,{code:y.invalid_type,expected:C.string,received:a.parsedType}),P}const o=new b;let s;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(s=this._getOrReturnCtx(e,s),v(s,{code:y.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),o.dirty());else if(a.kind==="max")e.data.length>a.value&&(s=this._getOrReturnCtx(e,s),v(s,{code:y.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),o.dirty());else if(a.kind==="length"){const l=e.data.length>a.value,u=e.data.length<a.value;(l||u)&&(s=this._getOrReturnCtx(e,s),l?v(s,{code:y.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):u&&v(s,{code:y.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),o.dirty())}else if(a.kind==="email")Qo.test(e.data)||(s=this._getOrReturnCtx(e,s),v(s,{validation:"email",code:y.invalid_string,message:a.message}),o.dirty());else if(a.kind==="emoji")Xe||(Xe=new RegExp(jo,"u")),Xe.test(e.data)||(s=this._getOrReturnCtx(e,s),v(s,{validation:"emoji",code:y.invalid_string,message:a.message}),o.dirty());else if(a.kind==="uuid")Zo.test(e.data)||(s=this._getOrReturnCtx(e,s),v(s,{validation:"uuid",code:y.invalid_string,message:a.message}),o.dirty());else if(a.kind==="nanoid")Oo.test(e.data)||(s=this._getOrReturnCtx(e,s),v(s,{validation:"nanoid",code:y.invalid_string,message:a.message}),o.dirty());else if(a.kind==="cuid")Yo.test(e.data)||(s=this._getOrReturnCtx(e,s),v(s,{validation:"cuid",code:y.invalid_string,message:a.message}),o.dirty());else if(a.kind==="cuid2")Wo.test(e.data)||(s=this._getOrReturnCtx(e,s),v(s,{validation:"cuid2",code:y.invalid_string,message:a.message}),o.dirty());else if(a.kind==="ulid")Ko.test(e.data)||(s=this._getOrReturnCtx(e,s),v(s,{validation:"ulid",code:y.invalid_string,message:a.message}),o.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),v(s,{validation:"url",code:y.invalid_string,message:a.message}),o.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),v(s,{validation:"regex",code:y.invalid_string,message:a.message}),o.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(e,s),v(s,{code:y.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),o.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(s=this._getOrReturnCtx(e,s),v(s,{code:y.invalid_string,validation:{startsWith:a.value},message:a.message}),o.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(s=this._getOrReturnCtx(e,s),v(s,{code:y.invalid_string,validation:{endsWith:a.value},message:a.message}),o.dirty()):a.kind==="datetime"?li(a).test(e.data)||(s=this._getOrReturnCtx(e,s),v(s,{code:y.invalid_string,validation:"datetime",message:a.message}),o.dirty()):a.kind==="date"?si.test(e.data)||(s=this._getOrReturnCtx(e,s),v(s,{code:y.invalid_string,validation:"date",message:a.message}),o.dirty()):a.kind==="time"?ai(a).test(e.data)||(s=this._getOrReturnCtx(e,s),v(s,{code:y.invalid_string,validation:"time",message:a.message}),o.dirty()):a.kind==="duration"?Xo.test(e.data)||(s=this._getOrReturnCtx(e,s),v(s,{validation:"duration",code:y.invalid_string,message:a.message}),o.dirty()):a.kind==="ip"?ui(e.data,a.version)||(s=this._getOrReturnCtx(e,s),v(s,{validation:"ip",code:y.invalid_string,message:a.message}),o.dirty()):a.kind==="jwt"?ci(e.data,a.alg)||(s=this._getOrReturnCtx(e,s),v(s,{validation:"jwt",code:y.invalid_string,message:a.message}),o.dirty()):a.kind==="cidr"?fi(e.data,a.version)||(s=this._getOrReturnCtx(e,s),v(s,{validation:"cidr",code:y.invalid_string,message:a.message}),o.dirty()):a.kind==="base64"?ii.test(e.data)||(s=this._getOrReturnCtx(e,s),v(s,{validation:"base64",code:y.invalid_string,message:a.message}),o.dirty()):a.kind==="base64url"?ri.test(e.data)||(s=this._getOrReturnCtx(e,s),v(s,{validation:"base64url",code:y.invalid_string,message:a.message}),o.dirty()):U.assertNever(a);return{status:o.value,value:e.data}}_regex(e,n,o){return this.refinement(s=>e.test(s),{validation:n,code:y.invalid_string,..._.errToObj(o)})}_addCheck(e){return new Z({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",..._.errToObj(e)})}url(e){return this._addCheck({kind:"url",..._.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",..._.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",..._.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",..._.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",..._.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",..._.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",..._.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",..._.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",..._.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",..._.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",..._.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",..._.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,..._.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,..._.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",..._.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,..._.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,..._.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,..._.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,..._.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,..._.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,..._.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,..._.errToObj(n)})}nonempty(e){return this.min(1,_.errToObj(e))}trim(){return new Z({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Z({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Z({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Z.create=t=>new Z({checks:[],typeName:R.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...D(t)});function di(t,e){const n=(t.toString().split(".")[1]||"").length,o=(e.toString().split(".")[1]||"").length,s=n>o?n:o,a=Number.parseInt(t.toFixed(s).replace(".","")),l=Number.parseInt(e.toFixed(s).replace(".",""));return a%l/10**s}class se extends k{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==C.number){const a=this._getOrReturnCtx(e);return v(a,{code:y.invalid_type,expected:C.number,received:a.parsedType}),P}let o;const s=new b;for(const a of this._def.checks)a.kind==="int"?U.isInteger(e.data)||(o=this._getOrReturnCtx(e,o),v(o,{code:y.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(o=this._getOrReturnCtx(e,o),v(o,{code:y.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(o=this._getOrReturnCtx(e,o),v(o,{code:y.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?di(e.data,a.value)!==0&&(o=this._getOrReturnCtx(e,o),v(o,{code:y.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(o=this._getOrReturnCtx(e,o),v(o,{code:y.not_finite,message:a.message}),s.dirty()):U.assertNever(a);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,_.toString(n))}gt(e,n){return this.setLimit("min",e,!1,_.toString(n))}lte(e,n){return this.setLimit("max",e,!0,_.toString(n))}lt(e,n){return this.setLimit("max",e,!1,_.toString(n))}setLimit(e,n,o,s){return new se({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:o,message:_.toString(s)}]})}_addCheck(e){return new se({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:_.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:_.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:_.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:_.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:_.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:_.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:_.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:_.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:_.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&U.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const o of this._def.checks){if(o.kind==="finite"||o.kind==="int"||o.kind==="multipleOf")return!0;o.kind==="min"?(n===null||o.value>n)&&(n=o.value):o.kind==="max"&&(e===null||o.value<e)&&(e=o.value)}return Number.isFinite(n)&&Number.isFinite(e)}}se.create=t=>new se({checks:[],typeName:R.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...D(t)});class ae extends k{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==C.bigint)return this._getInvalidInput(e);let o;const s=new b;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(o=this._getOrReturnCtx(e,o),v(o,{code:y.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(o=this._getOrReturnCtx(e,o),v(o,{code:y.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(o=this._getOrReturnCtx(e,o),v(o,{code:y.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):U.assertNever(a);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return v(n,{code:y.invalid_type,expected:C.bigint,received:n.parsedType}),P}gte(e,n){return this.setLimit("min",e,!0,_.toString(n))}gt(e,n){return this.setLimit("min",e,!1,_.toString(n))}lte(e,n){return this.setLimit("max",e,!0,_.toString(n))}lt(e,n){return this.setLimit("max",e,!1,_.toString(n))}setLimit(e,n,o,s){return new ae({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:o,message:_.toString(s)}]})}_addCheck(e){return new ae({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:_.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:_.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:_.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:_.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:_.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ae.create=t=>new ae({checks:[],typeName:R.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...D(t)});class qe extends k{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==C.boolean){const o=this._getOrReturnCtx(e);return v(o,{code:y.invalid_type,expected:C.boolean,received:o.parsedType}),P}return W(e.data)}}qe.create=t=>new qe({typeName:R.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...D(t)});class Te extends k{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==C.date){const a=this._getOrReturnCtx(e);return v(a,{code:y.invalid_type,expected:C.date,received:a.parsedType}),P}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return v(a,{code:y.invalid_date}),P}const o=new b;let s;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(s=this._getOrReturnCtx(e,s),v(s,{code:y.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),o.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(s=this._getOrReturnCtx(e,s),v(s,{code:y.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),o.dirty()):U.assertNever(a);return{status:o.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Te({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:_.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:_.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Te.create=t=>new Te({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:R.ZodDate,...D(t)});class Nt extends k{_parse(e){if(this._getType(e)!==C.symbol){const o=this._getOrReturnCtx(e);return v(o,{code:y.invalid_type,expected:C.symbol,received:o.parsedType}),P}return W(e.data)}}Nt.create=t=>new Nt({typeName:R.ZodSymbol,...D(t)});class Dt extends k{_parse(e){if(this._getType(e)!==C.undefined){const o=this._getOrReturnCtx(e);return v(o,{code:y.invalid_type,expected:C.undefined,received:o.parsedType}),P}return W(e.data)}}Dt.create=t=>new Dt({typeName:R.ZodUndefined,...D(t)});class kt extends k{_parse(e){if(this._getType(e)!==C.null){const o=this._getOrReturnCtx(e);return v(o,{code:y.invalid_type,expected:C.null,received:o.parsedType}),P}return W(e.data)}}kt.create=t=>new kt({typeName:R.ZodNull,...D(t)});class Ut extends k{constructor(){super(...arguments),this._any=!0}_parse(e){return W(e.data)}}Ut.create=t=>new Ut({typeName:R.ZodAny,...D(t)});class et extends k{constructor(){super(...arguments),this._unknown=!0}_parse(e){return W(e.data)}}et.create=t=>new et({typeName:R.ZodUnknown,...D(t)});class ie extends k{_parse(e){const n=this._getOrReturnCtx(e);return v(n,{code:y.invalid_type,expected:C.never,received:n.parsedType}),P}}ie.create=t=>new ie({typeName:R.ZodNever,...D(t)});class Lt extends k{_parse(e){if(this._getType(e)!==C.undefined){const o=this._getOrReturnCtx(e);return v(o,{code:y.invalid_type,expected:C.void,received:o.parsedType}),P}return W(e.data)}}Lt.create=t=>new Lt({typeName:R.ZodVoid,...D(t)});class z extends k{_parse(e){const{ctx:n,status:o}=this._processInputParams(e),s=this._def;if(n.parsedType!==C.array)return v(n,{code:y.invalid_type,expected:C.array,received:n.parsedType}),P;if(s.exactLength!==null){const l=n.data.length>s.exactLength.value,u=n.data.length<s.exactLength.value;(l||u)&&(v(n,{code:l?y.too_big:y.too_small,minimum:u?s.exactLength.value:void 0,maximum:l?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),o.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(v(n,{code:y.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),o.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(v(n,{code:y.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),o.dirty()),n.common.async)return Promise.all([...n.data].map((l,u)=>s.type._parseAsync(new X(n,l,n.path,u)))).then(l=>b.mergeArray(o,l));const a=[...n.data].map((l,u)=>s.type._parseSync(new X(n,l,n.path,u)));return b.mergeArray(o,a)}get element(){return this._def.type}min(e,n){return new z({...this._def,minLength:{value:e,message:_.toString(n)}})}max(e,n){return new z({...this._def,maxLength:{value:e,message:_.toString(n)}})}length(e,n){return new z({...this._def,exactLength:{value:e,message:_.toString(n)}})}nonempty(e){return this.min(1,e)}}z.create=(t,e)=>new z({type:t,minLength:null,maxLength:null,exactLength:null,typeName:R.ZodArray,...D(e)});function de(t){if(t instanceof J){const e={};for(const n in t.shape){const o=t.shape[n];e[n]=oe.create(de(o))}return new J({...t._def,shape:()=>e})}else return t instanceof z?new z({...t._def,type:de(t.element)}):t instanceof oe?oe.create(de(t.unwrap())):t instanceof _e?_e.create(de(t.unwrap())):t instanceof le?le.create(t.items.map(e=>de(e))):t}class J extends k{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=U.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==C.object){const c=this._getOrReturnCtx(e);return v(c,{code:y.invalid_type,expected:C.object,received:c.parsedType}),P}const{status:o,ctx:s}=this._processInputParams(e),{shape:a,keys:l}=this._getCached(),u=[];if(!(this._def.catchall instanceof ie&&this._def.unknownKeys==="strip"))for(const c in s.data)l.includes(c)||u.push(c);const f=[];for(const c of l){const d=a[c],p=s.data[c];f.push({key:{status:"valid",value:c},value:d._parse(new X(s,p,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof ie){const c=this._def.unknownKeys;if(c==="passthrough")for(const d of u)f.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(c==="strict")u.length>0&&(v(s,{code:y.unrecognized_keys,keys:u}),o.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const d of u){const p=s.data[d];f.push({key:{status:"valid",value:d},value:c._parse(new X(s,p,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const d of f){const p=await d.key,m=await d.value;c.push({key:p,value:m,alwaysSet:d.alwaysSet})}return c}).then(c=>b.mergeObjectSync(o,c)):b.mergeObjectSync(o,f)}get shape(){return this._def.shape()}strict(e){return _.errToObj,new J({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,o)=>{var a,l;const s=((l=(a=this._def).errorMap)==null?void 0:l.call(a,n,o).message)??o.defaultError;return n.code==="unrecognized_keys"?{message:_.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new J({...this._def,unknownKeys:"strip"})}passthrough(){return new J({...this._def,unknownKeys:"passthrough"})}extend(e){return new J({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new J({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:R.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new J({...this._def,catchall:e})}pick(e){const n={};for(const o of U.objectKeys(e))e[o]&&this.shape[o]&&(n[o]=this.shape[o]);return new J({...this._def,shape:()=>n})}omit(e){const n={};for(const o of U.objectKeys(this.shape))e[o]||(n[o]=this.shape[o]);return new J({...this._def,shape:()=>n})}deepPartial(){return de(this)}partial(e){const n={};for(const o of U.objectKeys(this.shape)){const s=this.shape[o];e&&!e[o]?n[o]=s:n[o]=s.optional()}return new J({...this._def,shape:()=>n})}required(e){const n={};for(const o of U.objectKeys(this.shape))if(e&&!e[o])n[o]=this.shape[o];else{let a=this.shape[o];for(;a instanceof oe;)a=a._def.innerType;n[o]=a}return new J({...this._def,shape:()=>n})}keyof(){return lo(U.objectKeys(this.shape))}}J.create=(t,e)=>new J({shape:()=>t,unknownKeys:"strip",catchall:ie.create(),typeName:R.ZodObject,...D(e)});J.strictCreate=(t,e)=>new J({shape:()=>t,unknownKeys:"strict",catchall:ie.create(),typeName:R.ZodObject,...D(e)});J.lazycreate=(t,e)=>new J({shape:t,unknownKeys:"strip",catchall:ie.create(),typeName:R.ZodObject,...D(e)});class Be extends k{_parse(e){const{ctx:n}=this._processInputParams(e),o=this._def.options;function s(a){for(const u of a)if(u.result.status==="valid")return u.result;for(const u of a)if(u.result.status==="dirty")return n.common.issues.push(...u.ctx.common.issues),u.result;const l=a.map(u=>new j(u.ctx.common.issues));return v(n,{code:y.invalid_union,unionErrors:l}),P}if(n.common.async)return Promise.all(o.map(async a=>{const l={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:l}),ctx:l}})).then(s);{let a;const l=[];for(const f of o){const c={...n,common:{...n.common,issues:[]},parent:null},d=f._parseSync({data:n.data,path:n.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:c}),c.common.issues.length&&l.push(c.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const u=l.map(f=>new j(f));return v(n,{code:y.invalid_union,unionErrors:u}),P}}get options(){return this._def.options}}Be.create=(t,e)=>new Be({options:t,typeName:R.ZodUnion,...D(e)});function tt(t,e){const n=ne(t),o=ne(e);if(t===e)return{valid:!0,data:t};if(n===C.object&&o===C.object){const s=U.objectKeys(e),a=U.objectKeys(t).filter(u=>s.indexOf(u)!==-1),l={...t,...e};for(const u of a){const f=tt(t[u],e[u]);if(!f.valid)return{valid:!1};l[u]=f.data}return{valid:!0,data:l}}else if(n===C.array&&o===C.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let a=0;a<t.length;a++){const l=t[a],u=e[a],f=tt(l,u);if(!f.valid)return{valid:!1};s.push(f.data)}return{valid:!0,data:s}}else return n===C.date&&o===C.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Je extends k{_parse(e){const{status:n,ctx:o}=this._processInputParams(e),s=(a,l)=>{if(Rt(a)||Rt(l))return P;const u=tt(a.value,l.value);return u.valid?((Pt(a)||Pt(l))&&n.dirty(),{status:n.value,value:u.data}):(v(o,{code:y.invalid_intersection_types}),P)};return o.common.async?Promise.all([this._def.left._parseAsync({data:o.data,path:o.path,parent:o}),this._def.right._parseAsync({data:o.data,path:o.path,parent:o})]).then(([a,l])=>s(a,l)):s(this._def.left._parseSync({data:o.data,path:o.path,parent:o}),this._def.right._parseSync({data:o.data,path:o.path,parent:o}))}}Je.create=(t,e,n)=>new Je({left:t,right:e,typeName:R.ZodIntersection,...D(n)});class le extends k{_parse(e){const{status:n,ctx:o}=this._processInputParams(e);if(o.parsedType!==C.array)return v(o,{code:y.invalid_type,expected:C.array,received:o.parsedType}),P;if(o.data.length<this._def.items.length)return v(o,{code:y.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),P;!this._def.rest&&o.data.length>this._def.items.length&&(v(o,{code:y.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...o.data].map((l,u)=>{const f=this._def.items[u]||this._def.rest;return f?f._parse(new X(o,l,o.path,u)):null}).filter(l=>!!l);return o.common.async?Promise.all(a).then(l=>b.mergeArray(n,l)):b.mergeArray(n,a)}get items(){return this._def.items}rest(e){return new le({...this._def,rest:e})}}le.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new le({items:t,typeName:R.ZodTuple,rest:null,...D(e)})};class $e extends k{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:o}=this._processInputParams(e);if(o.parsedType!==C.object)return v(o,{code:y.invalid_type,expected:C.object,received:o.parsedType}),P;const s=[],a=this._def.keyType,l=this._def.valueType;for(const u in o.data)s.push({key:a._parse(new X(o,u,o.path,u)),value:l._parse(new X(o,o.data[u],o.path,u)),alwaysSet:u in o.data});return o.common.async?b.mergeObjectAsync(n,s):b.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,o){return n instanceof k?new $e({keyType:e,valueType:n,typeName:R.ZodRecord,...D(o)}):new $e({keyType:Z.create(),valueType:e,typeName:R.ZodRecord,...D(n)})}}class Vt extends k{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:o}=this._processInputParams(e);if(o.parsedType!==C.map)return v(o,{code:y.invalid_type,expected:C.map,received:o.parsedType}),P;const s=this._def.keyType,a=this._def.valueType,l=[...o.data.entries()].map(([u,f],c)=>({key:s._parse(new X(o,u,o.path,[c,"key"])),value:a._parse(new X(o,f,o.path,[c,"value"]))}));if(o.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const f of l){const c=await f.key,d=await f.value;if(c.status==="aborted"||d.status==="aborted")return P;(c.status==="dirty"||d.status==="dirty")&&n.dirty(),u.set(c.value,d.value)}return{status:n.value,value:u}})}else{const u=new Map;for(const f of l){const c=f.key,d=f.value;if(c.status==="aborted"||d.status==="aborted")return P;(c.status==="dirty"||d.status==="dirty")&&n.dirty(),u.set(c.value,d.value)}return{status:n.value,value:u}}}}Vt.create=(t,e,n)=>new Vt({valueType:e,keyType:t,typeName:R.ZodMap,...D(n)});class we extends k{_parse(e){const{status:n,ctx:o}=this._processInputParams(e);if(o.parsedType!==C.set)return v(o,{code:y.invalid_type,expected:C.set,received:o.parsedType}),P;const s=this._def;s.minSize!==null&&o.data.size<s.minSize.value&&(v(o,{code:y.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&o.data.size>s.maxSize.value&&(v(o,{code:y.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const a=this._def.valueType;function l(f){const c=new Set;for(const d of f){if(d.status==="aborted")return P;d.status==="dirty"&&n.dirty(),c.add(d.value)}return{status:n.value,value:c}}const u=[...o.data.values()].map((f,c)=>a._parse(new X(o,f,o.path,c)));return o.common.async?Promise.all(u).then(f=>l(f)):l(u)}min(e,n){return new we({...this._def,minSize:{value:e,message:_.toString(n)}})}max(e,n){return new we({...this._def,maxSize:{value:e,message:_.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}we.create=(t,e)=>new we({valueType:t,minSize:null,maxSize:null,typeName:R.ZodSet,...D(e)});class nt extends k{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}nt.create=(t,e)=>new nt({getter:t,typeName:R.ZodLazy,...D(e)});class Ft extends k{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return v(n,{received:n.data,code:y.invalid_literal,expected:this._def.value}),P}return{status:"valid",value:e.data}}get value(){return this._def.value}}Ft.create=(t,e)=>new Ft({value:t,typeName:R.ZodLiteral,...D(e)});function lo(t,e){return new ve({values:t,typeName:R.ZodEnum,...D(e)})}class ve extends k{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),o=this._def.values;return v(n,{expected:U.joinValues(o),received:n.parsedType,code:y.invalid_type}),P}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),o=this._def.values;return v(n,{received:n.data,code:y.invalid_enum_value,options:o}),P}return W(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return ve.create(e,{...this._def,...n})}exclude(e,n=this._def){return ve.create(this.options.filter(o=>!e.includes(o)),{...this._def,...n})}}ve.create=lo;class Gt extends k{_parse(e){const n=U.getValidEnumValues(this._def.values),o=this._getOrReturnCtx(e);if(o.parsedType!==C.string&&o.parsedType!==C.number){const s=U.objectValues(n);return v(o,{expected:U.joinValues(s),received:o.parsedType,code:y.invalid_type}),P}if(this._cache||(this._cache=new Set(U.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=U.objectValues(n);return v(o,{received:o.data,code:y.invalid_enum_value,options:s}),P}return W(e.data)}get enum(){return this._def.values}}Gt.create=(t,e)=>new Gt({values:t,typeName:R.ZodNativeEnum,...D(e)});class be extends k{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==C.promise&&n.common.async===!1)return v(n,{code:y.invalid_type,expected:C.promise,received:n.parsedType}),P;const o=n.parsedType===C.promise?n.data:Promise.resolve(n.data);return W(o.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}be.create=(t,e)=>new be({type:t,typeName:R.ZodPromise,...D(e)});class Ce extends k{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===R.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:o}=this._processInputParams(e),s=this._def.effect||null,a={addIssue:l=>{v(o,l),l.fatal?n.abort():n.dirty()},get path(){return o.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const l=s.transform(o.data,a);if(o.common.async)return Promise.resolve(l).then(async u=>{if(n.value==="aborted")return P;const f=await this._def.schema._parseAsync({data:u,path:o.path,parent:o});return f.status==="aborted"?P:f.status==="dirty"||n.value==="dirty"?xe(f.value):f});{if(n.value==="aborted")return P;const u=this._def.schema._parseSync({data:l,path:o.path,parent:o});return u.status==="aborted"?P:u.status==="dirty"||n.value==="dirty"?xe(u.value):u}}if(s.type==="refinement"){const l=u=>{const f=s.refinement(u,a);if(o.common.async)return Promise.resolve(f);if(f instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(o.common.async===!1){const u=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});return u.status==="aborted"?P:(u.status==="dirty"&&n.dirty(),l(u.value),{status:n.value,value:u.value})}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(u=>u.status==="aborted"?P:(u.status==="dirty"&&n.dirty(),l(u.value).then(()=>({status:n.value,value:u.value}))))}if(s.type==="transform")if(o.common.async===!1){const l=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});if(!ye(l))return P;const u=s.transform(l.value,a);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:u}}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(l=>ye(l)?Promise.resolve(s.transform(l.value,a)).then(u=>({status:n.value,value:u})):P);U.assertNever(s)}}Ce.create=(t,e,n)=>new Ce({schema:t,typeName:R.ZodEffects,effect:e,...D(n)});Ce.createWithPreprocess=(t,e,n)=>new Ce({schema:e,effect:{type:"preprocess",transform:t},typeName:R.ZodEffects,...D(n)});class oe extends k{_parse(e){return this._getType(e)===C.undefined?W(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}oe.create=(t,e)=>new oe({innerType:t,typeName:R.ZodOptional,...D(e)});class _e extends k{_parse(e){return this._getType(e)===C.null?W(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}_e.create=(t,e)=>new _e({innerType:t,typeName:R.ZodNullable,...D(e)});class ot extends k{_parse(e){const{ctx:n}=this._processInputParams(e);let o=n.data;return n.parsedType===C.undefined&&(o=this._def.defaultValue()),this._def.innerType._parse({data:o,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}ot.create=(t,e)=>new ot({innerType:t,typeName:R.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...D(e)});class it extends k{_parse(e){const{ctx:n}=this._processInputParams(e),o={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:o.data,path:o.path,parent:{...o}});return Ge(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new j(o.common.issues)},input:o.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new j(o.common.issues)},input:o.data})}}removeCatch(){return this._def.innerType}}it.create=(t,e)=>new it({innerType:t,typeName:R.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...D(e)});class qt extends k{_parse(e){if(this._getType(e)!==C.nan){const o=this._getOrReturnCtx(e);return v(o,{code:y.invalid_type,expected:C.nan,received:o.parsedType}),P}return{status:"valid",value:e.data}}}qt.create=t=>new qt({typeName:R.ZodNaN,...D(t)});class pi extends k{_parse(e){const{ctx:n}=this._processInputParams(e),o=n.data;return this._def.type._parse({data:o,path:n.path,parent:n})}unwrap(){return this._def.type}}class yt extends k{_parse(e){const{status:n,ctx:o}=this._processInputParams(e);if(o.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:o.data,path:o.path,parent:o});return a.status==="aborted"?P:a.status==="dirty"?(n.dirty(),xe(a.value)):this._def.out._parseAsync({data:a.value,path:o.path,parent:o})})();{const s=this._def.in._parseSync({data:o.data,path:o.path,parent:o});return s.status==="aborted"?P:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:o.path,parent:o})}}static create(e,n){return new yt({in:e,out:n,typeName:R.ZodPipeline})}}class rt extends k{_parse(e){const n=this._def.innerType._parse(e),o=s=>(ye(s)&&(s.value=Object.freeze(s.value)),s);return Ge(n)?n.then(s=>o(s)):o(n)}unwrap(){return this._def.innerType}}rt.create=(t,e)=>new rt({innerType:t,typeName:R.ZodReadonly,...D(e)});var R;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(R||(R={}));const re=Z.create,Bt=se.create;ae.create;const mi=qe.create;Te.create;const Jt=et.create;ie.create;const Re=z.create,hi=J.create,gi=Be.create;Je.create;le.create;const yi=$e.create,Ti=nt.create,vi=ve.create;be.create;oe.create;_e.create;const fe={string:t=>Z.create({...t,coerce:!0}),number:t=>se.create({...t,coerce:!0}),boolean:t=>qe.create({...t,coerce:!0}),bigint:t=>ae.create({...t,coerce:!0}),date:t=>Te.create({...t,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Ci,_i;function Ei(){return{geminiUrl:Ci,vertexUrl:_i}}function Si(t,e,n){var o,s,a;if(!(!((o=t.httpOptions)===null||o===void 0)&&o.baseUrl)){const l=Ei();return t.vertexai?(s=l.vertexUrl)!==null&&s!==void 0?s:e:(a=l.geminiUrl)!==null&&a!==void 0?a:n}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ce{}function S(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(o,s)=>{if(Object.prototype.hasOwnProperty.call(e,s)){const a=e[s];return a!=null?String(a):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function r(t,e,n){for(let a=0;a<e.length-1;a++){const l=e[a];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(t[u])){const f=t[u];if(Array.isArray(n))for(let c=0;c<f.length;c++){const d=f[c];r(d,e.slice(a+1),n[c])}else for(const c of f)r(c,e.slice(a+1),n)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in t||(t[u]=[{}]);const f=t[u];r(f[0],e.slice(a+1),n);return}(!t[l]||typeof t[l]!="object")&&(t[l]={}),t=t[l]}const o=e[e.length-1],s=t[o];if(s!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===s)return;if(typeof s=="object"&&typeof n=="object"&&s!==null&&n!==null)Object.assign(s,n);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else t[o]=n}function i(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const o=e[n];if(o.endsWith("[]")){const s=o.slice(0,-2);if(s in t){const a=t[s];return Array.isArray(a)?a.map(l=>i(l,e.slice(n+1))):void 0}else return}else t=t[o]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var $t;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})($t||($t={}));var bt;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(bt||(bt={}));var O;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(O||(O={}));var Ht;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(Ht||(Ht={}));var Yt;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Yt||(Yt={}));var Wt;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Wt||(Wt={}));var Kt;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Kt||(Kt={}));var Zt;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Zt||(Zt={}));var Ot;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Ot||(Ot={}));var zt;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(zt||(zt={}));var Xt;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(Xt||(Xt={}));var Qt;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(Qt||(Qt={}));var jt;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(jt||(jt={}));var en;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(en||(en={}));var tn;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(tn||(tn={}));var nn;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(nn||(nn={}));var He;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(He||(He={}));var on;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(on||(on={}));var st;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(st||(st={}));var rn;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(rn||(rn={}));var sn;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(sn||(sn={}));var an;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(an||(an={}));var ln;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(ln||(ln={}));var un;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(un||(un={}));var cn;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(cn||(cn={}));var fn;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(fn||(fn={}));var dn;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi"})(dn||(dn={}));var pn;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(pn||(pn={}));var mn;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(mn||(mn={}));var hn;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(hn||(hn={}));var gn;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(gn||(gn={}));var yn;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(yn||(yn={}));var Tn;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Tn||(Tn={}));var vn;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(vn||(vn={}));var Cn;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Cn||(Cn={}));var _n;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(_n||(_n={}));var En;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(En||(En={}));var Sn;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Sn||(Sn={}));var An;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(An||(An={}));var In;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(In||(In={}));var Mn;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Mn||(Mn={}));var me;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(me||(me={}));class at{constructor(e){const n={};for(const o of e.headers.entries())n[o[0]]=o[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Me{get text(){var e,n,o,s,a,l,u,f;if(((s=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",d=!1;const p=[];for(const m of(f=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[h,g]of Object.entries(m))h!=="text"&&h!=="thought"&&(g!==null||g!==void 0)&&p.push(h);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;d=!0,c+=m.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?c:void 0}get data(){var e,n,o,s,a,l,u,f;if(((s=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const d=[];for(const p of(f=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[m,h]of Object.entries(p))m!=="inlineData"&&(h!==null||h!==void 0)&&d.push(m);p.inlineData&&typeof p.inlineData.data=="string"&&(c+=atob(p.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,n,o,s,a,l,u,f;if(((s=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(f=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,n,o,s,a,l,u,f,c;if(((s=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(f=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((d==null?void 0:d.length)!==0)return(c=d==null?void 0:d[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,n,o,s,a,l,u,f,c;if(((s=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(f=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((d==null?void 0:d.length)!==0)return(c=d==null?void 0:d[0])===null||c===void 0?void 0:c.output}}class xn{}class Rn{}class Ai{}class Ii{}class Pn{}class wn{}class Nn{}class Mi{}class Dn{}class kn{}class Un{}class xi{}class Ri{}class Pi{}class Ln{}class wi{get text(){var e,n,o;let s="",a=!1;const l=[];for(const u of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[f,c]of Object.entries(u))f!=="text"&&f!=="thought"&&c!==null&&l.push(f);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;a=!0,s+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?s:void 0}get data(){var e,n,o;let s="";const a=[];for(const l of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[u,f]of Object.entries(l))u!=="inlineData"&&f!==null&&a.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(s+=atob(l.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}}class Ni{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function G(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function uo(t,e){const n=G(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function co(t){return Array.isArray(t)?t.map(e=>Ye(e)):[Ye(t)]}function Ye(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function fo(t){const e=Ye(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function po(t){const e=Ye(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Vn(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function mo(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Vn(e)):[Vn(t)]}function lt(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Fn(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Gn(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function $(t){if(t==null)throw new Error("ContentUnion is required");return lt(t)?t:{role:"user",parts:mo(t)}}function ho(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const o=$(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(t.isVertexAI()){const n=$(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>$(n)):[$(e)]}function Y(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Fn(t)||Gn(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[$(t)]}const e=[],n=[],o=lt(t[0]);for(const s of t){const a=lt(s);if(a!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(s);else{if(Fn(s)||Gn(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(s)}}return o||e.push({role:"user",parts:mo(n)}),e}const Di=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),qn=vi(["string","number","integer","object","array","boolean","null"]),ki=gi([qn,Re(qn)]);function Ui(t=!0){const e=Ti(()=>{const n=hi({type:ki.optional(),format:re().optional(),title:re().optional(),description:re().optional(),default:Jt().optional(),items:e.optional(),minItems:fe.string().optional(),maxItems:fe.string().optional(),enum:Re(Jt()).optional(),properties:yi(re(),e).optional(),required:Re(re()).optional(),minProperties:fe.string().optional(),maxProperties:fe.string().optional(),propertyOrdering:Re(re()).optional(),minimum:Bt().optional(),maximum:Bt().optional(),minLength:fe.string().optional(),maxLength:fe.string().optional(),pattern:re().optional(),anyOf:Re(e).optional(),additionalProperties:mi().optional()});return t?n.strict():n});return e}function Li(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(o=>o!=="null");if(n.length===1)e.type=Object.values(O).includes(n[0].toUpperCase())?n[0].toUpperCase():O.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of n)e.anyOf.push({type:Object.values(O).includes(o.toUpperCase())?o.toUpperCase():O.TYPE_UNSPECIFIED})}}function he(t){const e={},n=["items"],o=["anyOf"],s=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&Li(t.type,e);for(const[l,u]of Object.entries(t))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(O).includes(u.toUpperCase())?u.toUpperCase():O.TYPE_UNSPECIFIED}else if(n.includes(l))e[l]=he(u);else if(o.includes(l)){const f=[];for(const c of u){if(c.type=="null"){e.nullable=!0;continue}f.push(he(c))}e[l]=f}else if(s.includes(l)){const f={};for(const[c,d]of Object.entries(u))f[c]=he(d);e[l]=f}else{if(l==="additionalProperties")continue;e[l]=u}return e}function Ne(t){if(Object.keys(t).includes("$schema")){delete t.$schema;const e=Ui().parse(t);return he(e)}else return he(t)}function Tt(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function vt(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Ee(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(e.parameters=Ne(e.parameters)),e.response&&(e.response=Ne(e.response));return t}function Se(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Vi(t,e,n,o=1){const s=!e.startsWith(`${n}/`)&&e.split("/").length===o;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:s?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:s?`${n}/${e}`:e}function ee(t,e){if(typeof e!="string")throw new Error("name must be a string");return Vi(t,e,"cachedContents")}function go(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function te(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function Fi(t){return t!=null&&typeof t=="object"&&"name"in t}function Gi(t){return t!=null&&typeof t=="object"&&"video"in t}function qi(t){return t!=null&&typeof t=="object"&&"uri"in t}function yo(t){var e;let n;if(Fi(t)&&(n=t.name),!(qi(t)&&(n=t.uri,n===void 0))&&!(Gi(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const s=n.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${n}`);n=s[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function To(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function vo(t){for(const e of["models","tunedModels","publisherModels"])if(Bi(t,e))return t[e];return[]}function Bi(t,e){return t!==null&&typeof t=="object"&&e in t}function Ji(t,e={}){const n=t,o={name:n.name,description:n.description,parameters:he(We(n.inputSchema))};return e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function $i(t,e={}){const n=[],o=new Set;for(const s of t){const a=s.name;if(o.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);o.add(a);const l=Ji(s,e);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function bi(t){const e=[];for(const n of t)e.push(We(n));return e}function Hi(t){const e={};for(const[n,o]of Object.entries(t)){const s=o;e[n]=We(s)}return e}function We(t){const e=new Set(["items"]),n=new Set(["anyOf"]),o=new Set(["properties"]),s={};for(const[a,l]of Object.entries(t))if(e.has(a))s[a]=We(l);else if(n.has(a))s[a]=bi(l);else if(o.has(a))s[a]=Hi(l);else if(a==="type"){const u=l.toUpperCase();s[a]=Object.values(O).includes(u)?u:O.TYPE_UNSPECIFIED}else Di.has(a)&&(s[a]=l);return s}function Co(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function Yi(t){const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Ae(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function _o(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wi(t){const e={},n=i(t,["fps"]);n!=null&&r(e,["fps"],n);const o=i(t,["endOffset"]);o!=null&&r(e,["endOffset"],o);const s=i(t,["startOffset"]);return s!=null&&r(e,["startOffset"],s),e}function Ki(t){const e={};if(i(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=i(t,["data"]);n!=null&&r(e,["data"],n);const o=i(t,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function Zi(t){const e={};if(i(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=i(t,["fileUri"]);n!=null&&r(e,["fileUri"],n);const o=i(t,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function Oi(t){const e={},n=i(t,["videoMetadata"]);n!=null&&r(e,["videoMetadata"],Wi(n));const o=i(t,["thought"]);o!=null&&r(e,["thought"],o);const s=i(t,["inlineData"]);s!=null&&r(e,["inlineData"],Ki(s));const a=i(t,["fileData"]);a!=null&&r(e,["fileData"],Zi(a));const l=i(t,["thoughtSignature"]);l!=null&&r(e,["thoughtSignature"],l);const u=i(t,["codeExecutionResult"]);u!=null&&r(e,["codeExecutionResult"],u);const f=i(t,["executableCode"]);f!=null&&r(e,["executableCode"],f);const c=i(t,["functionCall"]);c!=null&&r(e,["functionCall"],c);const d=i(t,["functionResponse"]);d!=null&&r(e,["functionResponse"],d);const p=i(t,["text"]);return p!=null&&r(e,["text"],p),e}function Eo(t){const e={},n=i(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>Oi(a))),r(e,["parts"],s)}const o=i(t,["role"]);return o!=null&&r(e,["role"],o),e}function zi(t){const e={},n=i(t,["anyOf"]);n!=null&&r(e,["anyOf"],n);const o=i(t,["default"]);o!=null&&r(e,["default"],o);const s=i(t,["description"]);s!=null&&r(e,["description"],s);const a=i(t,["enum"]);a!=null&&r(e,["enum"],a);const l=i(t,["example"]);l!=null&&r(e,["example"],l);const u=i(t,["format"]);u!=null&&r(e,["format"],u);const f=i(t,["items"]);f!=null&&r(e,["items"],f);const c=i(t,["maxItems"]);c!=null&&r(e,["maxItems"],c);const d=i(t,["maxLength"]);d!=null&&r(e,["maxLength"],d);const p=i(t,["maxProperties"]);p!=null&&r(e,["maxProperties"],p);const m=i(t,["maximum"]);m!=null&&r(e,["maximum"],m);const h=i(t,["minItems"]);h!=null&&r(e,["minItems"],h);const g=i(t,["minLength"]);g!=null&&r(e,["minLength"],g);const T=i(t,["minProperties"]);T!=null&&r(e,["minProperties"],T);const E=i(t,["minimum"]);E!=null&&r(e,["minimum"],E);const A=i(t,["nullable"]);A!=null&&r(e,["nullable"],A);const I=i(t,["pattern"]);I!=null&&r(e,["pattern"],I);const M=i(t,["properties"]);M!=null&&r(e,["properties"],M);const w=i(t,["propertyOrdering"]);w!=null&&r(e,["propertyOrdering"],w);const x=i(t,["required"]);x!=null&&r(e,["required"],x);const L=i(t,["title"]);L!=null&&r(e,["title"],L);const V=i(t,["type"]);return V!=null&&r(e,["type"],V),e}function Xi(t){const e={};if(i(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=i(t,["category"]);n!=null&&r(e,["category"],n);const o=i(t,["threshold"]);return o!=null&&r(e,["threshold"],o),e}function Qi(t){const e={},n=i(t,["behavior"]);n!=null&&r(e,["behavior"],n);const o=i(t,["description"]);o!=null&&r(e,["description"],o);const s=i(t,["name"]);s!=null&&r(e,["name"],s);const a=i(t,["parameters"]);a!=null&&r(e,["parameters"],a);const l=i(t,["parametersJsonSchema"]);l!=null&&r(e,["parametersJsonSchema"],l);const u=i(t,["response"]);u!=null&&r(e,["response"],u);const f=i(t,["responseJsonSchema"]);return f!=null&&r(e,["responseJsonSchema"],f),e}function ji(t){const e={},n=i(t,["startTime"]);n!=null&&r(e,["startTime"],n);const o=i(t,["endTime"]);return o!=null&&r(e,["endTime"],o),e}function er(t){const e={},n=i(t,["timeRangeFilter"]);return n!=null&&r(e,["timeRangeFilter"],ji(n)),e}function tr(t){const e={},n=i(t,["mode"]);n!=null&&r(e,["mode"],n);const o=i(t,["dynamicThreshold"]);return o!=null&&r(e,["dynamicThreshold"],o),e}function nr(t){const e={},n=i(t,["dynamicRetrievalConfig"]);return n!=null&&r(e,["dynamicRetrievalConfig"],tr(n)),e}function or(){return{}}function ir(t){const e={},n=i(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(c=>Qi(c))),r(e,["functionDeclarations"],f)}if(i(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=i(t,["googleSearch"]);o!=null&&r(e,["googleSearch"],er(o));const s=i(t,["googleSearchRetrieval"]);if(s!=null&&r(e,["googleSearchRetrieval"],nr(s)),i(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(i(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");i(t,["urlContext"])!=null&&r(e,["urlContext"],or());const l=i(t,["codeExecution"]);l!=null&&r(e,["codeExecution"],l);const u=i(t,["computerUse"]);return u!=null&&r(e,["computerUse"],u),e}function rr(t){const e={},n=i(t,["mode"]);n!=null&&r(e,["mode"],n);const o=i(t,["allowedFunctionNames"]);return o!=null&&r(e,["allowedFunctionNames"],o),e}function sr(t){const e={},n=i(t,["latitude"]);n!=null&&r(e,["latitude"],n);const o=i(t,["longitude"]);return o!=null&&r(e,["longitude"],o),e}function ar(t){const e={},n=i(t,["latLng"]);n!=null&&r(e,["latLng"],sr(n));const o=i(t,["languageCode"]);return o!=null&&r(e,["languageCode"],o),e}function lr(t){const e={},n=i(t,["functionCallingConfig"]);n!=null&&r(e,["functionCallingConfig"],rr(n));const o=i(t,["retrievalConfig"]);return o!=null&&r(e,["retrievalConfig"],ar(o)),e}function ur(t){const e={},n=i(t,["voiceName"]);return n!=null&&r(e,["voiceName"],n),e}function So(t){const e={},n=i(t,["prebuiltVoiceConfig"]);return n!=null&&r(e,["prebuiltVoiceConfig"],ur(n)),e}function cr(t){const e={},n=i(t,["speaker"]);n!=null&&r(e,["speaker"],n);const o=i(t,["voiceConfig"]);return o!=null&&r(e,["voiceConfig"],So(o)),e}function fr(t){const e={},n=i(t,["speakerVoiceConfigs"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>cr(s))),r(e,["speakerVoiceConfigs"],o)}return e}function dr(t){const e={},n=i(t,["voiceConfig"]);n!=null&&r(e,["voiceConfig"],So(n));const o=i(t,["multiSpeakerVoiceConfig"]);o!=null&&r(e,["multiSpeakerVoiceConfig"],fr(o));const s=i(t,["languageCode"]);return s!=null&&r(e,["languageCode"],s),e}function pr(t){const e={},n=i(t,["includeThoughts"]);n!=null&&r(e,["includeThoughts"],n);const o=i(t,["thinkingBudget"]);return o!=null&&r(e,["thinkingBudget"],o),e}function mr(t,e,n){const o={},s=i(e,["systemInstruction"]);n!==void 0&&s!=null&&r(n,["systemInstruction"],Eo($(s)));const a=i(e,["temperature"]);a!=null&&r(o,["temperature"],a);const l=i(e,["topP"]);l!=null&&r(o,["topP"],l);const u=i(e,["topK"]);u!=null&&r(o,["topK"],u);const f=i(e,["candidateCount"]);f!=null&&r(o,["candidateCount"],f);const c=i(e,["maxOutputTokens"]);c!=null&&r(o,["maxOutputTokens"],c);const d=i(e,["stopSequences"]);d!=null&&r(o,["stopSequences"],d);const p=i(e,["responseLogprobs"]);p!=null&&r(o,["responseLogprobs"],p);const m=i(e,["logprobs"]);m!=null&&r(o,["logprobs"],m);const h=i(e,["presencePenalty"]);h!=null&&r(o,["presencePenalty"],h);const g=i(e,["frequencyPenalty"]);g!=null&&r(o,["frequencyPenalty"],g);const T=i(e,["seed"]);T!=null&&r(o,["seed"],T);const E=i(e,["responseMimeType"]);E!=null&&r(o,["responseMimeType"],E);const A=i(e,["responseSchema"]);A!=null&&r(o,["responseSchema"],zi(Ne(A)));const I=i(e,["responseJsonSchema"]);if(I!=null&&r(o,["responseJsonSchema"],I),i(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(i(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const M=i(e,["safetySettings"]);if(n!==void 0&&M!=null){let F=M;Array.isArray(F)&&(F=F.map(K=>Xi(K))),r(n,["safetySettings"],F)}const w=i(e,["tools"]);if(n!==void 0&&w!=null){let F=Se(w);Array.isArray(F)&&(F=F.map(K=>ir(Ee(K)))),r(n,["tools"],F)}const x=i(e,["toolConfig"]);if(n!==void 0&&x!=null&&r(n,["toolConfig"],lr(x)),i(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const L=i(e,["cachedContent"]);n!==void 0&&L!=null&&r(n,["cachedContent"],ee(t,L));const V=i(e,["responseModalities"]);V!=null&&r(o,["responseModalities"],V);const H=i(e,["mediaResolution"]);H!=null&&r(o,["mediaResolution"],H);const N=i(e,["speechConfig"]);if(N!=null&&r(o,["speechConfig"],dr(Tt(N))),i(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const q=i(e,["thinkingConfig"]);return q!=null&&r(o,["thinkingConfig"],pr(q)),o}function hr(t,e){const n={},o=i(e,["model"]);o!=null&&r(n,["request","model"],G(t,o));const s=i(e,["contents"]);if(s!=null){let l=Y(s);Array.isArray(l)&&(l=l.map(u=>Eo(u))),r(n,["request","contents"],l)}const a=i(e,["config"]);return a!=null&&r(n,["request","generationConfig"],mr(t,a,n)),n}function gr(t,e){const n={};if(i(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(i(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(i(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=i(e,["fileName"]);o!=null&&r(n,["fileName"],o);const s=i(e,["inlinedRequests"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>hr(t,l))),r(n,["requests","requests"],a)}return n}function yr(t,e){const n={},o=i(t,["displayName"]);if(e!==void 0&&o!=null&&r(e,["batch","displayName"],o),i(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Tr(t,e){const n={},o=i(e,["model"]);o!=null&&r(n,["_url","model"],G(t,o));const s=i(e,["src"]);s!=null&&r(n,["batch","inputConfig"],gr(t,Co(t,s)));const a=i(e,["config"]);return a!=null&&r(n,["config"],yr(a,n)),n}function vr(t,e){const n={},o=i(e,["name"]);o!=null&&r(n,["_url","name"],Ae(t,o));const s=i(e,["config"]);return s!=null&&r(n,["config"],s),n}function Cr(t,e){const n={},o=i(e,["name"]);o!=null&&r(n,["_url","name"],Ae(t,o));const s=i(e,["config"]);return s!=null&&r(n,["config"],s),n}function _r(t,e){const n={},o=i(t,["pageSize"]);e!==void 0&&o!=null&&r(e,["_query","pageSize"],o);const s=i(t,["pageToken"]);if(e!==void 0&&s!=null&&r(e,["_query","pageToken"],s),i(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Er(t){const e={},n=i(t,["config"]);return n!=null&&r(e,["config"],_r(n,e)),e}function Sr(t,e){const n={},o=i(e,["name"]);o!=null&&r(n,["_url","name"],Ae(t,o));const s=i(e,["config"]);return s!=null&&r(n,["config"],s),n}function Ar(t){const e={},n=i(t,["format"]);n!=null&&r(e,["instancesFormat"],n);const o=i(t,["gcsUri"]);o!=null&&r(e,["gcsSource","uris"],o);const s=i(t,["bigqueryUri"]);if(s!=null&&r(e,["bigquerySource","inputUri"],s),i(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(i(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Ir(t){const e={},n=i(t,["format"]);n!=null&&r(e,["predictionsFormat"],n);const o=i(t,["gcsUri"]);o!=null&&r(e,["gcsDestination","outputUriPrefix"],o);const s=i(t,["bigqueryUri"]);if(s!=null&&r(e,["bigqueryDestination","outputUri"],s),i(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(i(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function Mr(t,e){const n={},o=i(t,["displayName"]);e!==void 0&&o!=null&&r(e,["displayName"],o);const s=i(t,["dest"]);return e!==void 0&&s!=null&&r(e,["outputConfig"],Ir(Yi(s))),n}function xr(t,e){const n={},o=i(e,["model"]);o!=null&&r(n,["model"],G(t,o));const s=i(e,["src"]);s!=null&&r(n,["inputConfig"],Ar(Co(t,s)));const a=i(e,["config"]);return a!=null&&r(n,["config"],Mr(a,n)),n}function Rr(t,e){const n={},o=i(e,["name"]);o!=null&&r(n,["_url","name"],Ae(t,o));const s=i(e,["config"]);return s!=null&&r(n,["config"],s),n}function Pr(t,e){const n={},o=i(e,["name"]);o!=null&&r(n,["_url","name"],Ae(t,o));const s=i(e,["config"]);return s!=null&&r(n,["config"],s),n}function wr(t,e){const n={},o=i(t,["pageSize"]);e!==void 0&&o!=null&&r(e,["_query","pageSize"],o);const s=i(t,["pageToken"]);e!==void 0&&s!=null&&r(e,["_query","pageToken"],s);const a=i(t,["filter"]);return e!==void 0&&a!=null&&r(e,["_query","filter"],a),n}function Nr(t){const e={},n=i(t,["config"]);return n!=null&&r(e,["config"],wr(n,e)),e}function Dr(t,e){const n={},o=i(e,["name"]);o!=null&&r(n,["_url","name"],Ae(t,o));const s=i(e,["config"]);return s!=null&&r(n,["config"],s),n}function Ao(){return{}}function kr(t){const e={},n=i(t,["fps"]);n!=null&&r(e,["fps"],n);const o=i(t,["endOffset"]);o!=null&&r(e,["endOffset"],o);const s=i(t,["startOffset"]);return s!=null&&r(e,["startOffset"],s),e}function Ur(t){const e={},n=i(t,["data"]);n!=null&&r(e,["data"],n);const o=i(t,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function Lr(t){const e={},n=i(t,["fileUri"]);n!=null&&r(e,["fileUri"],n);const o=i(t,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function Vr(t){const e={},n=i(t,["videoMetadata"]);n!=null&&r(e,["videoMetadata"],kr(n));const o=i(t,["thought"]);o!=null&&r(e,["thought"],o);const s=i(t,["inlineData"]);s!=null&&r(e,["inlineData"],Ur(s));const a=i(t,["fileData"]);a!=null&&r(e,["fileData"],Lr(a));const l=i(t,["thoughtSignature"]);l!=null&&r(e,["thoughtSignature"],l);const u=i(t,["codeExecutionResult"]);u!=null&&r(e,["codeExecutionResult"],u);const f=i(t,["executableCode"]);f!=null&&r(e,["executableCode"],f);const c=i(t,["functionCall"]);c!=null&&r(e,["functionCall"],c);const d=i(t,["functionResponse"]);d!=null&&r(e,["functionResponse"],d);const p=i(t,["text"]);return p!=null&&r(e,["text"],p),e}function Fr(t){const e={},n=i(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>Vr(a))),r(e,["parts"],s)}const o=i(t,["role"]);return o!=null&&r(e,["role"],o),e}function Gr(t){const e={},n=i(t,["citationSources"]);return n!=null&&r(e,["citations"],n),e}function qr(t){const e={},n=i(t,["retrievedUrl"]);n!=null&&r(e,["retrievedUrl"],n);const o=i(t,["urlRetrievalStatus"]);return o!=null&&r(e,["urlRetrievalStatus"],o),e}function Br(t){const e={},n=i(t,["urlMetadata"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>qr(s))),r(e,["urlMetadata"],o)}return e}function Jr(t){const e={},n=i(t,["content"]);n!=null&&r(e,["content"],Fr(n));const o=i(t,["citationMetadata"]);o!=null&&r(e,["citationMetadata"],Gr(o));const s=i(t,["tokenCount"]);s!=null&&r(e,["tokenCount"],s);const a=i(t,["finishReason"]);a!=null&&r(e,["finishReason"],a);const l=i(t,["urlContextMetadata"]);l!=null&&r(e,["urlContextMetadata"],Br(l));const u=i(t,["avgLogprobs"]);u!=null&&r(e,["avgLogprobs"],u);const f=i(t,["groundingMetadata"]);f!=null&&r(e,["groundingMetadata"],f);const c=i(t,["index"]);c!=null&&r(e,["index"],c);const d=i(t,["logprobsResult"]);d!=null&&r(e,["logprobsResult"],d);const p=i(t,["safetyRatings"]);return p!=null&&r(e,["safetyRatings"],p),e}function $r(t){const e={},n=i(t,["candidates"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>Jr(u))),r(e,["candidates"],l)}const o=i(t,["modelVersion"]);o!=null&&r(e,["modelVersion"],o);const s=i(t,["promptFeedback"]);s!=null&&r(e,["promptFeedback"],s);const a=i(t,["usageMetadata"]);return a!=null&&r(e,["usageMetadata"],a),e}function br(t){const e={},n=i(t,["response"]);return n!=null&&r(e,["response"],$r(n)),i(t,["error"])!=null&&r(e,["error"],Ao()),e}function Hr(t){const e={},n=i(t,["responsesFile"]);n!=null&&r(e,["fileName"],n);const o=i(t,["inlinedResponses","inlinedResponses"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>br(a))),r(e,["inlinedResponses"],s)}return e}function ut(t){const e={},n=i(t,["name"]);n!=null&&r(e,["name"],n);const o=i(t,["metadata","displayName"]);o!=null&&r(e,["displayName"],o);const s=i(t,["metadata","state"]);s!=null&&r(e,["state"],_o(s));const a=i(t,["metadata","createTime"]);a!=null&&r(e,["createTime"],a);const l=i(t,["metadata","endTime"]);l!=null&&r(e,["endTime"],l);const u=i(t,["metadata","updateTime"]);u!=null&&r(e,["updateTime"],u);const f=i(t,["metadata","model"]);f!=null&&r(e,["model"],f);const c=i(t,["metadata","output"]);return c!=null&&r(e,["dest"],Hr(c)),e}function Yr(t){const e={},n=i(t,["nextPageToken"]);n!=null&&r(e,["nextPageToken"],n);const o=i(t,["operations"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>ut(a))),r(e,["batchJobs"],s)}return e}function Wr(t){const e={},n=i(t,["name"]);n!=null&&r(e,["name"],n);const o=i(t,["done"]);return o!=null&&r(e,["done"],o),i(t,["error"])!=null&&r(e,["error"],Ao()),e}function Io(t){const e={},n=i(t,["details"]);n!=null&&r(e,["details"],n);const o=i(t,["code"]);o!=null&&r(e,["code"],o);const s=i(t,["message"]);return s!=null&&r(e,["message"],s),e}function Kr(t){const e={},n=i(t,["instancesFormat"]);n!=null&&r(e,["format"],n);const o=i(t,["gcsSource","uris"]);o!=null&&r(e,["gcsUri"],o);const s=i(t,["bigquerySource","inputUri"]);return s!=null&&r(e,["bigqueryUri"],s),e}function Zr(t){const e={},n=i(t,["predictionsFormat"]);n!=null&&r(e,["format"],n);const o=i(t,["gcsDestination","outputUriPrefix"]);o!=null&&r(e,["gcsUri"],o);const s=i(t,["bigqueryDestination","outputUri"]);return s!=null&&r(e,["bigqueryUri"],s),e}function ct(t){const e={},n=i(t,["name"]);n!=null&&r(e,["name"],n);const o=i(t,["displayName"]);o!=null&&r(e,["displayName"],o);const s=i(t,["state"]);s!=null&&r(e,["state"],_o(s));const a=i(t,["error"]);a!=null&&r(e,["error"],Io(a));const l=i(t,["createTime"]);l!=null&&r(e,["createTime"],l);const u=i(t,["startTime"]);u!=null&&r(e,["startTime"],u);const f=i(t,["endTime"]);f!=null&&r(e,["endTime"],f);const c=i(t,["updateTime"]);c!=null&&r(e,["updateTime"],c);const d=i(t,["model"]);d!=null&&r(e,["model"],d);const p=i(t,["inputConfig"]);p!=null&&r(e,["src"],Kr(p));const m=i(t,["outputConfig"]);return m!=null&&r(e,["dest"],Zr(m)),e}function Or(t){const e={},n=i(t,["nextPageToken"]);n!=null&&r(e,["nextPageToken"],n);const o=i(t,["batchPredictionJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>ct(a))),r(e,["batchJobs"],s)}return e}function zr(t){const e={},n=i(t,["name"]);n!=null&&r(e,["name"],n);const o=i(t,["done"]);o!=null&&r(e,["done"],o);const s=i(t,["error"]);return s!=null&&r(e,["error"],Io(s)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ue;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(ue||(ue={}));class De{constructor(e,n,o,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,o,s)}init(e,n,o){var s,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let l={config:{}};o?typeof o=="object"?l=Object.assign({},o):l=o:l={config:{}},l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(a=(s=l.config)===null||s===void 0?void 0:s.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xr extends ce{constructor(e){super(),this.apiClient=e,this.create=async n=>{if(this.apiClient.isVertexAI()){const s=Date.now().toString();if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_${timestampStr}"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_${s}`;else throw new Error("Unsupported source:"+n.src)}return await this.createInternal(n)},this.list=async(n={})=>new De(ue.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(n),n)}async createInternal(e){var n,o,s,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=xr(this.apiClient,e);return u=S("batchPredictionJobs",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>ct(d))}else{const c=Tr(this.apiClient,e);return u=S("{model}:batchGenerateContent",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>ut(d))}}async get(e){var n,o,s,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=Rr(this.apiClient,e);return u=S("batchPredictionJobs/{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>ct(d))}else{const c=vr(this.apiClient,e);return u=S("batches/{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>ut(d))}}async cancel(e){var n,o,s,a;let l="",u={};if(this.apiClient.isVertexAI()){const f=Pr(this.apiClient,e);l=S("batchPredictionJobs/{name}:cancel",f._url),u=f._query,delete f.config,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const f=Cr(this.apiClient,e);l=S("batches/{name}:cancel",f._url),u=f._query,delete f.config,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,o,s,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=Nr(e);return u=S("batchPredictionJobs",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>{const p=Or(d),m=new Ln;return Object.assign(m,p),m})}else{const c=Er(e);return u=S("batches",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>{const p=Yr(d),m=new Ln;return Object.assign(m,p),m})}}async delete(e){var n,o,s,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=Dr(this.apiClient,e);return u=S("batchPredictionJobs/{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>zr(d))}else{const c=Sr(this.apiClient,e);return u=S("batches/{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>Wr(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qr(t){const e={},n=i(t,["fps"]);n!=null&&r(e,["fps"],n);const o=i(t,["endOffset"]);o!=null&&r(e,["endOffset"],o);const s=i(t,["startOffset"]);return s!=null&&r(e,["startOffset"],s),e}function jr(t){const e={};if(i(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=i(t,["data"]);n!=null&&r(e,["data"],n);const o=i(t,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function es(t){const e={};if(i(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=i(t,["fileUri"]);n!=null&&r(e,["fileUri"],n);const o=i(t,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function ts(t){const e={},n=i(t,["videoMetadata"]);n!=null&&r(e,["videoMetadata"],Qr(n));const o=i(t,["thought"]);o!=null&&r(e,["thought"],o);const s=i(t,["inlineData"]);s!=null&&r(e,["inlineData"],jr(s));const a=i(t,["fileData"]);a!=null&&r(e,["fileData"],es(a));const l=i(t,["thoughtSignature"]);l!=null&&r(e,["thoughtSignature"],l);const u=i(t,["codeExecutionResult"]);u!=null&&r(e,["codeExecutionResult"],u);const f=i(t,["executableCode"]);f!=null&&r(e,["executableCode"],f);const c=i(t,["functionCall"]);c!=null&&r(e,["functionCall"],c);const d=i(t,["functionResponse"]);d!=null&&r(e,["functionResponse"],d);const p=i(t,["text"]);return p!=null&&r(e,["text"],p),e}function Bn(t){const e={},n=i(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>ts(a))),r(e,["parts"],s)}const o=i(t,["role"]);return o!=null&&r(e,["role"],o),e}function ns(t){const e={},n=i(t,["behavior"]);n!=null&&r(e,["behavior"],n);const o=i(t,["description"]);o!=null&&r(e,["description"],o);const s=i(t,["name"]);s!=null&&r(e,["name"],s);const a=i(t,["parameters"]);a!=null&&r(e,["parameters"],a);const l=i(t,["parametersJsonSchema"]);l!=null&&r(e,["parametersJsonSchema"],l);const u=i(t,["response"]);u!=null&&r(e,["response"],u);const f=i(t,["responseJsonSchema"]);return f!=null&&r(e,["responseJsonSchema"],f),e}function os(t){const e={},n=i(t,["startTime"]);n!=null&&r(e,["startTime"],n);const o=i(t,["endTime"]);return o!=null&&r(e,["endTime"],o),e}function is(t){const e={},n=i(t,["timeRangeFilter"]);return n!=null&&r(e,["timeRangeFilter"],os(n)),e}function rs(t){const e={},n=i(t,["mode"]);n!=null&&r(e,["mode"],n);const o=i(t,["dynamicThreshold"]);return o!=null&&r(e,["dynamicThreshold"],o),e}function ss(t){const e={},n=i(t,["dynamicRetrievalConfig"]);return n!=null&&r(e,["dynamicRetrievalConfig"],rs(n)),e}function as(){return{}}function ls(t){const e={},n=i(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(c=>ns(c))),r(e,["functionDeclarations"],f)}if(i(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=i(t,["googleSearch"]);o!=null&&r(e,["googleSearch"],is(o));const s=i(t,["googleSearchRetrieval"]);if(s!=null&&r(e,["googleSearchRetrieval"],ss(s)),i(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(i(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");i(t,["urlContext"])!=null&&r(e,["urlContext"],as());const l=i(t,["codeExecution"]);l!=null&&r(e,["codeExecution"],l);const u=i(t,["computerUse"]);return u!=null&&r(e,["computerUse"],u),e}function us(t){const e={},n=i(t,["mode"]);n!=null&&r(e,["mode"],n);const o=i(t,["allowedFunctionNames"]);return o!=null&&r(e,["allowedFunctionNames"],o),e}function cs(t){const e={},n=i(t,["latitude"]);n!=null&&r(e,["latitude"],n);const o=i(t,["longitude"]);return o!=null&&r(e,["longitude"],o),e}function fs(t){const e={},n=i(t,["latLng"]);n!=null&&r(e,["latLng"],cs(n));const o=i(t,["languageCode"]);return o!=null&&r(e,["languageCode"],o),e}function ds(t){const e={},n=i(t,["functionCallingConfig"]);n!=null&&r(e,["functionCallingConfig"],us(n));const o=i(t,["retrievalConfig"]);return o!=null&&r(e,["retrievalConfig"],fs(o)),e}function ps(t,e){const n={},o=i(t,["ttl"]);e!==void 0&&o!=null&&r(e,["ttl"],o);const s=i(t,["expireTime"]);e!==void 0&&s!=null&&r(e,["expireTime"],s);const a=i(t,["displayName"]);e!==void 0&&a!=null&&r(e,["displayName"],a);const l=i(t,["contents"]);if(e!==void 0&&l!=null){let d=Y(l);Array.isArray(d)&&(d=d.map(p=>Bn(p))),r(e,["contents"],d)}const u=i(t,["systemInstruction"]);e!==void 0&&u!=null&&r(e,["systemInstruction"],Bn($(u)));const f=i(t,["tools"]);if(e!==void 0&&f!=null){let d=f;Array.isArray(d)&&(d=d.map(p=>ls(p))),r(e,["tools"],d)}const c=i(t,["toolConfig"]);if(e!==void 0&&c!=null&&r(e,["toolConfig"],ds(c)),i(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function ms(t,e){const n={},o=i(e,["model"]);o!=null&&r(n,["model"],uo(t,o));const s=i(e,["config"]);return s!=null&&r(n,["config"],ps(s,n)),n}function hs(t,e){const n={},o=i(e,["name"]);o!=null&&r(n,["_url","name"],ee(t,o));const s=i(e,["config"]);return s!=null&&r(n,["config"],s),n}function gs(t,e){const n={},o=i(e,["name"]);o!=null&&r(n,["_url","name"],ee(t,o));const s=i(e,["config"]);return s!=null&&r(n,["config"],s),n}function ys(t,e){const n={},o=i(t,["ttl"]);e!==void 0&&o!=null&&r(e,["ttl"],o);const s=i(t,["expireTime"]);return e!==void 0&&s!=null&&r(e,["expireTime"],s),n}function Ts(t,e){const n={},o=i(e,["name"]);o!=null&&r(n,["_url","name"],ee(t,o));const s=i(e,["config"]);return s!=null&&r(n,["config"],ys(s,n)),n}function vs(t,e){const n={},o=i(t,["pageSize"]);e!==void 0&&o!=null&&r(e,["_query","pageSize"],o);const s=i(t,["pageToken"]);return e!==void 0&&s!=null&&r(e,["_query","pageToken"],s),n}function Cs(t){const e={},n=i(t,["config"]);return n!=null&&r(e,["config"],vs(n,e)),e}function _s(t){const e={},n=i(t,["fps"]);n!=null&&r(e,["fps"],n);const o=i(t,["endOffset"]);o!=null&&r(e,["endOffset"],o);const s=i(t,["startOffset"]);return s!=null&&r(e,["startOffset"],s),e}function Es(t){const e={},n=i(t,["displayName"]);n!=null&&r(e,["displayName"],n);const o=i(t,["data"]);o!=null&&r(e,["data"],o);const s=i(t,["mimeType"]);return s!=null&&r(e,["mimeType"],s),e}function Ss(t){const e={},n=i(t,["displayName"]);n!=null&&r(e,["displayName"],n);const o=i(t,["fileUri"]);o!=null&&r(e,["fileUri"],o);const s=i(t,["mimeType"]);return s!=null&&r(e,["mimeType"],s),e}function As(t){const e={},n=i(t,["videoMetadata"]);n!=null&&r(e,["videoMetadata"],_s(n));const o=i(t,["thought"]);o!=null&&r(e,["thought"],o);const s=i(t,["inlineData"]);s!=null&&r(e,["inlineData"],Es(s));const a=i(t,["fileData"]);a!=null&&r(e,["fileData"],Ss(a));const l=i(t,["thoughtSignature"]);l!=null&&r(e,["thoughtSignature"],l);const u=i(t,["codeExecutionResult"]);u!=null&&r(e,["codeExecutionResult"],u);const f=i(t,["executableCode"]);f!=null&&r(e,["executableCode"],f);const c=i(t,["functionCall"]);c!=null&&r(e,["functionCall"],c);const d=i(t,["functionResponse"]);d!=null&&r(e,["functionResponse"],d);const p=i(t,["text"]);return p!=null&&r(e,["text"],p),e}function Jn(t){const e={},n=i(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>As(a))),r(e,["parts"],s)}const o=i(t,["role"]);return o!=null&&r(e,["role"],o),e}function Is(t){const e={};if(i(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=i(t,["description"]);n!=null&&r(e,["description"],n);const o=i(t,["name"]);o!=null&&r(e,["name"],o);const s=i(t,["parameters"]);s!=null&&r(e,["parameters"],s);const a=i(t,["parametersJsonSchema"]);a!=null&&r(e,["parametersJsonSchema"],a);const l=i(t,["response"]);l!=null&&r(e,["response"],l);const u=i(t,["responseJsonSchema"]);return u!=null&&r(e,["responseJsonSchema"],u),e}function Ms(t){const e={},n=i(t,["startTime"]);n!=null&&r(e,["startTime"],n);const o=i(t,["endTime"]);return o!=null&&r(e,["endTime"],o),e}function xs(t){const e={},n=i(t,["timeRangeFilter"]);return n!=null&&r(e,["timeRangeFilter"],Ms(n)),e}function Rs(t){const e={},n=i(t,["mode"]);n!=null&&r(e,["mode"],n);const o=i(t,["dynamicThreshold"]);return o!=null&&r(e,["dynamicThreshold"],o),e}function Ps(t){const e={},n=i(t,["dynamicRetrievalConfig"]);return n!=null&&r(e,["dynamicRetrievalConfig"],Rs(n)),e}function ws(){return{}}function Ns(t){const e={},n=i(t,["apiKeyString"]);return n!=null&&r(e,["apiKeyString"],n),e}function Ds(t){const e={},n=i(t,["apiKeyConfig"]);n!=null&&r(e,["apiKeyConfig"],Ns(n));const o=i(t,["authType"]);o!=null&&r(e,["authType"],o);const s=i(t,["googleServiceAccountConfig"]);s!=null&&r(e,["googleServiceAccountConfig"],s);const a=i(t,["httpBasicAuthConfig"]);a!=null&&r(e,["httpBasicAuthConfig"],a);const l=i(t,["oauthConfig"]);l!=null&&r(e,["oauthConfig"],l);const u=i(t,["oidcConfig"]);return u!=null&&r(e,["oidcConfig"],u),e}function ks(t){const e={},n=i(t,["authConfig"]);return n!=null&&r(e,["authConfig"],Ds(n)),e}function Us(){return{}}function Ls(t){const e={},n=i(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>Is(m))),r(e,["functionDeclarations"],p)}const o=i(t,["retrieval"]);o!=null&&r(e,["retrieval"],o);const s=i(t,["googleSearch"]);s!=null&&r(e,["googleSearch"],xs(s));const a=i(t,["googleSearchRetrieval"]);a!=null&&r(e,["googleSearchRetrieval"],Ps(a)),i(t,["enterpriseWebSearch"])!=null&&r(e,["enterpriseWebSearch"],ws());const u=i(t,["googleMaps"]);u!=null&&r(e,["googleMaps"],ks(u)),i(t,["urlContext"])!=null&&r(e,["urlContext"],Us());const c=i(t,["codeExecution"]);c!=null&&r(e,["codeExecution"],c);const d=i(t,["computerUse"]);return d!=null&&r(e,["computerUse"],d),e}function Vs(t){const e={},n=i(t,["mode"]);n!=null&&r(e,["mode"],n);const o=i(t,["allowedFunctionNames"]);return o!=null&&r(e,["allowedFunctionNames"],o),e}function Fs(t){const e={},n=i(t,["latitude"]);n!=null&&r(e,["latitude"],n);const o=i(t,["longitude"]);return o!=null&&r(e,["longitude"],o),e}function Gs(t){const e={},n=i(t,["latLng"]);n!=null&&r(e,["latLng"],Fs(n));const o=i(t,["languageCode"]);return o!=null&&r(e,["languageCode"],o),e}function qs(t){const e={},n=i(t,["functionCallingConfig"]);n!=null&&r(e,["functionCallingConfig"],Vs(n));const o=i(t,["retrievalConfig"]);return o!=null&&r(e,["retrievalConfig"],Gs(o)),e}function Bs(t,e){const n={},o=i(t,["ttl"]);e!==void 0&&o!=null&&r(e,["ttl"],o);const s=i(t,["expireTime"]);e!==void 0&&s!=null&&r(e,["expireTime"],s);const a=i(t,["displayName"]);e!==void 0&&a!=null&&r(e,["displayName"],a);const l=i(t,["contents"]);if(e!==void 0&&l!=null){let p=Y(l);Array.isArray(p)&&(p=p.map(m=>Jn(m))),r(e,["contents"],p)}const u=i(t,["systemInstruction"]);e!==void 0&&u!=null&&r(e,["systemInstruction"],Jn($(u)));const f=i(t,["tools"]);if(e!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(m=>Ls(m))),r(e,["tools"],p)}const c=i(t,["toolConfig"]);e!==void 0&&c!=null&&r(e,["toolConfig"],qs(c));const d=i(t,["kmsKeyName"]);return e!==void 0&&d!=null&&r(e,["encryption_spec","kmsKeyName"],d),n}function Js(t,e){const n={},o=i(e,["model"]);o!=null&&r(n,["model"],uo(t,o));const s=i(e,["config"]);return s!=null&&r(n,["config"],Bs(s,n)),n}function $s(t,e){const n={},o=i(e,["name"]);o!=null&&r(n,["_url","name"],ee(t,o));const s=i(e,["config"]);return s!=null&&r(n,["config"],s),n}function bs(t,e){const n={},o=i(e,["name"]);o!=null&&r(n,["_url","name"],ee(t,o));const s=i(e,["config"]);return s!=null&&r(n,["config"],s),n}function Hs(t,e){const n={},o=i(t,["ttl"]);e!==void 0&&o!=null&&r(e,["ttl"],o);const s=i(t,["expireTime"]);return e!==void 0&&s!=null&&r(e,["expireTime"],s),n}function Ys(t,e){const n={},o=i(e,["name"]);o!=null&&r(n,["_url","name"],ee(t,o));const s=i(e,["config"]);return s!=null&&r(n,["config"],Hs(s,n)),n}function Ws(t,e){const n={},o=i(t,["pageSize"]);e!==void 0&&o!=null&&r(e,["_query","pageSize"],o);const s=i(t,["pageToken"]);return e!==void 0&&s!=null&&r(e,["_query","pageToken"],s),n}function Ks(t){const e={},n=i(t,["config"]);return n!=null&&r(e,["config"],Ws(n,e)),e}function Le(t){const e={},n=i(t,["name"]);n!=null&&r(e,["name"],n);const o=i(t,["displayName"]);o!=null&&r(e,["displayName"],o);const s=i(t,["model"]);s!=null&&r(e,["model"],s);const a=i(t,["createTime"]);a!=null&&r(e,["createTime"],a);const l=i(t,["updateTime"]);l!=null&&r(e,["updateTime"],l);const u=i(t,["expireTime"]);u!=null&&r(e,["expireTime"],u);const f=i(t,["usageMetadata"]);return f!=null&&r(e,["usageMetadata"],f),e}function Zs(){return{}}function Os(t){const e={},n=i(t,["nextPageToken"]);n!=null&&r(e,["nextPageToken"],n);const o=i(t,["cachedContents"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>Le(a))),r(e,["cachedContents"],s)}return e}function Ve(t){const e={},n=i(t,["name"]);n!=null&&r(e,["name"],n);const o=i(t,["displayName"]);o!=null&&r(e,["displayName"],o);const s=i(t,["model"]);s!=null&&r(e,["model"],s);const a=i(t,["createTime"]);a!=null&&r(e,["createTime"],a);const l=i(t,["updateTime"]);l!=null&&r(e,["updateTime"],l);const u=i(t,["expireTime"]);u!=null&&r(e,["expireTime"],u);const f=i(t,["usageMetadata"]);return f!=null&&r(e,["usageMetadata"],f),e}function zs(){return{}}function Xs(t){const e={},n=i(t,["nextPageToken"]);n!=null&&r(e,["nextPageToken"],n);const o=i(t,["cachedContents"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>Ve(a))),r(e,["cachedContents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qs extends ce{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new De(ue.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(n),n)}async create(e){var n,o,s,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=Js(this.apiClient,e);return u=S("cachedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>Ve(d))}else{const c=ms(this.apiClient,e);return u=S("cachedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>Le(d))}}async get(e){var n,o,s,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=$s(this.apiClient,e);return u=S("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>Ve(d))}else{const c=hs(this.apiClient,e);return u=S("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>Le(d))}}async delete(e){var n,o,s,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=bs(this.apiClient,e);return u=S("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(()=>{const d=zs(),p=new kn;return Object.assign(p,d),p})}else{const c=gs(this.apiClient,e);return u=S("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(()=>{const d=Zs(),p=new kn;return Object.assign(p,d),p})}}async update(e){var n,o,s,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=Ys(this.apiClient,e);return u=S("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>Ve(d))}else{const c=Ts(this.apiClient,e);return u=S("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>Le(d))}}async listInternal(e){var n,o,s,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=Ks(e);return u=S("cachedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>{const p=Xs(d),m=new Un;return Object.assign(m,p),m})}else{const c=Cs(e);return u=S("cachedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>{const p=Os(d),m=new Un;return Object.assign(m,p),m})}}}function $n(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function B(t){return this instanceof B?(this.v=t,this):new B(t)}function ge(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(t,e||[]),s,a=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),s[Symbol.asyncIterator]=function(){return this},s;function l(h){return function(g){return Promise.resolve(g).then(h,p)}}function u(h,g){o[h]&&(s[h]=function(T){return new Promise(function(E,A){a.push([h,T,E,A])>1||f(h,T)})},g&&(s[h]=g(s[h])))}function f(h,g){try{c(o[h](g))}catch(T){m(a[0][3],T)}}function c(h){h.value instanceof B?Promise.resolve(h.value.v).then(d,p):m(a[0][2],h)}function d(h){f("next",h)}function p(h){f("throw",h)}function m(h,g){h(g),a.shift(),a.length&&f(a[0][0],a[0][1])}}function Pe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof $n=="function"?$n(t):t[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(a){n[a]=t[a]&&function(l){return new Promise(function(u,f){l=t[a](l),s(u,f,l.done,l.value)})}}function s(a,l,u,f){Promise.resolve(f).then(function(c){a({value:c,done:u})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function js(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Mo(n)}function Mo(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function ea(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function bn(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let o=0;for(;o<n;)if(t[o].role==="user")e.push(t[o]),o++;else{const s=[];let a=!0;for(;o<n&&t[o].role==="model";)s.push(t[o]),a&&!Mo(t[o])&&(a=!1),o++;a?e.push(...s):e.pop()}return e}class ta{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new na(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class na{constructor(e,n,o,s={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=o,this.config=s,this.history=a,this.sendPromise=Promise.resolve(),ea(a)}async sendMessage(e){var n;await this.sendPromise;const o=$(e.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,l,u;const f=await s,c=(l=(a=f.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content,d=f.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let m=[];d!=null&&(m=(u=d.slice(p))!==null&&u!==void 0?u:[]);const h=c?[c]:[];this.recordHistory(o,h,m)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),s}async sendMessageStream(e){var n;await this.sendPromise;const o=$(e.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const a=await s;return this.processStreamResponse(a,o)}getHistory(e=!1){const n=e?bn(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var o,s;return ge(this,arguments,function*(){var l,u,f,c;const d=[];try{for(var p=!0,m=Pe(e),h;h=yield B(m.next()),l=h.done,!l;p=!0){c=h.value,p=!1;const g=c;if(js(g)){const T=(s=(o=g.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content;T!==void 0&&d.push(T)}yield yield B(g)}}catch(g){u={error:g}}finally{try{!p&&!l&&(f=m.return)&&(yield B(f.call(m)))}finally{if(u)throw u.error}}this.recordHistory(n,d)})}recordHistory(e,n,o){let s=[];n.length>0&&n.every(a=>a.role!==void 0)?s=n:s.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...bn(o)):this.history.push(e),this.history.push(...s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ke extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Ke.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oa(t,e){const n={},o=i(t,["pageSize"]);e!==void 0&&o!=null&&r(e,["_query","pageSize"],o);const s=i(t,["pageToken"]);return e!==void 0&&s!=null&&r(e,["_query","pageToken"],s),n}function ia(t){const e={},n=i(t,["config"]);return n!=null&&r(e,["config"],oa(n,e)),e}function ra(t){const e={},n=i(t,["details"]);n!=null&&r(e,["details"],n);const o=i(t,["message"]);o!=null&&r(e,["message"],o);const s=i(t,["code"]);return s!=null&&r(e,["code"],s),e}function sa(t){const e={},n=i(t,["name"]);n!=null&&r(e,["name"],n);const o=i(t,["displayName"]);o!=null&&r(e,["displayName"],o);const s=i(t,["mimeType"]);s!=null&&r(e,["mimeType"],s);const a=i(t,["sizeBytes"]);a!=null&&r(e,["sizeBytes"],a);const l=i(t,["createTime"]);l!=null&&r(e,["createTime"],l);const u=i(t,["expirationTime"]);u!=null&&r(e,["expirationTime"],u);const f=i(t,["updateTime"]);f!=null&&r(e,["updateTime"],f);const c=i(t,["sha256Hash"]);c!=null&&r(e,["sha256Hash"],c);const d=i(t,["uri"]);d!=null&&r(e,["uri"],d);const p=i(t,["downloadUri"]);p!=null&&r(e,["downloadUri"],p);const m=i(t,["state"]);m!=null&&r(e,["state"],m);const h=i(t,["source"]);h!=null&&r(e,["source"],h);const g=i(t,["videoMetadata"]);g!=null&&r(e,["videoMetadata"],g);const T=i(t,["error"]);return T!=null&&r(e,["error"],ra(T)),e}function aa(t){const e={},n=i(t,["file"]);n!=null&&r(e,["file"],sa(n));const o=i(t,["config"]);return o!=null&&r(e,["config"],o),e}function la(t){const e={},n=i(t,["name"]);n!=null&&r(e,["_url","file"],yo(n));const o=i(t,["config"]);return o!=null&&r(e,["config"],o),e}function ua(t){const e={},n=i(t,["name"]);n!=null&&r(e,["_url","file"],yo(n));const o=i(t,["config"]);return o!=null&&r(e,["config"],o),e}function ca(t){const e={},n=i(t,["details"]);n!=null&&r(e,["details"],n);const o=i(t,["message"]);o!=null&&r(e,["message"],o);const s=i(t,["code"]);return s!=null&&r(e,["code"],s),e}function ft(t){const e={},n=i(t,["name"]);n!=null&&r(e,["name"],n);const o=i(t,["displayName"]);o!=null&&r(e,["displayName"],o);const s=i(t,["mimeType"]);s!=null&&r(e,["mimeType"],s);const a=i(t,["sizeBytes"]);a!=null&&r(e,["sizeBytes"],a);const l=i(t,["createTime"]);l!=null&&r(e,["createTime"],l);const u=i(t,["expirationTime"]);u!=null&&r(e,["expirationTime"],u);const f=i(t,["updateTime"]);f!=null&&r(e,["updateTime"],f);const c=i(t,["sha256Hash"]);c!=null&&r(e,["sha256Hash"],c);const d=i(t,["uri"]);d!=null&&r(e,["uri"],d);const p=i(t,["downloadUri"]);p!=null&&r(e,["downloadUri"],p);const m=i(t,["state"]);m!=null&&r(e,["state"],m);const h=i(t,["source"]);h!=null&&r(e,["source"],h);const g=i(t,["videoMetadata"]);g!=null&&r(e,["videoMetadata"],g);const T=i(t,["error"]);return T!=null&&r(e,["error"],ca(T)),e}function fa(t){const e={},n=i(t,["nextPageToken"]);n!=null&&r(e,["nextPageToken"],n);const o=i(t,["files"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>ft(a))),r(e,["files"],s)}return e}function da(){return{}}function pa(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ma extends ce{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new De(ue.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>ft(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,o;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ia(e);return a=S("files",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>{const c=fa(f),d=new xi;return Object.assign(d,c),d})}}async createInternal(e){var n,o;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=aa(e);return a=S("upload/v1beta/files",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(()=>{const f=da(),c=new Ri;return Object.assign(c,f),c})}}async get(e){var n,o;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=la(e);return a=S("files/{file}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>ft(f))}}async delete(e){var n,o;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ua(e);return a=S("files/{file}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(()=>{const f=pa(),c=new Pi;return Object.assign(c,f),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ha(t){const e={},n=i(t,["voiceName"]);return n!=null&&r(e,["voiceName"],n),e}function ga(t){const e={},n=i(t,["voiceName"]);return n!=null&&r(e,["voiceName"],n),e}function xo(t){const e={},n=i(t,["prebuiltVoiceConfig"]);return n!=null&&r(e,["prebuiltVoiceConfig"],ha(n)),e}function ya(t){const e={},n=i(t,["prebuiltVoiceConfig"]);return n!=null&&r(e,["prebuiltVoiceConfig"],ga(n)),e}function Ta(t){const e={},n=i(t,["speaker"]);n!=null&&r(e,["speaker"],n);const o=i(t,["voiceConfig"]);return o!=null&&r(e,["voiceConfig"],xo(o)),e}function va(t){const e={},n=i(t,["speakerVoiceConfigs"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Ta(s))),r(e,["speakerVoiceConfigs"],o)}return e}function Ca(t){const e={},n=i(t,["voiceConfig"]);n!=null&&r(e,["voiceConfig"],xo(n));const o=i(t,["multiSpeakerVoiceConfig"]);o!=null&&r(e,["multiSpeakerVoiceConfig"],va(o));const s=i(t,["languageCode"]);return s!=null&&r(e,["languageCode"],s),e}function _a(t){const e={},n=i(t,["voiceConfig"]);if(n!=null&&r(e,["voiceConfig"],ya(n)),i(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=i(t,["languageCode"]);return o!=null&&r(e,["languageCode"],o),e}function Ea(t){const e={},n=i(t,["fps"]);n!=null&&r(e,["fps"],n);const o=i(t,["endOffset"]);o!=null&&r(e,["endOffset"],o);const s=i(t,["startOffset"]);return s!=null&&r(e,["startOffset"],s),e}function Sa(t){const e={},n=i(t,["fps"]);n!=null&&r(e,["fps"],n);const o=i(t,["endOffset"]);o!=null&&r(e,["endOffset"],o);const s=i(t,["startOffset"]);return s!=null&&r(e,["startOffset"],s),e}function Aa(t){const e={};if(i(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=i(t,["data"]);n!=null&&r(e,["data"],n);const o=i(t,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function Ia(t){const e={},n=i(t,["displayName"]);n!=null&&r(e,["displayName"],n);const o=i(t,["data"]);o!=null&&r(e,["data"],o);const s=i(t,["mimeType"]);return s!=null&&r(e,["mimeType"],s),e}function Ma(t){const e={};if(i(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=i(t,["fileUri"]);n!=null&&r(e,["fileUri"],n);const o=i(t,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function xa(t){const e={},n=i(t,["displayName"]);n!=null&&r(e,["displayName"],n);const o=i(t,["fileUri"]);o!=null&&r(e,["fileUri"],o);const s=i(t,["mimeType"]);return s!=null&&r(e,["mimeType"],s),e}function Ra(t){const e={},n=i(t,["videoMetadata"]);n!=null&&r(e,["videoMetadata"],Ea(n));const o=i(t,["thought"]);o!=null&&r(e,["thought"],o);const s=i(t,["inlineData"]);s!=null&&r(e,["inlineData"],Aa(s));const a=i(t,["fileData"]);a!=null&&r(e,["fileData"],Ma(a));const l=i(t,["thoughtSignature"]);l!=null&&r(e,["thoughtSignature"],l);const u=i(t,["codeExecutionResult"]);u!=null&&r(e,["codeExecutionResult"],u);const f=i(t,["executableCode"]);f!=null&&r(e,["executableCode"],f);const c=i(t,["functionCall"]);c!=null&&r(e,["functionCall"],c);const d=i(t,["functionResponse"]);d!=null&&r(e,["functionResponse"],d);const p=i(t,["text"]);return p!=null&&r(e,["text"],p),e}function Pa(t){const e={},n=i(t,["videoMetadata"]);n!=null&&r(e,["videoMetadata"],Sa(n));const o=i(t,["thought"]);o!=null&&r(e,["thought"],o);const s=i(t,["inlineData"]);s!=null&&r(e,["inlineData"],Ia(s));const a=i(t,["fileData"]);a!=null&&r(e,["fileData"],xa(a));const l=i(t,["thoughtSignature"]);l!=null&&r(e,["thoughtSignature"],l);const u=i(t,["codeExecutionResult"]);u!=null&&r(e,["codeExecutionResult"],u);const f=i(t,["executableCode"]);f!=null&&r(e,["executableCode"],f);const c=i(t,["functionCall"]);c!=null&&r(e,["functionCall"],c);const d=i(t,["functionResponse"]);d!=null&&r(e,["functionResponse"],d);const p=i(t,["text"]);return p!=null&&r(e,["text"],p),e}function wa(t){const e={},n=i(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>Ra(a))),r(e,["parts"],s)}const o=i(t,["role"]);return o!=null&&r(e,["role"],o),e}function Na(t){const e={},n=i(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>Pa(a))),r(e,["parts"],s)}const o=i(t,["role"]);return o!=null&&r(e,["role"],o),e}function Da(t){const e={},n=i(t,["behavior"]);n!=null&&r(e,["behavior"],n);const o=i(t,["description"]);o!=null&&r(e,["description"],o);const s=i(t,["name"]);s!=null&&r(e,["name"],s);const a=i(t,["parameters"]);a!=null&&r(e,["parameters"],a);const l=i(t,["parametersJsonSchema"]);l!=null&&r(e,["parametersJsonSchema"],l);const u=i(t,["response"]);u!=null&&r(e,["response"],u);const f=i(t,["responseJsonSchema"]);return f!=null&&r(e,["responseJsonSchema"],f),e}function ka(t){const e={};if(i(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=i(t,["description"]);n!=null&&r(e,["description"],n);const o=i(t,["name"]);o!=null&&r(e,["name"],o);const s=i(t,["parameters"]);s!=null&&r(e,["parameters"],s);const a=i(t,["parametersJsonSchema"]);a!=null&&r(e,["parametersJsonSchema"],a);const l=i(t,["response"]);l!=null&&r(e,["response"],l);const u=i(t,["responseJsonSchema"]);return u!=null&&r(e,["responseJsonSchema"],u),e}function Ua(t){const e={},n=i(t,["startTime"]);n!=null&&r(e,["startTime"],n);const o=i(t,["endTime"]);return o!=null&&r(e,["endTime"],o),e}function La(t){const e={},n=i(t,["startTime"]);n!=null&&r(e,["startTime"],n);const o=i(t,["endTime"]);return o!=null&&r(e,["endTime"],o),e}function Va(t){const e={},n=i(t,["timeRangeFilter"]);return n!=null&&r(e,["timeRangeFilter"],Ua(n)),e}function Fa(t){const e={},n=i(t,["timeRangeFilter"]);return n!=null&&r(e,["timeRangeFilter"],La(n)),e}function Ga(t){const e={},n=i(t,["mode"]);n!=null&&r(e,["mode"],n);const o=i(t,["dynamicThreshold"]);return o!=null&&r(e,["dynamicThreshold"],o),e}function qa(t){const e={},n=i(t,["mode"]);n!=null&&r(e,["mode"],n);const o=i(t,["dynamicThreshold"]);return o!=null&&r(e,["dynamicThreshold"],o),e}function Ba(t){const e={},n=i(t,["dynamicRetrievalConfig"]);return n!=null&&r(e,["dynamicRetrievalConfig"],Ga(n)),e}function Ja(t){const e={},n=i(t,["dynamicRetrievalConfig"]);return n!=null&&r(e,["dynamicRetrievalConfig"],qa(n)),e}function $a(){return{}}function ba(t){const e={},n=i(t,["apiKeyString"]);return n!=null&&r(e,["apiKeyString"],n),e}function Ha(t){const e={},n=i(t,["apiKeyConfig"]);n!=null&&r(e,["apiKeyConfig"],ba(n));const o=i(t,["authType"]);o!=null&&r(e,["authType"],o);const s=i(t,["googleServiceAccountConfig"]);s!=null&&r(e,["googleServiceAccountConfig"],s);const a=i(t,["httpBasicAuthConfig"]);a!=null&&r(e,["httpBasicAuthConfig"],a);const l=i(t,["oauthConfig"]);l!=null&&r(e,["oauthConfig"],l);const u=i(t,["oidcConfig"]);return u!=null&&r(e,["oidcConfig"],u),e}function Ya(t){const e={},n=i(t,["authConfig"]);return n!=null&&r(e,["authConfig"],Ha(n)),e}function Wa(){return{}}function Ka(){return{}}function Za(t){const e={},n=i(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(c=>Da(c))),r(e,["functionDeclarations"],f)}if(i(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=i(t,["googleSearch"]);o!=null&&r(e,["googleSearch"],Va(o));const s=i(t,["googleSearchRetrieval"]);if(s!=null&&r(e,["googleSearchRetrieval"],Ba(s)),i(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(i(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");i(t,["urlContext"])!=null&&r(e,["urlContext"],Wa());const l=i(t,["codeExecution"]);l!=null&&r(e,["codeExecution"],l);const u=i(t,["computerUse"]);return u!=null&&r(e,["computerUse"],u),e}function Oa(t){const e={},n=i(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>ka(m))),r(e,["functionDeclarations"],p)}const o=i(t,["retrieval"]);o!=null&&r(e,["retrieval"],o);const s=i(t,["googleSearch"]);s!=null&&r(e,["googleSearch"],Fa(s));const a=i(t,["googleSearchRetrieval"]);a!=null&&r(e,["googleSearchRetrieval"],Ja(a)),i(t,["enterpriseWebSearch"])!=null&&r(e,["enterpriseWebSearch"],$a());const u=i(t,["googleMaps"]);u!=null&&r(e,["googleMaps"],Ya(u)),i(t,["urlContext"])!=null&&r(e,["urlContext"],Ka());const c=i(t,["codeExecution"]);c!=null&&r(e,["codeExecution"],c);const d=i(t,["computerUse"]);return d!=null&&r(e,["computerUse"],d),e}function za(t){const e={},n=i(t,["handle"]);if(n!=null&&r(e,["handle"],n),i(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Xa(t){const e={},n=i(t,["handle"]);n!=null&&r(e,["handle"],n);const o=i(t,["transparent"]);return o!=null&&r(e,["transparent"],o),e}function Hn(){return{}}function Yn(){return{}}function Qa(t){const e={},n=i(t,["disabled"]);n!=null&&r(e,["disabled"],n);const o=i(t,["startOfSpeechSensitivity"]);o!=null&&r(e,["startOfSpeechSensitivity"],o);const s=i(t,["endOfSpeechSensitivity"]);s!=null&&r(e,["endOfSpeechSensitivity"],s);const a=i(t,["prefixPaddingMs"]);a!=null&&r(e,["prefixPaddingMs"],a);const l=i(t,["silenceDurationMs"]);return l!=null&&r(e,["silenceDurationMs"],l),e}function ja(t){const e={},n=i(t,["disabled"]);n!=null&&r(e,["disabled"],n);const o=i(t,["startOfSpeechSensitivity"]);o!=null&&r(e,["startOfSpeechSensitivity"],o);const s=i(t,["endOfSpeechSensitivity"]);s!=null&&r(e,["endOfSpeechSensitivity"],s);const a=i(t,["prefixPaddingMs"]);a!=null&&r(e,["prefixPaddingMs"],a);const l=i(t,["silenceDurationMs"]);return l!=null&&r(e,["silenceDurationMs"],l),e}function el(t){const e={},n=i(t,["automaticActivityDetection"]);n!=null&&r(e,["automaticActivityDetection"],Qa(n));const o=i(t,["activityHandling"]);o!=null&&r(e,["activityHandling"],o);const s=i(t,["turnCoverage"]);return s!=null&&r(e,["turnCoverage"],s),e}function tl(t){const e={},n=i(t,["automaticActivityDetection"]);n!=null&&r(e,["automaticActivityDetection"],ja(n));const o=i(t,["activityHandling"]);o!=null&&r(e,["activityHandling"],o);const s=i(t,["turnCoverage"]);return s!=null&&r(e,["turnCoverage"],s),e}function nl(t){const e={},n=i(t,["targetTokens"]);return n!=null&&r(e,["targetTokens"],n),e}function ol(t){const e={},n=i(t,["targetTokens"]);return n!=null&&r(e,["targetTokens"],n),e}function il(t){const e={},n=i(t,["triggerTokens"]);n!=null&&r(e,["triggerTokens"],n);const o=i(t,["slidingWindow"]);return o!=null&&r(e,["slidingWindow"],nl(o)),e}function rl(t){const e={},n=i(t,["triggerTokens"]);n!=null&&r(e,["triggerTokens"],n);const o=i(t,["slidingWindow"]);return o!=null&&r(e,["slidingWindow"],ol(o)),e}function sl(t){const e={},n=i(t,["proactiveAudio"]);return n!=null&&r(e,["proactiveAudio"],n),e}function al(t){const e={},n=i(t,["proactiveAudio"]);return n!=null&&r(e,["proactiveAudio"],n),e}function ll(t,e){const n={},o=i(t,["generationConfig"]);e!==void 0&&o!=null&&r(e,["setup","generationConfig"],o);const s=i(t,["responseModalities"]);e!==void 0&&s!=null&&r(e,["setup","generationConfig","responseModalities"],s);const a=i(t,["temperature"]);e!==void 0&&a!=null&&r(e,["setup","generationConfig","temperature"],a);const l=i(t,["topP"]);e!==void 0&&l!=null&&r(e,["setup","generationConfig","topP"],l);const u=i(t,["topK"]);e!==void 0&&u!=null&&r(e,["setup","generationConfig","topK"],u);const f=i(t,["maxOutputTokens"]);e!==void 0&&f!=null&&r(e,["setup","generationConfig","maxOutputTokens"],f);const c=i(t,["mediaResolution"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","mediaResolution"],c);const d=i(t,["seed"]);e!==void 0&&d!=null&&r(e,["setup","generationConfig","seed"],d);const p=i(t,["speechConfig"]);e!==void 0&&p!=null&&r(e,["setup","generationConfig","speechConfig"],Ca(vt(p)));const m=i(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],m);const h=i(t,["systemInstruction"]);e!==void 0&&h!=null&&r(e,["setup","systemInstruction"],wa($(h)));const g=i(t,["tools"]);if(e!==void 0&&g!=null){let x=Se(g);Array.isArray(x)&&(x=x.map(L=>Za(Ee(L)))),r(e,["setup","tools"],x)}const T=i(t,["sessionResumption"]);e!==void 0&&T!=null&&r(e,["setup","sessionResumption"],za(T));const E=i(t,["inputAudioTranscription"]);e!==void 0&&E!=null&&r(e,["setup","inputAudioTranscription"],Hn());const A=i(t,["outputAudioTranscription"]);e!==void 0&&A!=null&&r(e,["setup","outputAudioTranscription"],Hn());const I=i(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&r(e,["setup","realtimeInputConfig"],el(I));const M=i(t,["contextWindowCompression"]);e!==void 0&&M!=null&&r(e,["setup","contextWindowCompression"],il(M));const w=i(t,["proactivity"]);return e!==void 0&&w!=null&&r(e,["setup","proactivity"],sl(w)),n}function ul(t,e){const n={},o=i(t,["generationConfig"]);e!==void 0&&o!=null&&r(e,["setup","generationConfig"],o);const s=i(t,["responseModalities"]);e!==void 0&&s!=null&&r(e,["setup","generationConfig","responseModalities"],s);const a=i(t,["temperature"]);e!==void 0&&a!=null&&r(e,["setup","generationConfig","temperature"],a);const l=i(t,["topP"]);e!==void 0&&l!=null&&r(e,["setup","generationConfig","topP"],l);const u=i(t,["topK"]);e!==void 0&&u!=null&&r(e,["setup","generationConfig","topK"],u);const f=i(t,["maxOutputTokens"]);e!==void 0&&f!=null&&r(e,["setup","generationConfig","maxOutputTokens"],f);const c=i(t,["mediaResolution"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","mediaResolution"],c);const d=i(t,["seed"]);e!==void 0&&d!=null&&r(e,["setup","generationConfig","seed"],d);const p=i(t,["speechConfig"]);e!==void 0&&p!=null&&r(e,["setup","generationConfig","speechConfig"],_a(vt(p)));const m=i(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],m);const h=i(t,["systemInstruction"]);e!==void 0&&h!=null&&r(e,["setup","systemInstruction"],Na($(h)));const g=i(t,["tools"]);if(e!==void 0&&g!=null){let x=Se(g);Array.isArray(x)&&(x=x.map(L=>Oa(Ee(L)))),r(e,["setup","tools"],x)}const T=i(t,["sessionResumption"]);e!==void 0&&T!=null&&r(e,["setup","sessionResumption"],Xa(T));const E=i(t,["inputAudioTranscription"]);e!==void 0&&E!=null&&r(e,["setup","inputAudioTranscription"],Yn());const A=i(t,["outputAudioTranscription"]);e!==void 0&&A!=null&&r(e,["setup","outputAudioTranscription"],Yn());const I=i(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&r(e,["setup","realtimeInputConfig"],tl(I));const M=i(t,["contextWindowCompression"]);e!==void 0&&M!=null&&r(e,["setup","contextWindowCompression"],rl(M));const w=i(t,["proactivity"]);return e!==void 0&&w!=null&&r(e,["setup","proactivity"],al(w)),n}function cl(t,e){const n={},o=i(e,["model"]);o!=null&&r(n,["setup","model"],G(t,o));const s=i(e,["config"]);return s!=null&&r(n,["config"],ll(s,n)),n}function fl(t,e){const n={},o=i(e,["model"]);o!=null&&r(n,["setup","model"],G(t,o));const s=i(e,["config"]);return s!=null&&r(n,["config"],ul(s,n)),n}function dl(){return{}}function pl(){return{}}function ml(){return{}}function hl(){return{}}function gl(t){const e={},n=i(t,["media"]);n!=null&&r(e,["mediaChunks"],co(n));const o=i(t,["audio"]);o!=null&&r(e,["audio"],po(o));const s=i(t,["audioStreamEnd"]);s!=null&&r(e,["audioStreamEnd"],s);const a=i(t,["video"]);a!=null&&r(e,["video"],fo(a));const l=i(t,["text"]);return l!=null&&r(e,["text"],l),i(t,["activityStart"])!=null&&r(e,["activityStart"],dl()),i(t,["activityEnd"])!=null&&r(e,["activityEnd"],ml()),e}function yl(t){const e={},n=i(t,["media"]);n!=null&&r(e,["mediaChunks"],co(n));const o=i(t,["audio"]);o!=null&&r(e,["audio"],po(o));const s=i(t,["audioStreamEnd"]);s!=null&&r(e,["audioStreamEnd"],s);const a=i(t,["video"]);a!=null&&r(e,["video"],fo(a));const l=i(t,["text"]);return l!=null&&r(e,["text"],l),i(t,["activityStart"])!=null&&r(e,["activityStart"],pl()),i(t,["activityEnd"])!=null&&r(e,["activityEnd"],hl()),e}function Ro(t){const e={},n=i(t,["text"]);n!=null&&r(e,["text"],n);const o=i(t,["weight"]);return o!=null&&r(e,["weight"],o),e}function Tl(t){const e={},n=i(t,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Ro(s))),r(e,["weightedPrompts"],o)}return e}function Po(t){const e={},n=i(t,["temperature"]);n!=null&&r(e,["temperature"],n);const o=i(t,["topK"]);o!=null&&r(e,["topK"],o);const s=i(t,["seed"]);s!=null&&r(e,["seed"],s);const a=i(t,["guidance"]);a!=null&&r(e,["guidance"],a);const l=i(t,["bpm"]);l!=null&&r(e,["bpm"],l);const u=i(t,["density"]);u!=null&&r(e,["density"],u);const f=i(t,["brightness"]);f!=null&&r(e,["brightness"],f);const c=i(t,["scale"]);c!=null&&r(e,["scale"],c);const d=i(t,["muteBass"]);d!=null&&r(e,["muteBass"],d);const p=i(t,["muteDrums"]);p!=null&&r(e,["muteDrums"],p);const m=i(t,["onlyBassAndDrums"]);return m!=null&&r(e,["onlyBassAndDrums"],m),e}function vl(t){const e={},n=i(t,["musicGenerationConfig"]);return n!=null&&r(e,["musicGenerationConfig"],Po(n)),e}function wo(t){const e={},n=i(t,["model"]);return n!=null&&r(e,["model"],n),e}function No(t){const e={},n=i(t,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Ro(s))),r(e,["weightedPrompts"],o)}return e}function dt(t){const e={},n=i(t,["setup"]);n!=null&&r(e,["setup"],wo(n));const o=i(t,["clientContent"]);o!=null&&r(e,["clientContent"],No(o));const s=i(t,["musicGenerationConfig"]);s!=null&&r(e,["musicGenerationConfig"],Po(s));const a=i(t,["playbackControl"]);return a!=null&&r(e,["playbackControl"],a),e}function Cl(){return{}}function _l(t){const e={},n=i(t,["sessionId"]);return n!=null&&r(e,["sessionId"],n),e}function El(t){const e={},n=i(t,["fps"]);n!=null&&r(e,["fps"],n);const o=i(t,["endOffset"]);o!=null&&r(e,["endOffset"],o);const s=i(t,["startOffset"]);return s!=null&&r(e,["startOffset"],s),e}function Sl(t){const e={},n=i(t,["fps"]);n!=null&&r(e,["fps"],n);const o=i(t,["endOffset"]);o!=null&&r(e,["endOffset"],o);const s=i(t,["startOffset"]);return s!=null&&r(e,["startOffset"],s),e}function Al(t){const e={},n=i(t,["data"]);n!=null&&r(e,["data"],n);const o=i(t,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function Il(t){const e={},n=i(t,["displayName"]);n!=null&&r(e,["displayName"],n);const o=i(t,["data"]);o!=null&&r(e,["data"],o);const s=i(t,["mimeType"]);return s!=null&&r(e,["mimeType"],s),e}function Ml(t){const e={},n=i(t,["fileUri"]);n!=null&&r(e,["fileUri"],n);const o=i(t,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function xl(t){const e={},n=i(t,["displayName"]);n!=null&&r(e,["displayName"],n);const o=i(t,["fileUri"]);o!=null&&r(e,["fileUri"],o);const s=i(t,["mimeType"]);return s!=null&&r(e,["mimeType"],s),e}function Rl(t){const e={},n=i(t,["videoMetadata"]);n!=null&&r(e,["videoMetadata"],El(n));const o=i(t,["thought"]);o!=null&&r(e,["thought"],o);const s=i(t,["inlineData"]);s!=null&&r(e,["inlineData"],Al(s));const a=i(t,["fileData"]);a!=null&&r(e,["fileData"],Ml(a));const l=i(t,["thoughtSignature"]);l!=null&&r(e,["thoughtSignature"],l);const u=i(t,["codeExecutionResult"]);u!=null&&r(e,["codeExecutionResult"],u);const f=i(t,["executableCode"]);f!=null&&r(e,["executableCode"],f);const c=i(t,["functionCall"]);c!=null&&r(e,["functionCall"],c);const d=i(t,["functionResponse"]);d!=null&&r(e,["functionResponse"],d);const p=i(t,["text"]);return p!=null&&r(e,["text"],p),e}function Pl(t){const e={},n=i(t,["videoMetadata"]);n!=null&&r(e,["videoMetadata"],Sl(n));const o=i(t,["thought"]);o!=null&&r(e,["thought"],o);const s=i(t,["inlineData"]);s!=null&&r(e,["inlineData"],Il(s));const a=i(t,["fileData"]);a!=null&&r(e,["fileData"],xl(a));const l=i(t,["thoughtSignature"]);l!=null&&r(e,["thoughtSignature"],l);const u=i(t,["codeExecutionResult"]);u!=null&&r(e,["codeExecutionResult"],u);const f=i(t,["executableCode"]);f!=null&&r(e,["executableCode"],f);const c=i(t,["functionCall"]);c!=null&&r(e,["functionCall"],c);const d=i(t,["functionResponse"]);d!=null&&r(e,["functionResponse"],d);const p=i(t,["text"]);return p!=null&&r(e,["text"],p),e}function wl(t){const e={},n=i(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>Rl(a))),r(e,["parts"],s)}const o=i(t,["role"]);return o!=null&&r(e,["role"],o),e}function Nl(t){const e={},n=i(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>Pl(a))),r(e,["parts"],s)}const o=i(t,["role"]);return o!=null&&r(e,["role"],o),e}function Wn(t){const e={},n=i(t,["text"]);n!=null&&r(e,["text"],n);const o=i(t,["finished"]);return o!=null&&r(e,["finished"],o),e}function Kn(t){const e={},n=i(t,["text"]);n!=null&&r(e,["text"],n);const o=i(t,["finished"]);return o!=null&&r(e,["finished"],o),e}function Dl(t){const e={},n=i(t,["retrievedUrl"]);n!=null&&r(e,["retrievedUrl"],n);const o=i(t,["urlRetrievalStatus"]);return o!=null&&r(e,["urlRetrievalStatus"],o),e}function kl(t){const e={},n=i(t,["urlMetadata"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Dl(s))),r(e,["urlMetadata"],o)}return e}function Ul(t){const e={},n=i(t,["modelTurn"]);n!=null&&r(e,["modelTurn"],wl(n));const o=i(t,["turnComplete"]);o!=null&&r(e,["turnComplete"],o);const s=i(t,["interrupted"]);s!=null&&r(e,["interrupted"],s);const a=i(t,["groundingMetadata"]);a!=null&&r(e,["groundingMetadata"],a);const l=i(t,["generationComplete"]);l!=null&&r(e,["generationComplete"],l);const u=i(t,["inputTranscription"]);u!=null&&r(e,["inputTranscription"],Wn(u));const f=i(t,["outputTranscription"]);f!=null&&r(e,["outputTranscription"],Wn(f));const c=i(t,["urlContextMetadata"]);return c!=null&&r(e,["urlContextMetadata"],kl(c)),e}function Ll(t){const e={},n=i(t,["modelTurn"]);n!=null&&r(e,["modelTurn"],Nl(n));const o=i(t,["turnComplete"]);o!=null&&r(e,["turnComplete"],o);const s=i(t,["interrupted"]);s!=null&&r(e,["interrupted"],s);const a=i(t,["groundingMetadata"]);a!=null&&r(e,["groundingMetadata"],a);const l=i(t,["generationComplete"]);l!=null&&r(e,["generationComplete"],l);const u=i(t,["inputTranscription"]);u!=null&&r(e,["inputTranscription"],Kn(u));const f=i(t,["outputTranscription"]);return f!=null&&r(e,["outputTranscription"],Kn(f)),e}function Vl(t){const e={},n=i(t,["id"]);n!=null&&r(e,["id"],n);const o=i(t,["args"]);o!=null&&r(e,["args"],o);const s=i(t,["name"]);return s!=null&&r(e,["name"],s),e}function Fl(t){const e={},n=i(t,["args"]);n!=null&&r(e,["args"],n);const o=i(t,["name"]);return o!=null&&r(e,["name"],o),e}function Gl(t){const e={},n=i(t,["functionCalls"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Vl(s))),r(e,["functionCalls"],o)}return e}function ql(t){const e={},n=i(t,["functionCalls"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Fl(s))),r(e,["functionCalls"],o)}return e}function Bl(t){const e={},n=i(t,["ids"]);return n!=null&&r(e,["ids"],n),e}function Jl(t){const e={},n=i(t,["ids"]);return n!=null&&r(e,["ids"],n),e}function ke(t){const e={},n=i(t,["modality"]);n!=null&&r(e,["modality"],n);const o=i(t,["tokenCount"]);return o!=null&&r(e,["tokenCount"],o),e}function Ue(t){const e={},n=i(t,["modality"]);n!=null&&r(e,["modality"],n);const o=i(t,["tokenCount"]);return o!=null&&r(e,["tokenCount"],o),e}function $l(t){const e={},n=i(t,["promptTokenCount"]);n!=null&&r(e,["promptTokenCount"],n);const o=i(t,["cachedContentTokenCount"]);o!=null&&r(e,["cachedContentTokenCount"],o);const s=i(t,["responseTokenCount"]);s!=null&&r(e,["responseTokenCount"],s);const a=i(t,["toolUsePromptTokenCount"]);a!=null&&r(e,["toolUsePromptTokenCount"],a);const l=i(t,["thoughtsTokenCount"]);l!=null&&r(e,["thoughtsTokenCount"],l);const u=i(t,["totalTokenCount"]);u!=null&&r(e,["totalTokenCount"],u);const f=i(t,["promptTokensDetails"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(h=>ke(h))),r(e,["promptTokensDetails"],m)}const c=i(t,["cacheTokensDetails"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(h=>ke(h))),r(e,["cacheTokensDetails"],m)}const d=i(t,["responseTokensDetails"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(h=>ke(h))),r(e,["responseTokensDetails"],m)}const p=i(t,["toolUsePromptTokensDetails"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(h=>ke(h))),r(e,["toolUsePromptTokensDetails"],m)}return e}function bl(t){const e={},n=i(t,["promptTokenCount"]);n!=null&&r(e,["promptTokenCount"],n);const o=i(t,["cachedContentTokenCount"]);o!=null&&r(e,["cachedContentTokenCount"],o);const s=i(t,["candidatesTokenCount"]);s!=null&&r(e,["responseTokenCount"],s);const a=i(t,["toolUsePromptTokenCount"]);a!=null&&r(e,["toolUsePromptTokenCount"],a);const l=i(t,["thoughtsTokenCount"]);l!=null&&r(e,["thoughtsTokenCount"],l);const u=i(t,["totalTokenCount"]);u!=null&&r(e,["totalTokenCount"],u);const f=i(t,["promptTokensDetails"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>Ue(g))),r(e,["promptTokensDetails"],h)}const c=i(t,["cacheTokensDetails"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(g=>Ue(g))),r(e,["cacheTokensDetails"],h)}const d=i(t,["candidatesTokensDetails"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>Ue(g))),r(e,["responseTokensDetails"],h)}const p=i(t,["toolUsePromptTokensDetails"]);if(p!=null){let h=p;Array.isArray(h)&&(h=h.map(g=>Ue(g))),r(e,["toolUsePromptTokensDetails"],h)}const m=i(t,["trafficType"]);return m!=null&&r(e,["trafficType"],m),e}function Hl(t){const e={},n=i(t,["timeLeft"]);return n!=null&&r(e,["timeLeft"],n),e}function Yl(t){const e={},n=i(t,["timeLeft"]);return n!=null&&r(e,["timeLeft"],n),e}function Wl(t){const e={},n=i(t,["newHandle"]);n!=null&&r(e,["newHandle"],n);const o=i(t,["resumable"]);o!=null&&r(e,["resumable"],o);const s=i(t,["lastConsumedClientMessageIndex"]);return s!=null&&r(e,["lastConsumedClientMessageIndex"],s),e}function Kl(t){const e={},n=i(t,["newHandle"]);n!=null&&r(e,["newHandle"],n);const o=i(t,["resumable"]);o!=null&&r(e,["resumable"],o);const s=i(t,["lastConsumedClientMessageIndex"]);return s!=null&&r(e,["lastConsumedClientMessageIndex"],s),e}function Zl(t){const e={};i(t,["setupComplete"])!=null&&r(e,["setupComplete"],Cl());const o=i(t,["serverContent"]);o!=null&&r(e,["serverContent"],Ul(o));const s=i(t,["toolCall"]);s!=null&&r(e,["toolCall"],Gl(s));const a=i(t,["toolCallCancellation"]);a!=null&&r(e,["toolCallCancellation"],Bl(a));const l=i(t,["usageMetadata"]);l!=null&&r(e,["usageMetadata"],$l(l));const u=i(t,["goAway"]);u!=null&&r(e,["goAway"],Hl(u));const f=i(t,["sessionResumptionUpdate"]);return f!=null&&r(e,["sessionResumptionUpdate"],Wl(f)),e}function Ol(t){const e={},n=i(t,["setupComplete"]);n!=null&&r(e,["setupComplete"],_l(n));const o=i(t,["serverContent"]);o!=null&&r(e,["serverContent"],Ll(o));const s=i(t,["toolCall"]);s!=null&&r(e,["toolCall"],ql(s));const a=i(t,["toolCallCancellation"]);a!=null&&r(e,["toolCallCancellation"],Jl(a));const l=i(t,["usageMetadata"]);l!=null&&r(e,["usageMetadata"],bl(l));const u=i(t,["goAway"]);u!=null&&r(e,["goAway"],Yl(u));const f=i(t,["sessionResumptionUpdate"]);return f!=null&&r(e,["sessionResumptionUpdate"],Kl(f)),e}function zl(){return{}}function Xl(t){const e={},n=i(t,["text"]);n!=null&&r(e,["text"],n);const o=i(t,["weight"]);return o!=null&&r(e,["weight"],o),e}function Ql(t){const e={},n=i(t,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Xl(s))),r(e,["weightedPrompts"],o)}return e}function jl(t){const e={},n=i(t,["temperature"]);n!=null&&r(e,["temperature"],n);const o=i(t,["topK"]);o!=null&&r(e,["topK"],o);const s=i(t,["seed"]);s!=null&&r(e,["seed"],s);const a=i(t,["guidance"]);a!=null&&r(e,["guidance"],a);const l=i(t,["bpm"]);l!=null&&r(e,["bpm"],l);const u=i(t,["density"]);u!=null&&r(e,["density"],u);const f=i(t,["brightness"]);f!=null&&r(e,["brightness"],f);const c=i(t,["scale"]);c!=null&&r(e,["scale"],c);const d=i(t,["muteBass"]);d!=null&&r(e,["muteBass"],d);const p=i(t,["muteDrums"]);p!=null&&r(e,["muteDrums"],p);const m=i(t,["onlyBassAndDrums"]);return m!=null&&r(e,["onlyBassAndDrums"],m),e}function eu(t){const e={},n=i(t,["clientContent"]);n!=null&&r(e,["clientContent"],Ql(n));const o=i(t,["musicGenerationConfig"]);return o!=null&&r(e,["musicGenerationConfig"],jl(o)),e}function tu(t){const e={},n=i(t,["data"]);n!=null&&r(e,["data"],n);const o=i(t,["mimeType"]);o!=null&&r(e,["mimeType"],o);const s=i(t,["sourceMetadata"]);return s!=null&&r(e,["sourceMetadata"],eu(s)),e}function nu(t){const e={},n=i(t,["audioChunks"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>tu(s))),r(e,["audioChunks"],o)}return e}function ou(t){const e={},n=i(t,["text"]);n!=null&&r(e,["text"],n);const o=i(t,["filteredReason"]);return o!=null&&r(e,["filteredReason"],o),e}function iu(t){const e={};i(t,["setupComplete"])!=null&&r(e,["setupComplete"],zl());const o=i(t,["serverContent"]);o!=null&&r(e,["serverContent"],nu(o));const s=i(t,["filteredPrompt"]);return s!=null&&r(e,["filteredPrompt"],ou(s)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ru(t){const e={},n=i(t,["fps"]);n!=null&&r(e,["fps"],n);const o=i(t,["endOffset"]);o!=null&&r(e,["endOffset"],o);const s=i(t,["startOffset"]);return s!=null&&r(e,["startOffset"],s),e}function su(t){const e={};if(i(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=i(t,["data"]);n!=null&&r(e,["data"],n);const o=i(t,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function au(t){const e={};if(i(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=i(t,["fileUri"]);n!=null&&r(e,["fileUri"],n);const o=i(t,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function lu(t){const e={},n=i(t,["videoMetadata"]);n!=null&&r(e,["videoMetadata"],ru(n));const o=i(t,["thought"]);o!=null&&r(e,["thought"],o);const s=i(t,["inlineData"]);s!=null&&r(e,["inlineData"],su(s));const a=i(t,["fileData"]);a!=null&&r(e,["fileData"],au(a));const l=i(t,["thoughtSignature"]);l!=null&&r(e,["thoughtSignature"],l);const u=i(t,["codeExecutionResult"]);u!=null&&r(e,["codeExecutionResult"],u);const f=i(t,["executableCode"]);f!=null&&r(e,["executableCode"],f);const c=i(t,["functionCall"]);c!=null&&r(e,["functionCall"],c);const d=i(t,["functionResponse"]);d!=null&&r(e,["functionResponse"],d);const p=i(t,["text"]);return p!=null&&r(e,["text"],p),e}function Ze(t){const e={},n=i(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>lu(a))),r(e,["parts"],s)}const o=i(t,["role"]);return o!=null&&r(e,["role"],o),e}function uu(t){const e={},n=i(t,["anyOf"]);n!=null&&r(e,["anyOf"],n);const o=i(t,["default"]);o!=null&&r(e,["default"],o);const s=i(t,["description"]);s!=null&&r(e,["description"],s);const a=i(t,["enum"]);a!=null&&r(e,["enum"],a);const l=i(t,["example"]);l!=null&&r(e,["example"],l);const u=i(t,["format"]);u!=null&&r(e,["format"],u);const f=i(t,["items"]);f!=null&&r(e,["items"],f);const c=i(t,["maxItems"]);c!=null&&r(e,["maxItems"],c);const d=i(t,["maxLength"]);d!=null&&r(e,["maxLength"],d);const p=i(t,["maxProperties"]);p!=null&&r(e,["maxProperties"],p);const m=i(t,["maximum"]);m!=null&&r(e,["maximum"],m);const h=i(t,["minItems"]);h!=null&&r(e,["minItems"],h);const g=i(t,["minLength"]);g!=null&&r(e,["minLength"],g);const T=i(t,["minProperties"]);T!=null&&r(e,["minProperties"],T);const E=i(t,["minimum"]);E!=null&&r(e,["minimum"],E);const A=i(t,["nullable"]);A!=null&&r(e,["nullable"],A);const I=i(t,["pattern"]);I!=null&&r(e,["pattern"],I);const M=i(t,["properties"]);M!=null&&r(e,["properties"],M);const w=i(t,["propertyOrdering"]);w!=null&&r(e,["propertyOrdering"],w);const x=i(t,["required"]);x!=null&&r(e,["required"],x);const L=i(t,["title"]);L!=null&&r(e,["title"],L);const V=i(t,["type"]);return V!=null&&r(e,["type"],V),e}function cu(t){const e={};if(i(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=i(t,["category"]);n!=null&&r(e,["category"],n);const o=i(t,["threshold"]);return o!=null&&r(e,["threshold"],o),e}function fu(t){const e={},n=i(t,["behavior"]);n!=null&&r(e,["behavior"],n);const o=i(t,["description"]);o!=null&&r(e,["description"],o);const s=i(t,["name"]);s!=null&&r(e,["name"],s);const a=i(t,["parameters"]);a!=null&&r(e,["parameters"],a);const l=i(t,["parametersJsonSchema"]);l!=null&&r(e,["parametersJsonSchema"],l);const u=i(t,["response"]);u!=null&&r(e,["response"],u);const f=i(t,["responseJsonSchema"]);return f!=null&&r(e,["responseJsonSchema"],f),e}function du(t){const e={},n=i(t,["startTime"]);n!=null&&r(e,["startTime"],n);const o=i(t,["endTime"]);return o!=null&&r(e,["endTime"],o),e}function pu(t){const e={},n=i(t,["timeRangeFilter"]);return n!=null&&r(e,["timeRangeFilter"],du(n)),e}function mu(t){const e={},n=i(t,["mode"]);n!=null&&r(e,["mode"],n);const o=i(t,["dynamicThreshold"]);return o!=null&&r(e,["dynamicThreshold"],o),e}function hu(t){const e={},n=i(t,["dynamicRetrievalConfig"]);return n!=null&&r(e,["dynamicRetrievalConfig"],mu(n)),e}function gu(){return{}}function yu(t){const e={},n=i(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(c=>fu(c))),r(e,["functionDeclarations"],f)}if(i(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=i(t,["googleSearch"]);o!=null&&r(e,["googleSearch"],pu(o));const s=i(t,["googleSearchRetrieval"]);if(s!=null&&r(e,["googleSearchRetrieval"],hu(s)),i(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(i(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");i(t,["urlContext"])!=null&&r(e,["urlContext"],gu());const l=i(t,["codeExecution"]);l!=null&&r(e,["codeExecution"],l);const u=i(t,["computerUse"]);return u!=null&&r(e,["computerUse"],u),e}function Tu(t){const e={},n=i(t,["mode"]);n!=null&&r(e,["mode"],n);const o=i(t,["allowedFunctionNames"]);return o!=null&&r(e,["allowedFunctionNames"],o),e}function vu(t){const e={},n=i(t,["latitude"]);n!=null&&r(e,["latitude"],n);const o=i(t,["longitude"]);return o!=null&&r(e,["longitude"],o),e}function Cu(t){const e={},n=i(t,["latLng"]);n!=null&&r(e,["latLng"],vu(n));const o=i(t,["languageCode"]);return o!=null&&r(e,["languageCode"],o),e}function _u(t){const e={},n=i(t,["functionCallingConfig"]);n!=null&&r(e,["functionCallingConfig"],Tu(n));const o=i(t,["retrievalConfig"]);return o!=null&&r(e,["retrievalConfig"],Cu(o)),e}function Eu(t){const e={},n=i(t,["voiceName"]);return n!=null&&r(e,["voiceName"],n),e}function Do(t){const e={},n=i(t,["prebuiltVoiceConfig"]);return n!=null&&r(e,["prebuiltVoiceConfig"],Eu(n)),e}function Su(t){const e={},n=i(t,["speaker"]);n!=null&&r(e,["speaker"],n);const o=i(t,["voiceConfig"]);return o!=null&&r(e,["voiceConfig"],Do(o)),e}function Au(t){const e={},n=i(t,["speakerVoiceConfigs"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Su(s))),r(e,["speakerVoiceConfigs"],o)}return e}function Iu(t){const e={},n=i(t,["voiceConfig"]);n!=null&&r(e,["voiceConfig"],Do(n));const o=i(t,["multiSpeakerVoiceConfig"]);o!=null&&r(e,["multiSpeakerVoiceConfig"],Au(o));const s=i(t,["languageCode"]);return s!=null&&r(e,["languageCode"],s),e}function Mu(t){const e={},n=i(t,["includeThoughts"]);n!=null&&r(e,["includeThoughts"],n);const o=i(t,["thinkingBudget"]);return o!=null&&r(e,["thinkingBudget"],o),e}function xu(t,e,n){const o={},s=i(e,["systemInstruction"]);n!==void 0&&s!=null&&r(n,["systemInstruction"],Ze($(s)));const a=i(e,["temperature"]);a!=null&&r(o,["temperature"],a);const l=i(e,["topP"]);l!=null&&r(o,["topP"],l);const u=i(e,["topK"]);u!=null&&r(o,["topK"],u);const f=i(e,["candidateCount"]);f!=null&&r(o,["candidateCount"],f);const c=i(e,["maxOutputTokens"]);c!=null&&r(o,["maxOutputTokens"],c);const d=i(e,["stopSequences"]);d!=null&&r(o,["stopSequences"],d);const p=i(e,["responseLogprobs"]);p!=null&&r(o,["responseLogprobs"],p);const m=i(e,["logprobs"]);m!=null&&r(o,["logprobs"],m);const h=i(e,["presencePenalty"]);h!=null&&r(o,["presencePenalty"],h);const g=i(e,["frequencyPenalty"]);g!=null&&r(o,["frequencyPenalty"],g);const T=i(e,["seed"]);T!=null&&r(o,["seed"],T);const E=i(e,["responseMimeType"]);E!=null&&r(o,["responseMimeType"],E);const A=i(e,["responseSchema"]);A!=null&&r(o,["responseSchema"],uu(Ne(A)));const I=i(e,["responseJsonSchema"]);if(I!=null&&r(o,["responseJsonSchema"],I),i(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(i(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const M=i(e,["safetySettings"]);if(n!==void 0&&M!=null){let F=M;Array.isArray(F)&&(F=F.map(K=>cu(K))),r(n,["safetySettings"],F)}const w=i(e,["tools"]);if(n!==void 0&&w!=null){let F=Se(w);Array.isArray(F)&&(F=F.map(K=>yu(Ee(K)))),r(n,["tools"],F)}const x=i(e,["toolConfig"]);if(n!==void 0&&x!=null&&r(n,["toolConfig"],_u(x)),i(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const L=i(e,["cachedContent"]);n!==void 0&&L!=null&&r(n,["cachedContent"],ee(t,L));const V=i(e,["responseModalities"]);V!=null&&r(o,["responseModalities"],V);const H=i(e,["mediaResolution"]);H!=null&&r(o,["mediaResolution"],H);const N=i(e,["speechConfig"]);if(N!=null&&r(o,["speechConfig"],Iu(Tt(N))),i(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const q=i(e,["thinkingConfig"]);return q!=null&&r(o,["thinkingConfig"],Mu(q)),o}function Zn(t,e){const n={},o=i(e,["model"]);o!=null&&r(n,["_url","model"],G(t,o));const s=i(e,["contents"]);if(s!=null){let l=Y(s);Array.isArray(l)&&(l=l.map(u=>Ze(u))),r(n,["contents"],l)}const a=i(e,["config"]);return a!=null&&r(n,["generationConfig"],xu(t,a,n)),n}function Ru(t,e){const n={},o=i(t,["taskType"]);e!==void 0&&o!=null&&r(e,["requests[]","taskType"],o);const s=i(t,["title"]);e!==void 0&&s!=null&&r(e,["requests[]","title"],s);const a=i(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&r(e,["requests[]","outputDimensionality"],a),i(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(i(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Pu(t,e){const n={},o=i(e,["model"]);o!=null&&r(n,["_url","model"],G(t,o));const s=i(e,["contents"]);s!=null&&r(n,["requests[]","content"],ho(t,s));const a=i(e,["config"]);a!=null&&r(n,["config"],Ru(a,n));const l=i(e,["model"]);return l!==void 0&&r(n,["requests[]","model"],G(t,l)),n}function wu(t,e){const n={};if(i(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(i(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=i(t,["numberOfImages"]);e!==void 0&&o!=null&&r(e,["parameters","sampleCount"],o);const s=i(t,["aspectRatio"]);e!==void 0&&s!=null&&r(e,["parameters","aspectRatio"],s);const a=i(t,["guidanceScale"]);if(e!==void 0&&a!=null&&r(e,["parameters","guidanceScale"],a),i(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=i(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&r(e,["parameters","safetySetting"],l);const u=i(t,["personGeneration"]);e!==void 0&&u!=null&&r(e,["parameters","personGeneration"],u);const f=i(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&r(e,["parameters","includeSafetyAttributes"],f);const c=i(t,["includeRaiReason"]);e!==void 0&&c!=null&&r(e,["parameters","includeRaiReason"],c);const d=i(t,["language"]);e!==void 0&&d!=null&&r(e,["parameters","language"],d);const p=i(t,["outputMimeType"]);e!==void 0&&p!=null&&r(e,["parameters","outputOptions","mimeType"],p);const m=i(t,["outputCompressionQuality"]);if(e!==void 0&&m!=null&&r(e,["parameters","outputOptions","compressionQuality"],m),i(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(i(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Nu(t,e){const n={},o=i(e,["model"]);o!=null&&r(n,["_url","model"],G(t,o));const s=i(e,["prompt"]);s!=null&&r(n,["instances[0]","prompt"],s);const a=i(e,["config"]);return a!=null&&r(n,["config"],wu(a,n)),n}function Du(t,e){const n={},o=i(e,["model"]);o!=null&&r(n,["_url","name"],G(t,o));const s=i(e,["config"]);return s!=null&&r(n,["config"],s),n}function ku(t,e,n){const o={},s=i(e,["pageSize"]);n!==void 0&&s!=null&&r(n,["_query","pageSize"],s);const a=i(e,["pageToken"]);n!==void 0&&a!=null&&r(n,["_query","pageToken"],a);const l=i(e,["filter"]);n!==void 0&&l!=null&&r(n,["_query","filter"],l);const u=i(e,["queryBase"]);return n!==void 0&&u!=null&&r(n,["_url","models_url"],To(t,u)),o}function Uu(t,e){const n={},o=i(e,["config"]);return o!=null&&r(n,["config"],ku(t,o,n)),n}function Lu(t,e){const n={},o=i(t,["displayName"]);e!==void 0&&o!=null&&r(e,["displayName"],o);const s=i(t,["description"]);e!==void 0&&s!=null&&r(e,["description"],s);const a=i(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&r(e,["defaultCheckpointId"],a),n}function Vu(t,e){const n={},o=i(e,["model"]);o!=null&&r(n,["_url","name"],G(t,o));const s=i(e,["config"]);return s!=null&&r(n,["config"],Lu(s,n)),n}function Fu(t,e){const n={},o=i(e,["model"]);o!=null&&r(n,["_url","name"],G(t,o));const s=i(e,["config"]);return s!=null&&r(n,["config"],s),n}function Gu(t){const e={};if(i(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(i(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(i(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function qu(t,e){const n={},o=i(e,["model"]);o!=null&&r(n,["_url","model"],G(t,o));const s=i(e,["contents"]);if(s!=null){let l=Y(s);Array.isArray(l)&&(l=l.map(u=>Ze(u))),r(n,["contents"],l)}const a=i(e,["config"]);return a!=null&&r(n,["config"],Gu(a)),n}function Bu(t){const e={};if(i(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=i(t,["imageBytes"]);n!=null&&r(e,["bytesBase64Encoded"],te(n));const o=i(t,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function Ju(t,e){const n={},o=i(t,["numberOfVideos"]);if(e!==void 0&&o!=null&&r(e,["parameters","sampleCount"],o),i(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(i(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=i(t,["durationSeconds"]);if(e!==void 0&&s!=null&&r(e,["parameters","durationSeconds"],s),i(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=i(t,["aspectRatio"]);if(e!==void 0&&a!=null&&r(e,["parameters","aspectRatio"],a),i(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const l=i(t,["personGeneration"]);if(e!==void 0&&l!=null&&r(e,["parameters","personGeneration"],l),i(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const u=i(t,["negativePrompt"]);e!==void 0&&u!=null&&r(e,["parameters","negativePrompt"],u);const f=i(t,["enhancePrompt"]);if(e!==void 0&&f!=null&&r(e,["parameters","enhancePrompt"],f),i(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(i(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(i(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function $u(t,e){const n={},o=i(e,["model"]);o!=null&&r(n,["_url","model"],G(t,o));const s=i(e,["prompt"]);s!=null&&r(n,["instances[0]","prompt"],s);const a=i(e,["image"]);if(a!=null&&r(n,["instances[0]","image"],Bu(a)),i(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const l=i(e,["config"]);return l!=null&&r(n,["config"],Ju(l,n)),n}function bu(t){const e={},n=i(t,["fps"]);n!=null&&r(e,["fps"],n);const o=i(t,["endOffset"]);o!=null&&r(e,["endOffset"],o);const s=i(t,["startOffset"]);return s!=null&&r(e,["startOffset"],s),e}function Hu(t){const e={},n=i(t,["displayName"]);n!=null&&r(e,["displayName"],n);const o=i(t,["data"]);o!=null&&r(e,["data"],o);const s=i(t,["mimeType"]);return s!=null&&r(e,["mimeType"],s),e}function Yu(t){const e={},n=i(t,["displayName"]);n!=null&&r(e,["displayName"],n);const o=i(t,["fileUri"]);o!=null&&r(e,["fileUri"],o);const s=i(t,["mimeType"]);return s!=null&&r(e,["mimeType"],s),e}function Wu(t){const e={},n=i(t,["videoMetadata"]);n!=null&&r(e,["videoMetadata"],bu(n));const o=i(t,["thought"]);o!=null&&r(e,["thought"],o);const s=i(t,["inlineData"]);s!=null&&r(e,["inlineData"],Hu(s));const a=i(t,["fileData"]);a!=null&&r(e,["fileData"],Yu(a));const l=i(t,["thoughtSignature"]);l!=null&&r(e,["thoughtSignature"],l);const u=i(t,["codeExecutionResult"]);u!=null&&r(e,["codeExecutionResult"],u);const f=i(t,["executableCode"]);f!=null&&r(e,["executableCode"],f);const c=i(t,["functionCall"]);c!=null&&r(e,["functionCall"],c);const d=i(t,["functionResponse"]);d!=null&&r(e,["functionResponse"],d);const p=i(t,["text"]);return p!=null&&r(e,["text"],p),e}function Ie(t){const e={},n=i(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>Wu(a))),r(e,["parts"],s)}const o=i(t,["role"]);return o!=null&&r(e,["role"],o),e}function Ku(t){const e={},n=i(t,["anyOf"]);n!=null&&r(e,["anyOf"],n);const o=i(t,["default"]);o!=null&&r(e,["default"],o);const s=i(t,["description"]);s!=null&&r(e,["description"],s);const a=i(t,["enum"]);a!=null&&r(e,["enum"],a);const l=i(t,["example"]);l!=null&&r(e,["example"],l);const u=i(t,["format"]);u!=null&&r(e,["format"],u);const f=i(t,["items"]);f!=null&&r(e,["items"],f);const c=i(t,["maxItems"]);c!=null&&r(e,["maxItems"],c);const d=i(t,["maxLength"]);d!=null&&r(e,["maxLength"],d);const p=i(t,["maxProperties"]);p!=null&&r(e,["maxProperties"],p);const m=i(t,["maximum"]);m!=null&&r(e,["maximum"],m);const h=i(t,["minItems"]);h!=null&&r(e,["minItems"],h);const g=i(t,["minLength"]);g!=null&&r(e,["minLength"],g);const T=i(t,["minProperties"]);T!=null&&r(e,["minProperties"],T);const E=i(t,["minimum"]);E!=null&&r(e,["minimum"],E);const A=i(t,["nullable"]);A!=null&&r(e,["nullable"],A);const I=i(t,["pattern"]);I!=null&&r(e,["pattern"],I);const M=i(t,["properties"]);M!=null&&r(e,["properties"],M);const w=i(t,["propertyOrdering"]);w!=null&&r(e,["propertyOrdering"],w);const x=i(t,["required"]);x!=null&&r(e,["required"],x);const L=i(t,["title"]);L!=null&&r(e,["title"],L);const V=i(t,["type"]);return V!=null&&r(e,["type"],V),e}function Zu(t){const e={},n=i(t,["featureSelectionPreference"]);return n!=null&&r(e,["featureSelectionPreference"],n),e}function Ou(t){const e={},n=i(t,["method"]);n!=null&&r(e,["method"],n);const o=i(t,["category"]);o!=null&&r(e,["category"],o);const s=i(t,["threshold"]);return s!=null&&r(e,["threshold"],s),e}function zu(t){const e={};if(i(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=i(t,["description"]);n!=null&&r(e,["description"],n);const o=i(t,["name"]);o!=null&&r(e,["name"],o);const s=i(t,["parameters"]);s!=null&&r(e,["parameters"],s);const a=i(t,["parametersJsonSchema"]);a!=null&&r(e,["parametersJsonSchema"],a);const l=i(t,["response"]);l!=null&&r(e,["response"],l);const u=i(t,["responseJsonSchema"]);return u!=null&&r(e,["responseJsonSchema"],u),e}function Xu(t){const e={},n=i(t,["startTime"]);n!=null&&r(e,["startTime"],n);const o=i(t,["endTime"]);return o!=null&&r(e,["endTime"],o),e}function Qu(t){const e={},n=i(t,["timeRangeFilter"]);return n!=null&&r(e,["timeRangeFilter"],Xu(n)),e}function ju(t){const e={},n=i(t,["mode"]);n!=null&&r(e,["mode"],n);const o=i(t,["dynamicThreshold"]);return o!=null&&r(e,["dynamicThreshold"],o),e}function ec(t){const e={},n=i(t,["dynamicRetrievalConfig"]);return n!=null&&r(e,["dynamicRetrievalConfig"],ju(n)),e}function tc(){return{}}function nc(t){const e={},n=i(t,["apiKeyString"]);return n!=null&&r(e,["apiKeyString"],n),e}function oc(t){const e={},n=i(t,["apiKeyConfig"]);n!=null&&r(e,["apiKeyConfig"],nc(n));const o=i(t,["authType"]);o!=null&&r(e,["authType"],o);const s=i(t,["googleServiceAccountConfig"]);s!=null&&r(e,["googleServiceAccountConfig"],s);const a=i(t,["httpBasicAuthConfig"]);a!=null&&r(e,["httpBasicAuthConfig"],a);const l=i(t,["oauthConfig"]);l!=null&&r(e,["oauthConfig"],l);const u=i(t,["oidcConfig"]);return u!=null&&r(e,["oidcConfig"],u),e}function ic(t){const e={},n=i(t,["authConfig"]);return n!=null&&r(e,["authConfig"],oc(n)),e}function rc(){return{}}function ko(t){const e={},n=i(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>zu(m))),r(e,["functionDeclarations"],p)}const o=i(t,["retrieval"]);o!=null&&r(e,["retrieval"],o);const s=i(t,["googleSearch"]);s!=null&&r(e,["googleSearch"],Qu(s));const a=i(t,["googleSearchRetrieval"]);a!=null&&r(e,["googleSearchRetrieval"],ec(a)),i(t,["enterpriseWebSearch"])!=null&&r(e,["enterpriseWebSearch"],tc());const u=i(t,["googleMaps"]);u!=null&&r(e,["googleMaps"],ic(u)),i(t,["urlContext"])!=null&&r(e,["urlContext"],rc());const c=i(t,["codeExecution"]);c!=null&&r(e,["codeExecution"],c);const d=i(t,["computerUse"]);return d!=null&&r(e,["computerUse"],d),e}function sc(t){const e={},n=i(t,["mode"]);n!=null&&r(e,["mode"],n);const o=i(t,["allowedFunctionNames"]);return o!=null&&r(e,["allowedFunctionNames"],o),e}function ac(t){const e={},n=i(t,["latitude"]);n!=null&&r(e,["latitude"],n);const o=i(t,["longitude"]);return o!=null&&r(e,["longitude"],o),e}function lc(t){const e={},n=i(t,["latLng"]);n!=null&&r(e,["latLng"],ac(n));const o=i(t,["languageCode"]);return o!=null&&r(e,["languageCode"],o),e}function uc(t){const e={},n=i(t,["functionCallingConfig"]);n!=null&&r(e,["functionCallingConfig"],sc(n));const o=i(t,["retrievalConfig"]);return o!=null&&r(e,["retrievalConfig"],lc(o)),e}function cc(t){const e={},n=i(t,["voiceName"]);return n!=null&&r(e,["voiceName"],n),e}function fc(t){const e={},n=i(t,["prebuiltVoiceConfig"]);return n!=null&&r(e,["prebuiltVoiceConfig"],cc(n)),e}function dc(t){const e={},n=i(t,["voiceConfig"]);if(n!=null&&r(e,["voiceConfig"],fc(n)),i(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=i(t,["languageCode"]);return o!=null&&r(e,["languageCode"],o),e}function pc(t){const e={},n=i(t,["includeThoughts"]);n!=null&&r(e,["includeThoughts"],n);const o=i(t,["thinkingBudget"]);return o!=null&&r(e,["thinkingBudget"],o),e}function mc(t,e,n){const o={},s=i(e,["systemInstruction"]);n!==void 0&&s!=null&&r(n,["systemInstruction"],Ie($(s)));const a=i(e,["temperature"]);a!=null&&r(o,["temperature"],a);const l=i(e,["topP"]);l!=null&&r(o,["topP"],l);const u=i(e,["topK"]);u!=null&&r(o,["topK"],u);const f=i(e,["candidateCount"]);f!=null&&r(o,["candidateCount"],f);const c=i(e,["maxOutputTokens"]);c!=null&&r(o,["maxOutputTokens"],c);const d=i(e,["stopSequences"]);d!=null&&r(o,["stopSequences"],d);const p=i(e,["responseLogprobs"]);p!=null&&r(o,["responseLogprobs"],p);const m=i(e,["logprobs"]);m!=null&&r(o,["logprobs"],m);const h=i(e,["presencePenalty"]);h!=null&&r(o,["presencePenalty"],h);const g=i(e,["frequencyPenalty"]);g!=null&&r(o,["frequencyPenalty"],g);const T=i(e,["seed"]);T!=null&&r(o,["seed"],T);const E=i(e,["responseMimeType"]);E!=null&&r(o,["responseMimeType"],E);const A=i(e,["responseSchema"]);A!=null&&r(o,["responseSchema"],Ku(Ne(A)));const I=i(e,["responseJsonSchema"]);I!=null&&r(o,["responseJsonSchema"],I);const M=i(e,["routingConfig"]);M!=null&&r(o,["routingConfig"],M);const w=i(e,["modelSelectionConfig"]);w!=null&&r(o,["modelConfig"],Zu(w));const x=i(e,["safetySettings"]);if(n!==void 0&&x!=null){let Q=x;Array.isArray(Q)&&(Q=Q.map(ze=>Ou(ze))),r(n,["safetySettings"],Q)}const L=i(e,["tools"]);if(n!==void 0&&L!=null){let Q=Se(L);Array.isArray(Q)&&(Q=Q.map(ze=>ko(Ee(ze)))),r(n,["tools"],Q)}const V=i(e,["toolConfig"]);n!==void 0&&V!=null&&r(n,["toolConfig"],uc(V));const H=i(e,["labels"]);n!==void 0&&H!=null&&r(n,["labels"],H);const N=i(e,["cachedContent"]);n!==void 0&&N!=null&&r(n,["cachedContent"],ee(t,N));const q=i(e,["responseModalities"]);q!=null&&r(o,["responseModalities"],q);const F=i(e,["mediaResolution"]);F!=null&&r(o,["mediaResolution"],F);const K=i(e,["speechConfig"]);K!=null&&r(o,["speechConfig"],dc(Tt(K)));const It=i(e,["audioTimestamp"]);It!=null&&r(o,["audioTimestamp"],It);const Mt=i(e,["thinkingConfig"]);return Mt!=null&&r(o,["thinkingConfig"],pc(Mt)),o}function On(t,e){const n={},o=i(e,["model"]);o!=null&&r(n,["_url","model"],G(t,o));const s=i(e,["contents"]);if(s!=null){let l=Y(s);Array.isArray(l)&&(l=l.map(u=>Ie(u))),r(n,["contents"],l)}const a=i(e,["config"]);return a!=null&&r(n,["generationConfig"],mc(t,a,n)),n}function hc(t,e){const n={},o=i(t,["taskType"]);e!==void 0&&o!=null&&r(e,["instances[]","task_type"],o);const s=i(t,["title"]);e!==void 0&&s!=null&&r(e,["instances[]","title"],s);const a=i(t,["outputDimensionality"]);e!==void 0&&a!=null&&r(e,["parameters","outputDimensionality"],a);const l=i(t,["mimeType"]);e!==void 0&&l!=null&&r(e,["instances[]","mimeType"],l);const u=i(t,["autoTruncate"]);return e!==void 0&&u!=null&&r(e,["parameters","autoTruncate"],u),n}function gc(t,e){const n={},o=i(e,["model"]);o!=null&&r(n,["_url","model"],G(t,o));const s=i(e,["contents"]);s!=null&&r(n,["instances[]","content"],ho(t,s));const a=i(e,["config"]);return a!=null&&r(n,["config"],hc(a,n)),n}function yc(t,e){const n={},o=i(t,["outputGcsUri"]);e!==void 0&&o!=null&&r(e,["parameters","storageUri"],o);const s=i(t,["negativePrompt"]);e!==void 0&&s!=null&&r(e,["parameters","negativePrompt"],s);const a=i(t,["numberOfImages"]);e!==void 0&&a!=null&&r(e,["parameters","sampleCount"],a);const l=i(t,["aspectRatio"]);e!==void 0&&l!=null&&r(e,["parameters","aspectRatio"],l);const u=i(t,["guidanceScale"]);e!==void 0&&u!=null&&r(e,["parameters","guidanceScale"],u);const f=i(t,["seed"]);e!==void 0&&f!=null&&r(e,["parameters","seed"],f);const c=i(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&r(e,["parameters","safetySetting"],c);const d=i(t,["personGeneration"]);e!==void 0&&d!=null&&r(e,["parameters","personGeneration"],d);const p=i(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&r(e,["parameters","includeSafetyAttributes"],p);const m=i(t,["includeRaiReason"]);e!==void 0&&m!=null&&r(e,["parameters","includeRaiReason"],m);const h=i(t,["language"]);e!==void 0&&h!=null&&r(e,["parameters","language"],h);const g=i(t,["outputMimeType"]);e!==void 0&&g!=null&&r(e,["parameters","outputOptions","mimeType"],g);const T=i(t,["outputCompressionQuality"]);e!==void 0&&T!=null&&r(e,["parameters","outputOptions","compressionQuality"],T);const E=i(t,["addWatermark"]);e!==void 0&&E!=null&&r(e,["parameters","addWatermark"],E);const A=i(t,["enhancePrompt"]);return e!==void 0&&A!=null&&r(e,["parameters","enhancePrompt"],A),n}function Tc(t,e){const n={},o=i(e,["model"]);o!=null&&r(n,["_url","model"],G(t,o));const s=i(e,["prompt"]);s!=null&&r(n,["instances[0]","prompt"],s);const a=i(e,["config"]);return a!=null&&r(n,["config"],yc(a,n)),n}function Oe(t){const e={},n=i(t,["gcsUri"]);n!=null&&r(e,["gcsUri"],n);const o=i(t,["imageBytes"]);o!=null&&r(e,["bytesBase64Encoded"],te(o));const s=i(t,["mimeType"]);return s!=null&&r(e,["mimeType"],s),e}function vc(t){const e={},n=i(t,["maskMode"]);n!=null&&r(e,["maskMode"],n);const o=i(t,["segmentationClasses"]);o!=null&&r(e,["maskClasses"],o);const s=i(t,["maskDilation"]);return s!=null&&r(e,["dilation"],s),e}function Cc(t){const e={},n=i(t,["controlType"]);n!=null&&r(e,["controlType"],n);const o=i(t,["enableControlImageComputation"]);return o!=null&&r(e,["computeControl"],o),e}function _c(t){const e={},n=i(t,["styleDescription"]);return n!=null&&r(e,["styleDescription"],n),e}function Ec(t){const e={},n=i(t,["subjectType"]);n!=null&&r(e,["subjectType"],n);const o=i(t,["subjectDescription"]);return o!=null&&r(e,["subjectDescription"],o),e}function Sc(t){const e={},n=i(t,["referenceImage"]);n!=null&&r(e,["referenceImage"],Oe(n));const o=i(t,["referenceId"]);o!=null&&r(e,["referenceId"],o);const s=i(t,["referenceType"]);s!=null&&r(e,["referenceType"],s);const a=i(t,["maskImageConfig"]);a!=null&&r(e,["maskImageConfig"],vc(a));const l=i(t,["controlImageConfig"]);l!=null&&r(e,["controlImageConfig"],Cc(l));const u=i(t,["styleImageConfig"]);u!=null&&r(e,["styleImageConfig"],_c(u));const f=i(t,["subjectImageConfig"]);return f!=null&&r(e,["subjectImageConfig"],Ec(f)),e}function Ac(t,e){const n={},o=i(t,["outputGcsUri"]);e!==void 0&&o!=null&&r(e,["parameters","storageUri"],o);const s=i(t,["negativePrompt"]);e!==void 0&&s!=null&&r(e,["parameters","negativePrompt"],s);const a=i(t,["numberOfImages"]);e!==void 0&&a!=null&&r(e,["parameters","sampleCount"],a);const l=i(t,["aspectRatio"]);e!==void 0&&l!=null&&r(e,["parameters","aspectRatio"],l);const u=i(t,["guidanceScale"]);e!==void 0&&u!=null&&r(e,["parameters","guidanceScale"],u);const f=i(t,["seed"]);e!==void 0&&f!=null&&r(e,["parameters","seed"],f);const c=i(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&r(e,["parameters","safetySetting"],c);const d=i(t,["personGeneration"]);e!==void 0&&d!=null&&r(e,["parameters","personGeneration"],d);const p=i(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&r(e,["parameters","includeSafetyAttributes"],p);const m=i(t,["includeRaiReason"]);e!==void 0&&m!=null&&r(e,["parameters","includeRaiReason"],m);const h=i(t,["language"]);e!==void 0&&h!=null&&r(e,["parameters","language"],h);const g=i(t,["outputMimeType"]);e!==void 0&&g!=null&&r(e,["parameters","outputOptions","mimeType"],g);const T=i(t,["outputCompressionQuality"]);e!==void 0&&T!=null&&r(e,["parameters","outputOptions","compressionQuality"],T);const E=i(t,["editMode"]);e!==void 0&&E!=null&&r(e,["parameters","editMode"],E);const A=i(t,["baseSteps"]);return e!==void 0&&A!=null&&r(e,["parameters","editConfig","baseSteps"],A),n}function Ic(t,e){const n={},o=i(e,["model"]);o!=null&&r(n,["_url","model"],G(t,o));const s=i(e,["prompt"]);s!=null&&r(n,["instances[0]","prompt"],s);const a=i(e,["referenceImages"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>Sc(f))),r(n,["instances[0]","referenceImages"],u)}const l=i(e,["config"]);return l!=null&&r(n,["config"],Ac(l,n)),n}function Mc(t,e){const n={},o=i(t,["includeRaiReason"]);e!==void 0&&o!=null&&r(e,["parameters","includeRaiReason"],o);const s=i(t,["outputMimeType"]);e!==void 0&&s!=null&&r(e,["parameters","outputOptions","mimeType"],s);const a=i(t,["outputCompressionQuality"]);e!==void 0&&a!=null&&r(e,["parameters","outputOptions","compressionQuality"],a);const l=i(t,["enhanceInputImage"]);e!==void 0&&l!=null&&r(e,["parameters","upscaleConfig","enhanceInputImage"],l);const u=i(t,["imagePreservationFactor"]);e!==void 0&&u!=null&&r(e,["parameters","upscaleConfig","imagePreservationFactor"],u);const f=i(t,["numberOfImages"]);e!==void 0&&f!=null&&r(e,["parameters","sampleCount"],f);const c=i(t,["mode"]);return e!==void 0&&c!=null&&r(e,["parameters","mode"],c),n}function xc(t,e){const n={},o=i(e,["model"]);o!=null&&r(n,["_url","model"],G(t,o));const s=i(e,["image"]);s!=null&&r(n,["instances[0]","image"],Oe(s));const a=i(e,["upscaleFactor"]);a!=null&&r(n,["parameters","upscaleConfig","upscaleFactor"],a);const l=i(e,["config"]);return l!=null&&r(n,["config"],Mc(l,n)),n}function Rc(t,e){const n={},o=i(e,["model"]);o!=null&&r(n,["_url","name"],G(t,o));const s=i(e,["config"]);return s!=null&&r(n,["config"],s),n}function Pc(t,e,n){const o={},s=i(e,["pageSize"]);n!==void 0&&s!=null&&r(n,["_query","pageSize"],s);const a=i(e,["pageToken"]);n!==void 0&&a!=null&&r(n,["_query","pageToken"],a);const l=i(e,["filter"]);n!==void 0&&l!=null&&r(n,["_query","filter"],l);const u=i(e,["queryBase"]);return n!==void 0&&u!=null&&r(n,["_url","models_url"],To(t,u)),o}function wc(t,e){const n={},o=i(e,["config"]);return o!=null&&r(n,["config"],Pc(t,o,n)),n}function Nc(t,e){const n={},o=i(t,["displayName"]);e!==void 0&&o!=null&&r(e,["displayName"],o);const s=i(t,["description"]);e!==void 0&&s!=null&&r(e,["description"],s);const a=i(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&r(e,["defaultCheckpointId"],a),n}function Dc(t,e){const n={},o=i(e,["model"]);o!=null&&r(n,["_url","model"],G(t,o));const s=i(e,["config"]);return s!=null&&r(n,["config"],Nc(s,n)),n}function kc(t,e){const n={},o=i(e,["model"]);o!=null&&r(n,["_url","name"],G(t,o));const s=i(e,["config"]);return s!=null&&r(n,["config"],s),n}function Uc(t,e){const n={},o=i(t,["systemInstruction"]);e!==void 0&&o!=null&&r(e,["systemInstruction"],Ie($(o)));const s=i(t,["tools"]);if(e!==void 0&&s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>ko(u))),r(e,["tools"],l)}const a=i(t,["generationConfig"]);return e!==void 0&&a!=null&&r(e,["generationConfig"],a),n}function Lc(t,e){const n={},o=i(e,["model"]);o!=null&&r(n,["_url","model"],G(t,o));const s=i(e,["contents"]);if(s!=null){let l=Y(s);Array.isArray(l)&&(l=l.map(u=>Ie(u))),r(n,["contents"],l)}const a=i(e,["config"]);return a!=null&&r(n,["config"],Uc(a,n)),n}function Vc(t,e){const n={},o=i(e,["model"]);o!=null&&r(n,["_url","model"],G(t,o));const s=i(e,["contents"]);if(s!=null){let l=Y(s);Array.isArray(l)&&(l=l.map(u=>Ie(u))),r(n,["contents"],l)}const a=i(e,["config"]);return a!=null&&r(n,["config"],a),n}function Fc(t){const e={},n=i(t,["uri"]);n!=null&&r(e,["gcsUri"],n);const o=i(t,["videoBytes"]);o!=null&&r(e,["bytesBase64Encoded"],te(o));const s=i(t,["mimeType"]);return s!=null&&r(e,["mimeType"],s),e}function Gc(t,e){const n={},o=i(t,["numberOfVideos"]);e!==void 0&&o!=null&&r(e,["parameters","sampleCount"],o);const s=i(t,["outputGcsUri"]);e!==void 0&&s!=null&&r(e,["parameters","storageUri"],s);const a=i(t,["fps"]);e!==void 0&&a!=null&&r(e,["parameters","fps"],a);const l=i(t,["durationSeconds"]);e!==void 0&&l!=null&&r(e,["parameters","durationSeconds"],l);const u=i(t,["seed"]);e!==void 0&&u!=null&&r(e,["parameters","seed"],u);const f=i(t,["aspectRatio"]);e!==void 0&&f!=null&&r(e,["parameters","aspectRatio"],f);const c=i(t,["resolution"]);e!==void 0&&c!=null&&r(e,["parameters","resolution"],c);const d=i(t,["personGeneration"]);e!==void 0&&d!=null&&r(e,["parameters","personGeneration"],d);const p=i(t,["pubsubTopic"]);e!==void 0&&p!=null&&r(e,["parameters","pubsubTopic"],p);const m=i(t,["negativePrompt"]);e!==void 0&&m!=null&&r(e,["parameters","negativePrompt"],m);const h=i(t,["enhancePrompt"]);e!==void 0&&h!=null&&r(e,["parameters","enhancePrompt"],h);const g=i(t,["generateAudio"]);e!==void 0&&g!=null&&r(e,["parameters","generateAudio"],g);const T=i(t,["lastFrame"]);e!==void 0&&T!=null&&r(e,["instances[0]","lastFrame"],Oe(T));const E=i(t,["compressionQuality"]);return e!==void 0&&E!=null&&r(e,["parameters","compressionQuality"],E),n}function qc(t,e){const n={},o=i(e,["model"]);o!=null&&r(n,["_url","model"],G(t,o));const s=i(e,["prompt"]);s!=null&&r(n,["instances[0]","prompt"],s);const a=i(e,["image"]);a!=null&&r(n,["instances[0]","image"],Oe(a));const l=i(e,["video"]);l!=null&&r(n,["instances[0]","video"],Fc(l));const u=i(e,["config"]);return u!=null&&r(n,["config"],Gc(u,n)),n}function Bc(t){const e={},n=i(t,["fps"]);n!=null&&r(e,["fps"],n);const o=i(t,["endOffset"]);o!=null&&r(e,["endOffset"],o);const s=i(t,["startOffset"]);return s!=null&&r(e,["startOffset"],s),e}function Jc(t){const e={},n=i(t,["data"]);n!=null&&r(e,["data"],n);const o=i(t,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function $c(t){const e={},n=i(t,["fileUri"]);n!=null&&r(e,["fileUri"],n);const o=i(t,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function bc(t){const e={},n=i(t,["videoMetadata"]);n!=null&&r(e,["videoMetadata"],Bc(n));const o=i(t,["thought"]);o!=null&&r(e,["thought"],o);const s=i(t,["inlineData"]);s!=null&&r(e,["inlineData"],Jc(s));const a=i(t,["fileData"]);a!=null&&r(e,["fileData"],$c(a));const l=i(t,["thoughtSignature"]);l!=null&&r(e,["thoughtSignature"],l);const u=i(t,["codeExecutionResult"]);u!=null&&r(e,["codeExecutionResult"],u);const f=i(t,["executableCode"]);f!=null&&r(e,["executableCode"],f);const c=i(t,["functionCall"]);c!=null&&r(e,["functionCall"],c);const d=i(t,["functionResponse"]);d!=null&&r(e,["functionResponse"],d);const p=i(t,["text"]);return p!=null&&r(e,["text"],p),e}function Hc(t){const e={},n=i(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>bc(a))),r(e,["parts"],s)}const o=i(t,["role"]);return o!=null&&r(e,["role"],o),e}function Yc(t){const e={},n=i(t,["citationSources"]);return n!=null&&r(e,["citations"],n),e}function Wc(t){const e={},n=i(t,["retrievedUrl"]);n!=null&&r(e,["retrievedUrl"],n);const o=i(t,["urlRetrievalStatus"]);return o!=null&&r(e,["urlRetrievalStatus"],o),e}function Kc(t){const e={},n=i(t,["urlMetadata"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Wc(s))),r(e,["urlMetadata"],o)}return e}function Zc(t){const e={},n=i(t,["content"]);n!=null&&r(e,["content"],Hc(n));const o=i(t,["citationMetadata"]);o!=null&&r(e,["citationMetadata"],Yc(o));const s=i(t,["tokenCount"]);s!=null&&r(e,["tokenCount"],s);const a=i(t,["finishReason"]);a!=null&&r(e,["finishReason"],a);const l=i(t,["urlContextMetadata"]);l!=null&&r(e,["urlContextMetadata"],Kc(l));const u=i(t,["avgLogprobs"]);u!=null&&r(e,["avgLogprobs"],u);const f=i(t,["groundingMetadata"]);f!=null&&r(e,["groundingMetadata"],f);const c=i(t,["index"]);c!=null&&r(e,["index"],c);const d=i(t,["logprobsResult"]);d!=null&&r(e,["logprobsResult"],d);const p=i(t,["safetyRatings"]);return p!=null&&r(e,["safetyRatings"],p),e}function zn(t){const e={},n=i(t,["candidates"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>Zc(u))),r(e,["candidates"],l)}const o=i(t,["modelVersion"]);o!=null&&r(e,["modelVersion"],o);const s=i(t,["promptFeedback"]);s!=null&&r(e,["promptFeedback"],s);const a=i(t,["usageMetadata"]);return a!=null&&r(e,["usageMetadata"],a),e}function Oc(t){const e={},n=i(t,["values"]);return n!=null&&r(e,["values"],n),e}function zc(){return{}}function Xc(t){const e={},n=i(t,["embeddings"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>Oc(a))),r(e,["embeddings"],s)}return i(t,["metadata"])!=null&&r(e,["metadata"],zc()),e}function Qc(t){const e={},n=i(t,["bytesBase64Encoded"]);n!=null&&r(e,["imageBytes"],te(n));const o=i(t,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function Uo(t){const e={},n=i(t,["safetyAttributes","categories"]);n!=null&&r(e,["categories"],n);const o=i(t,["safetyAttributes","scores"]);o!=null&&r(e,["scores"],o);const s=i(t,["contentType"]);return s!=null&&r(e,["contentType"],s),e}function jc(t){const e={},n=i(t,["_self"]);n!=null&&r(e,["image"],Qc(n));const o=i(t,["raiFilteredReason"]);o!=null&&r(e,["raiFilteredReason"],o);const s=i(t,["_self"]);return s!=null&&r(e,["safetyAttributes"],Uo(s)),e}function ef(t){const e={},n=i(t,["predictions"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>jc(a))),r(e,["generatedImages"],s)}const o=i(t,["positivePromptSafetyAttributes"]);return o!=null&&r(e,["positivePromptSafetyAttributes"],Uo(o)),e}function tf(t){const e={},n=i(t,["baseModel"]);n!=null&&r(e,["baseModel"],n);const o=i(t,["createTime"]);o!=null&&r(e,["createTime"],o);const s=i(t,["updateTime"]);return s!=null&&r(e,["updateTime"],s),e}function pt(t){const e={},n=i(t,["name"]);n!=null&&r(e,["name"],n);const o=i(t,["displayName"]);o!=null&&r(e,["displayName"],o);const s=i(t,["description"]);s!=null&&r(e,["description"],s);const a=i(t,["version"]);a!=null&&r(e,["version"],a);const l=i(t,["_self"]);l!=null&&r(e,["tunedModelInfo"],tf(l));const u=i(t,["inputTokenLimit"]);u!=null&&r(e,["inputTokenLimit"],u);const f=i(t,["outputTokenLimit"]);f!=null&&r(e,["outputTokenLimit"],f);const c=i(t,["supportedGenerationMethods"]);return c!=null&&r(e,["supportedActions"],c),e}function nf(t){const e={},n=i(t,["nextPageToken"]);n!=null&&r(e,["nextPageToken"],n);const o=i(t,["_self"]);if(o!=null){let s=vo(o);Array.isArray(s)&&(s=s.map(a=>pt(a))),r(e,["models"],s)}return e}function of(){return{}}function rf(t){const e={},n=i(t,["totalTokens"]);n!=null&&r(e,["totalTokens"],n);const o=i(t,["cachedContentTokenCount"]);return o!=null&&r(e,["cachedContentTokenCount"],o),e}function sf(t){const e={},n=i(t,["video","uri"]);n!=null&&r(e,["uri"],n);const o=i(t,["video","encodedVideo"]);o!=null&&r(e,["videoBytes"],te(o));const s=i(t,["encoding"]);return s!=null&&r(e,["mimeType"],s),e}function af(t){const e={},n=i(t,["_self"]);return n!=null&&r(e,["video"],sf(n)),e}function lf(t){const e={},n=i(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>af(l))),r(e,["generatedVideos"],a)}const o=i(t,["raiMediaFilteredCount"]);o!=null&&r(e,["raiMediaFilteredCount"],o);const s=i(t,["raiMediaFilteredReasons"]);return s!=null&&r(e,["raiMediaFilteredReasons"],s),e}function uf(t){const e={},n=i(t,["name"]);n!=null&&r(e,["name"],n);const o=i(t,["metadata"]);o!=null&&r(e,["metadata"],o);const s=i(t,["done"]);s!=null&&r(e,["done"],s);const a=i(t,["error"]);a!=null&&r(e,["error"],a);const l=i(t,["response","generateVideoResponse"]);return l!=null&&r(e,["response"],lf(l)),e}function cf(t){const e={},n=i(t,["fps"]);n!=null&&r(e,["fps"],n);const o=i(t,["endOffset"]);o!=null&&r(e,["endOffset"],o);const s=i(t,["startOffset"]);return s!=null&&r(e,["startOffset"],s),e}function ff(t){const e={},n=i(t,["displayName"]);n!=null&&r(e,["displayName"],n);const o=i(t,["data"]);o!=null&&r(e,["data"],o);const s=i(t,["mimeType"]);return s!=null&&r(e,["mimeType"],s),e}function df(t){const e={},n=i(t,["displayName"]);n!=null&&r(e,["displayName"],n);const o=i(t,["fileUri"]);o!=null&&r(e,["fileUri"],o);const s=i(t,["mimeType"]);return s!=null&&r(e,["mimeType"],s),e}function pf(t){const e={},n=i(t,["videoMetadata"]);n!=null&&r(e,["videoMetadata"],cf(n));const o=i(t,["thought"]);o!=null&&r(e,["thought"],o);const s=i(t,["inlineData"]);s!=null&&r(e,["inlineData"],ff(s));const a=i(t,["fileData"]);a!=null&&r(e,["fileData"],df(a));const l=i(t,["thoughtSignature"]);l!=null&&r(e,["thoughtSignature"],l);const u=i(t,["codeExecutionResult"]);u!=null&&r(e,["codeExecutionResult"],u);const f=i(t,["executableCode"]);f!=null&&r(e,["executableCode"],f);const c=i(t,["functionCall"]);c!=null&&r(e,["functionCall"],c);const d=i(t,["functionResponse"]);d!=null&&r(e,["functionResponse"],d);const p=i(t,["text"]);return p!=null&&r(e,["text"],p),e}function mf(t){const e={},n=i(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>pf(a))),r(e,["parts"],s)}const o=i(t,["role"]);return o!=null&&r(e,["role"],o),e}function hf(t){const e={},n=i(t,["citations"]);return n!=null&&r(e,["citations"],n),e}function gf(t){const e={},n=i(t,["retrievedUrl"]);n!=null&&r(e,["retrievedUrl"],n);const o=i(t,["urlRetrievalStatus"]);return o!=null&&r(e,["urlRetrievalStatus"],o),e}function yf(t){const e={},n=i(t,["urlMetadata"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>gf(s))),r(e,["urlMetadata"],o)}return e}function Tf(t){const e={},n=i(t,["content"]);n!=null&&r(e,["content"],mf(n));const o=i(t,["citationMetadata"]);o!=null&&r(e,["citationMetadata"],hf(o));const s=i(t,["finishMessage"]);s!=null&&r(e,["finishMessage"],s);const a=i(t,["finishReason"]);a!=null&&r(e,["finishReason"],a);const l=i(t,["urlContextMetadata"]);l!=null&&r(e,["urlContextMetadata"],yf(l));const u=i(t,["avgLogprobs"]);u!=null&&r(e,["avgLogprobs"],u);const f=i(t,["groundingMetadata"]);f!=null&&r(e,["groundingMetadata"],f);const c=i(t,["index"]);c!=null&&r(e,["index"],c);const d=i(t,["logprobsResult"]);d!=null&&r(e,["logprobsResult"],d);const p=i(t,["safetyRatings"]);return p!=null&&r(e,["safetyRatings"],p),e}function Xn(t){const e={},n=i(t,["candidates"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(c=>Tf(c))),r(e,["candidates"],f)}const o=i(t,["createTime"]);o!=null&&r(e,["createTime"],o);const s=i(t,["responseId"]);s!=null&&r(e,["responseId"],s);const a=i(t,["modelVersion"]);a!=null&&r(e,["modelVersion"],a);const l=i(t,["promptFeedback"]);l!=null&&r(e,["promptFeedback"],l);const u=i(t,["usageMetadata"]);return u!=null&&r(e,["usageMetadata"],u),e}function vf(t){const e={},n=i(t,["truncated"]);n!=null&&r(e,["truncated"],n);const o=i(t,["token_count"]);return o!=null&&r(e,["tokenCount"],o),e}function Cf(t){const e={},n=i(t,["values"]);n!=null&&r(e,["values"],n);const o=i(t,["statistics"]);return o!=null&&r(e,["statistics"],vf(o)),e}function _f(t){const e={},n=i(t,["billableCharacterCount"]);return n!=null&&r(e,["billableCharacterCount"],n),e}function Ef(t){const e={},n=i(t,["predictions[]","embeddings"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>Cf(a))),r(e,["embeddings"],s)}const o=i(t,["metadata"]);return o!=null&&r(e,["metadata"],_f(o)),e}function Sf(t){const e={},n=i(t,["gcsUri"]);n!=null&&r(e,["gcsUri"],n);const o=i(t,["bytesBase64Encoded"]);o!=null&&r(e,["imageBytes"],te(o));const s=i(t,["mimeType"]);return s!=null&&r(e,["mimeType"],s),e}function Lo(t){const e={},n=i(t,["safetyAttributes","categories"]);n!=null&&r(e,["categories"],n);const o=i(t,["safetyAttributes","scores"]);o!=null&&r(e,["scores"],o);const s=i(t,["contentType"]);return s!=null&&r(e,["contentType"],s),e}function Ct(t){const e={},n=i(t,["_self"]);n!=null&&r(e,["image"],Sf(n));const o=i(t,["raiFilteredReason"]);o!=null&&r(e,["raiFilteredReason"],o);const s=i(t,["_self"]);s!=null&&r(e,["safetyAttributes"],Lo(s));const a=i(t,["prompt"]);return a!=null&&r(e,["enhancedPrompt"],a),e}function Af(t){const e={},n=i(t,["predictions"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>Ct(a))),r(e,["generatedImages"],s)}const o=i(t,["positivePromptSafetyAttributes"]);return o!=null&&r(e,["positivePromptSafetyAttributes"],Lo(o)),e}function If(t){const e={},n=i(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Ct(s))),r(e,["generatedImages"],o)}return e}function Mf(t){const e={},n=i(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Ct(s))),r(e,["generatedImages"],o)}return e}function xf(t){const e={},n=i(t,["endpoint"]);n!=null&&r(e,["name"],n);const o=i(t,["deployedModelId"]);return o!=null&&r(e,["deployedModelId"],o),e}function Rf(t){const e={},n=i(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&r(e,["baseModel"],n);const o=i(t,["createTime"]);o!=null&&r(e,["createTime"],o);const s=i(t,["updateTime"]);return s!=null&&r(e,["updateTime"],s),e}function Pf(t){const e={},n=i(t,["checkpointId"]);n!=null&&r(e,["checkpointId"],n);const o=i(t,["epoch"]);o!=null&&r(e,["epoch"],o);const s=i(t,["step"]);return s!=null&&r(e,["step"],s),e}function mt(t){const e={},n=i(t,["name"]);n!=null&&r(e,["name"],n);const o=i(t,["displayName"]);o!=null&&r(e,["displayName"],o);const s=i(t,["description"]);s!=null&&r(e,["description"],s);const a=i(t,["versionId"]);a!=null&&r(e,["version"],a);const l=i(t,["deployedModels"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(m=>xf(m))),r(e,["endpoints"],p)}const u=i(t,["labels"]);u!=null&&r(e,["labels"],u);const f=i(t,["_self"]);f!=null&&r(e,["tunedModelInfo"],Rf(f));const c=i(t,["defaultCheckpointId"]);c!=null&&r(e,["defaultCheckpointId"],c);const d=i(t,["checkpoints"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(m=>Pf(m))),r(e,["checkpoints"],p)}return e}function wf(t){const e={},n=i(t,["nextPageToken"]);n!=null&&r(e,["nextPageToken"],n);const o=i(t,["_self"]);if(o!=null){let s=vo(o);Array.isArray(s)&&(s=s.map(a=>mt(a))),r(e,["models"],s)}return e}function Nf(){return{}}function Df(t){const e={},n=i(t,["totalTokens"]);return n!=null&&r(e,["totalTokens"],n),e}function kf(t){const e={},n=i(t,["tokensInfo"]);return n!=null&&r(e,["tokensInfo"],n),e}function Uf(t){const e={},n=i(t,["gcsUri"]);n!=null&&r(e,["uri"],n);const o=i(t,["bytesBase64Encoded"]);o!=null&&r(e,["videoBytes"],te(o));const s=i(t,["mimeType"]);return s!=null&&r(e,["mimeType"],s),e}function Lf(t){const e={},n=i(t,["_self"]);return n!=null&&r(e,["video"],Uf(n)),e}function Vf(t){const e={},n=i(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>Lf(l))),r(e,["generatedVideos"],a)}const o=i(t,["raiMediaFilteredCount"]);o!=null&&r(e,["raiMediaFilteredCount"],o);const s=i(t,["raiMediaFilteredReasons"]);return s!=null&&r(e,["raiMediaFilteredReasons"],s),e}function Ff(t){const e={},n=i(t,["name"]);n!=null&&r(e,["name"],n);const o=i(t,["metadata"]);o!=null&&r(e,["metadata"],o);const s=i(t,["done"]);s!=null&&r(e,["done"],s);const a=i(t,["error"]);a!=null&&r(e,["error"],a);const l=i(t,["response"]);return l!=null&&r(e,["response"],Vf(l)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gf="Content-Type",qf="X-Server-Timeout",Bf="User-Agent",ht="x-goog-api-client",Jf="1.8.0",$f=`google-genai-sdk/${Jf}`,bf="v1beta1",Hf="v1beta",Qn=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Yf{constructor(e){var n,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const s={};this.clientOptions.vertexai?(s.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:bf,s.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(s.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:Hf,s.baseUrl="https://generativelanguage.googleapis.com/"),s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,o){const s=[this.getRequestUrlInternal(n)];return o&&s.push(this.getBaseResourcePath()),e!==""&&s.push(e),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,n,o);if(e.queryParams)for(const[l,u]of Object.entries(e.queryParams))s.searchParams.append(l,String(u));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,e.abortSignal),this.unaryApiCall(s,a,e.httpMethod)}patchHttpOptions(e,n){const o=JSON.parse(JSON.stringify(e));for(const[s,a]of Object.entries(n))typeof a=="object"?o[s]=Object.assign(Object.assign({},o[s]),a):a!==void 0&&(o[s]=a);return o}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,n,o);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,e.abortSignal),this.streamApiCall(s,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,o){if(n&&n.timeout||o){const s=new AbortController,a=s.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>s.abort(),n.timeout),o&&o.addEventListener("abort",()=>{s.abort()}),e.signal=a}return n&&n.extraBody!==null&&Wf(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async s=>(await jn(s),new at(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async s=>(await jn(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(e){var n;return ge(this,arguments,function*(){const s=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let l="";for(;;){const{done:u,value:f}=yield B(s.read());if(u){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=a.decode(f);try{const p=JSON.parse(c);if("error"in p){const m=JSON.parse(JSON.stringify(p.error)),h=m.status,g=m.code,T=`got status: ${h}. ${JSON.stringify(p)}`;if(g>=400&&g<600)throw new Ke({message:T,status:g})}}catch(p){if(p.name==="ApiError")throw p}l+=c;let d=l.match(Qn);for(;d;){const p=d[1];try{const m=new Response(p,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield B(new at(m)),l=l.slice(d[0].length),d=l.match(Qn)}catch(m){throw new Error(`exception parsing stream chunk ${p}. ${m}`)}}}}finally{s.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},n=$f+" "+this.clientOptions.userAgentExtra;return e[Bf]=n,e[ht]=n,e[Gf]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[o,s]of Object.entries(e.headers))n.append(o,s);e.timeout&&e.timeout>0&&n.append(qf,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var o;const s={};n!=null&&(s.mimeType=n.mimeType,s.name=n.name,s.displayName=n.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const a=this.clientOptions.uploader,l=await a.stat(e);s.sizeBytes=String(l.size);const u=(o=n==null?void 0:n.mimeType)!==null&&o!==void 0?o:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=u;const f=await this.fetchUploadUrl(s,n);return a.upload(e,f,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var o;let s={};n!=null&&n.httpOptions?s=n.httpOptions:s={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const a={file:e},l=await this.request({path:S("upload/v1beta/files",a._url),body:JSON.stringify(a),httpMethod:"POST",httpOptions:s});if(!l||!(l!=null&&l.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(o=l==null?void 0:l.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function jn(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let o;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await t.json():o={error:{message:await t.text(),code:t.status,status:t.statusText}};const s=JSON.stringify(o);throw n>=400&&n<600?new Ke({message:s,status:n}):new Error(s)}}function Wf(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(a,l){const u=Object.assign({},a);for(const f in l)if(Object.prototype.hasOwnProperty.call(l,f)){const c=l[f],d=u[f];c&&typeof c=="object"&&!Array.isArray(c)&&d&&typeof d=="object"&&!Array.isArray(d)?u[f]=o(d,c):(d&&c&&typeof d!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof d}, New type: ${typeof c}. Overwriting.`),u[f]=c)}return u}const s=o(n,e);t.body=JSON.stringify(s)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Kf="mcp_used/unknown";function Vo(t){for(const e of t)if(_t(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function Fo(t){var e;const n=(e=t[ht])!==null&&e!==void 0?e:"";t[ht]=(n+` ${Kf}`).trimStart()}function Zf(t){var e,n,o;return(o=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(s=>_t(s)))!==null&&o!==void 0?o:!1}function Of(t){var e,n,o;return(o=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(s=>!_t(s)))!==null&&o!==void 0?o:!1}function _t(t){return t!==null&&typeof t=="object"&&t instanceof Et}function zf(t,e=100){return ge(this,arguments,function*(){let o,s=0;for(;s<e;){const a=yield B(t.listTools({cursor:o}));for(const l of a.tools)yield yield B(l),s++;if(!a.nextCursor)break;o=a.nextCursor}})}class Et{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Et(e,n)}async initialize(){var e,n,o,s;if(this.mcpTools.length>0)return;const a={},l=[];for(const d of this.mcpClients)try{for(var u=!0,f=(n=void 0,Pe(zf(d))),c;c=await f.next(),e=c.done,!e;u=!0){s=c.value,u=!1;const p=s;l.push(p);const m=p.name;if(a[m])throw new Error(`Duplicate function name ${m} found in MCP tools. Please ensure function names are unique.`);a[m]=d}}catch(p){n={error:p}}finally{try{!u&&!e&&(o=f.return)&&await o.call(f)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),$i(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const s=this.functionNameToMcpClient[o.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const l=await s.callTool({name:o.name,arguments:o.args},void 0,a);n.push({functionResponse:{name:o.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Xf(t,e,n){const o=new Ni;let s;n.data instanceof Blob?s=JSON.parse(await n.data.text()):s=JSON.parse(n.data);const a=iu(s);Object.assign(o,a),e(o)}class Qf{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o}async connect(e){var n,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const s=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),l=td(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),f=`${s}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${u}`;let c=()=>{};const d=new Promise(M=>{c=M}),p=e.callbacks,m=function(){c({})},h=this.apiClient,g={onopen:m,onmessage:M=>{Xf(h,p.onmessage,M)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(M){},onclose:(o=p==null?void 0:p.onclose)!==null&&o!==void 0?o:function(M){}},T=this.webSocketFactory.create(f,ed(l),g);T.connect(),await d;const E=G(this.apiClient,e.model),A=wo({model:E}),I=dt({setup:A});return T.send(JSON.stringify(I)),new jf(T,this.apiClient)}}class jf{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Tl(e),o=No(n);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=vl(e),o=dt(n);this.conn.send(JSON.stringify(o))}sendPlaybackControl(e){const n=dt({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(me.PLAY)}pause(){this.sendPlaybackControl(me.PAUSE)}stop(){this.sendPlaybackControl(me.STOP)}resetContext(){this.sendPlaybackControl(me.RESET_CONTEXT)}close(){this.conn.close()}}function ed(t){const e={};return t.forEach((n,o)=>{e[o]=n}),e}function td(t){const e=new Headers;for(const[n,o]of Object.entries(t))e.append(n,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nd="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function od(t,e,n){const o=new wi;let s;n.data instanceof Blob?s=await n.data.text():n.data instanceof ArrayBuffer?s=new TextDecoder().decode(n.data):s=n.data;const a=JSON.parse(s);if(t.isVertexAI()){const l=Ol(a);Object.assign(o,l)}else{const l=Zl(a);Object.assign(o,l)}e(o)}class id{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o,this.music=new Qf(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,o,s,a,l,u;const f=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let d;const p=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&Vo(e.config.tools)&&Fo(p);const m=ld(p);if(this.apiClient.isVertexAI())d=`${f}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(m);else{const N=this.apiClient.getApiKey();let q="BidiGenerateContent",F="key";N!=null&&N.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),q="BidiGenerateContentConstrained",F="access_token"),d=`${f}/ws/google.ai.generativelanguage.${c}.GenerativeService.${q}?${F}=${N}`}let h=()=>{};const g=new Promise(N=>{h=N}),T=e.callbacks,E=function(){var N;(N=T==null?void 0:T.onopen)===null||N===void 0||N.call(T),h({})},A=this.apiClient,I={onopen:E,onmessage:N=>{od(A,T.onmessage,N)},onerror:(n=T==null?void 0:T.onerror)!==null&&n!==void 0?n:function(N){},onclose:(o=T==null?void 0:T.onclose)!==null&&o!==void 0?o:function(N){}},M=this.webSocketFactory.create(d,ad(m),I);M.connect(),await g;let w=G(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&w.startsWith("publishers/")){const N=this.apiClient.getProject(),q=this.apiClient.getLocation();w=`projects/${N}/locations/${q}/`+w}let x={};this.apiClient.isVertexAI()&&((s=e.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[He.AUDIO]}:e.config.responseModalities=[He.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const L=(u=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],V=[];for(const N of L)if(this.isCallableTool(N)){const q=N;V.push(await q.tool())}else V.push(N);V.length>0&&(e.config.tools=V);const H={model:w,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?x=fl(this.apiClient,H):x=cl(this.apiClient,H),delete x.config,M.send(JSON.stringify(x)),new sd(M,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const rd={turnComplete:!0};class sd{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let o=[];try{o=Y(n.turns),e.isVertexAI()?o=o.map(s=>Ie(s)):o=o.map(s=>Ze(s))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:o,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let o=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?o=n.functionResponses:o=[n.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const a of o){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(nd)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},rd),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:yl(e)}:n={realtimeInput:gl(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function ad(t){const e={};return t.forEach((n,o)=>{e[o]=n}),e}function ld(t){const e=new Headers;for(const[n,o]of Object.entries(t))e.append(n,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eo=10;function to(t){var e,n,o;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let s=!1;for(const l of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Fe(l)){s=!0;break}if(!s)return!0;const a=(o=t==null?void 0:t.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function Fe(t){return"callTool"in t&&typeof t.callTool=="function"}function no(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ud extends ce{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var o,s,a,l,u;const f=await this.processParamsForMcpUsage(n);if(!Zf(n)||to(n.config))return await this.generateContentInternal(f);if(Of(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let c,d;const p=Y(f.contents),m=(a=(s=(o=f.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&a!==void 0?a:eo;let h=0;for(;h<m&&(c=await this.generateContentInternal(f),!(!c.functionCalls||c.functionCalls.length===0));){const g=c.candidates[0].content,T=[];for(const E of(u=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(Fe(E)){const I=await E.callTool(c.functionCalls);T.push(...I)}h++,d={role:"user",parts:T},f.contents=Y(f.contents),f.contents.push(g),f.contents.push(d),no(f.config)&&(p.push(g),p.push(d))}return no(f.config)&&(c.automaticFunctionCallingHistory=p),c},this.generateContentStream=async n=>{if(to(n.config)){const o=await this.processParamsForMcpUsage(n);return await this.generateContentStreamInternal(o)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(o=>{var s;let a;const l=[];if(o!=null&&o.generatedImages)for(const f of o.generatedImages)f&&(f!=null&&f.safetyAttributes)&&((s=f==null?void 0:f.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?a=f==null?void 0:f.safetyAttributes:l.push(f);let u;return a?u={generatedImages:l,positivePromptSafetyAttributes:a}:u={generatedImages:l},u}),this.list=async n=>{var o;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((o=l.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new De(ue.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async n=>{const o={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(o.referenceImages=n.referenceImages.map(s=>s.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async n=>{let o={numberOfImages:1,mode:"upscale"};n.config&&(o=Object.assign(Object.assign({},o),n.config));const s={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:o};return await this.upscaleImageInternal(s)}}async processParamsForMcpUsage(e){var n,o,s;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const l=await Promise.all(a.map(async f=>Fe(f)?await f.tool():f)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(u.config.tools=l,e.config&&e.config.tools&&Vo(e.config.tools)){const f=(s=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&s!==void 0?s:{};let c=Object.assign({},f);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),Fo(c),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return u}async initAfcToolsMap(e){var n,o,s;const a=new Map;for(const l of(o=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&o!==void 0?o:[])if(Fe(l)){const u=l,f=await u.tool();for(const c of(s=f.functionDeclarations)!==null&&s!==void 0?s:[]){if(!c.name)throw new Error("Function declaration name is required.");if(a.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);a.set(c.name,u)}}return a}async processAfcStream(e){var n,o,s;const a=(s=(o=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&s!==void 0?s:eo;let l=!1,u=0;const f=await this.initAfcToolsMap(e);return function(c,d,p){var m,h;return ge(this,arguments,function*(){for(var g,T,E,A;u<a;){l&&(u++,l=!1);const x=yield B(c.processParamsForMcpUsage(p)),L=yield B(c.generateContentStreamInternal(x)),V=[],H=[];try{for(var I=!0,M=(T=void 0,Pe(L)),w;w=yield B(M.next()),g=w.done,!g;I=!0){A=w.value,I=!1;const N=A;if(yield yield B(N),N.candidates&&(!((m=N.candidates[0])===null||m===void 0)&&m.content)){H.push(N.candidates[0].content);for(const q of(h=N.candidates[0].content.parts)!==null&&h!==void 0?h:[])if(u<a&&q.functionCall){if(!q.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(q.functionCall.name)){const F=yield B(d.get(q.functionCall.name).callTool([q.functionCall]));V.push(...F)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${q.functionCall.name}`)}}}}catch(N){T={error:N}}finally{try{!I&&!g&&(E=M.return)&&(yield B(E.call(M)))}finally{if(T)throw T.error}}if(V.length>0){l=!0;const N=new Me;N.candidates=[{content:{role:"user",parts:V}}],yield yield B(N);const q=[];q.push(...H),q.push({role:"user",parts:V});const F=Y(p.contents).concat(q);p.contents=F}else break}})}(this,f,e)}async generateContentInternal(e){var n,o,s,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=On(this.apiClient,e);return u=S("{model}:generateContent",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>{const p=Xn(d),m=new Me;return Object.assign(m,p),m})}else{const c=Zn(this.apiClient,e);return u=S("{model}:generateContent",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>{const p=zn(d),m=new Me;return Object.assign(m,p),m})}}async generateContentStreamInternal(e){var n,o,s,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=On(this.apiClient,e);return u=S("{model}:streamGenerateContent?alt=sse",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.requestStream({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(p){return ge(this,arguments,function*(){var m,h,g,T;try{for(var E=!0,A=Pe(p),I;I=yield B(A.next()),m=I.done,!m;E=!0){T=I.value,E=!1;const w=Xn(yield B(T.json())),x=new Me;Object.assign(x,w),yield yield B(x)}}catch(M){h={error:M}}finally{try{!E&&!m&&(g=A.return)&&(yield B(g.call(A)))}finally{if(h)throw h.error}}})})}else{const c=Zn(this.apiClient,e);return u=S("{model}:streamGenerateContent?alt=sse",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.requestStream({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),l.then(function(p){return ge(this,arguments,function*(){var m,h,g,T;try{for(var E=!0,A=Pe(p),I;I=yield B(A.next()),m=I.done,!m;E=!0){T=I.value,E=!1;const w=zn(yield B(T.json())),x=new Me;Object.assign(x,w),yield yield B(x)}}catch(M){h={error:M}}finally{try{!E&&!m&&(g=A.return)&&(yield B(g.call(A)))}finally{if(h)throw h.error}}})})}}async embedContent(e){var n,o,s,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=gc(this.apiClient,e);return u=S("{model}:predict",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>{const p=Ef(d),m=new xn;return Object.assign(m,p),m})}else{const c=Pu(this.apiClient,e);return u=S("{model}:batchEmbedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>{const p=Xc(d),m=new xn;return Object.assign(m,p),m})}}async generateImagesInternal(e){var n,o,s,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=Tc(this.apiClient,e);return u=S("{model}:predict",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>{const p=Af(d),m=new Rn;return Object.assign(m,p),m})}else{const c=Nu(this.apiClient,e);return u=S("{model}:predict",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>{const p=ef(d),m=new Rn;return Object.assign(m,p),m})}}async editImageInternal(e){var n,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Ic(this.apiClient,e);return a=S("{model}:predict",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>{const c=If(f),d=new Ai;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=xc(this.apiClient,e);return a=S("{model}:predict",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>{const c=Mf(f),d=new Ii;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,o,s,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=Rc(this.apiClient,e);return u=S("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>mt(d))}else{const c=Du(this.apiClient,e);return u=S("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>pt(d))}}async listInternal(e){var n,o,s,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=wc(this.apiClient,e);return u=S("{models_url}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>{const p=wf(d),m=new Pn;return Object.assign(m,p),m})}else{const c=Uu(this.apiClient,e);return u=S("{models_url}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>{const p=nf(d),m=new Pn;return Object.assign(m,p),m})}}async update(e){var n,o,s,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=Dc(this.apiClient,e);return u=S("{model}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>mt(d))}else{const c=Vu(this.apiClient,e);return u=S("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>pt(d))}}async delete(e){var n,o,s,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=kc(this.apiClient,e);return u=S("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(()=>{const d=Nf(),p=new wn;return Object.assign(p,d),p})}else{const c=Fu(this.apiClient,e);return u=S("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(()=>{const d=of(),p=new wn;return Object.assign(p,d),p})}}async countTokens(e){var n,o,s,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=Lc(this.apiClient,e);return u=S("{model}:countTokens",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>{const p=Df(d),m=new Nn;return Object.assign(m,p),m})}else{const c=qu(this.apiClient,e);return u=S("{model}:countTokens",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>{const p=rf(d),m=new Nn;return Object.assign(m,p),m})}}async computeTokens(e){var n,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Vc(this.apiClient,e);return a=S("{model}:computeTokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>{const c=kf(f),d=new Mi;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,o,s,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=qc(this.apiClient,e);return u=S("{model}:predictLongRunning",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>Ff(d))}else{const c=$u(this.apiClient,e);return u=S("{model}:predictLongRunning",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>uf(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cd(t){const e={},n=i(t,["operationName"]);n!=null&&r(e,["_url","operationName"],n);const o=i(t,["config"]);return o!=null&&r(e,["config"],o),e}function fd(t){const e={},n=i(t,["operationName"]);n!=null&&r(e,["_url","operationName"],n);const o=i(t,["config"]);return o!=null&&r(e,["config"],o),e}function dd(t){const e={},n=i(t,["operationName"]);n!=null&&r(e,["operationName"],n);const o=i(t,["resourceName"]);o!=null&&r(e,["_url","resourceName"],o);const s=i(t,["config"]);return s!=null&&r(e,["config"],s),e}function pd(t){const e={},n=i(t,["video","uri"]);n!=null&&r(e,["uri"],n);const o=i(t,["video","encodedVideo"]);o!=null&&r(e,["videoBytes"],te(o));const s=i(t,["encoding"]);return s!=null&&r(e,["mimeType"],s),e}function md(t){const e={},n=i(t,["_self"]);return n!=null&&r(e,["video"],pd(n)),e}function hd(t){const e={},n=i(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>md(l))),r(e,["generatedVideos"],a)}const o=i(t,["raiMediaFilteredCount"]);o!=null&&r(e,["raiMediaFilteredCount"],o);const s=i(t,["raiMediaFilteredReasons"]);return s!=null&&r(e,["raiMediaFilteredReasons"],s),e}function gd(t){const e={},n=i(t,["name"]);n!=null&&r(e,["name"],n);const o=i(t,["metadata"]);o!=null&&r(e,["metadata"],o);const s=i(t,["done"]);s!=null&&r(e,["done"],s);const a=i(t,["error"]);a!=null&&r(e,["error"],a);const l=i(t,["response","generateVideoResponse"]);return l!=null&&r(e,["response"],hd(l)),e}function yd(t){const e={},n=i(t,["gcsUri"]);n!=null&&r(e,["uri"],n);const o=i(t,["bytesBase64Encoded"]);o!=null&&r(e,["videoBytes"],te(o));const s=i(t,["mimeType"]);return s!=null&&r(e,["mimeType"],s),e}function Td(t){const e={},n=i(t,["_self"]);return n!=null&&r(e,["video"],yd(n)),e}function vd(t){const e={},n=i(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>Td(l))),r(e,["generatedVideos"],a)}const o=i(t,["raiMediaFilteredCount"]);o!=null&&r(e,["raiMediaFilteredCount"],o);const s=i(t,["raiMediaFilteredReasons"]);return s!=null&&r(e,["raiMediaFilteredReasons"],s),e}function oo(t){const e={},n=i(t,["name"]);n!=null&&r(e,["name"],n);const o=i(t,["metadata"]);o!=null&&r(e,["metadata"],o);const s=i(t,["done"]);s!=null&&r(e,["done"],s);const a=i(t,["error"]);a!=null&&r(e,["error"],a);const l=i(t,["response"]);return l!=null&&r(e,["response"],vd(l)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cd extends ce{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let a;return o&&"httpOptions"in o&&(a=o.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:a}})}else return this.getVideosOperationInternal({operationName:n.name,config:o})}async getVideosOperationInternal(e){var n,o,s,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=fd(e);return u=S("{operationName}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>oo(d))}else{const c=cd(e);return u=S("{operationName}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>gd(d))}}async fetchPredictVideosOperationInternal(e){var n,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=dd(e);return a=S("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>oo(f))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _d(t){const e={},n=i(t,["voiceName"]);return n!=null&&r(e,["voiceName"],n),e}function Go(t){const e={},n=i(t,["prebuiltVoiceConfig"]);return n!=null&&r(e,["prebuiltVoiceConfig"],_d(n)),e}function Ed(t){const e={},n=i(t,["speaker"]);n!=null&&r(e,["speaker"],n);const o=i(t,["voiceConfig"]);return o!=null&&r(e,["voiceConfig"],Go(o)),e}function Sd(t){const e={},n=i(t,["speakerVoiceConfigs"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Ed(s))),r(e,["speakerVoiceConfigs"],o)}return e}function Ad(t){const e={},n=i(t,["voiceConfig"]);n!=null&&r(e,["voiceConfig"],Go(n));const o=i(t,["multiSpeakerVoiceConfig"]);o!=null&&r(e,["multiSpeakerVoiceConfig"],Sd(o));const s=i(t,["languageCode"]);return s!=null&&r(e,["languageCode"],s),e}function Id(t){const e={},n=i(t,["fps"]);n!=null&&r(e,["fps"],n);const o=i(t,["endOffset"]);o!=null&&r(e,["endOffset"],o);const s=i(t,["startOffset"]);return s!=null&&r(e,["startOffset"],s),e}function Md(t){const e={};if(i(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=i(t,["data"]);n!=null&&r(e,["data"],n);const o=i(t,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function xd(t){const e={};if(i(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=i(t,["fileUri"]);n!=null&&r(e,["fileUri"],n);const o=i(t,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function Rd(t){const e={},n=i(t,["videoMetadata"]);n!=null&&r(e,["videoMetadata"],Id(n));const o=i(t,["thought"]);o!=null&&r(e,["thought"],o);const s=i(t,["inlineData"]);s!=null&&r(e,["inlineData"],Md(s));const a=i(t,["fileData"]);a!=null&&r(e,["fileData"],xd(a));const l=i(t,["thoughtSignature"]);l!=null&&r(e,["thoughtSignature"],l);const u=i(t,["codeExecutionResult"]);u!=null&&r(e,["codeExecutionResult"],u);const f=i(t,["executableCode"]);f!=null&&r(e,["executableCode"],f);const c=i(t,["functionCall"]);c!=null&&r(e,["functionCall"],c);const d=i(t,["functionResponse"]);d!=null&&r(e,["functionResponse"],d);const p=i(t,["text"]);return p!=null&&r(e,["text"],p),e}function Pd(t){const e={},n=i(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>Rd(a))),r(e,["parts"],s)}const o=i(t,["role"]);return o!=null&&r(e,["role"],o),e}function wd(t){const e={},n=i(t,["behavior"]);n!=null&&r(e,["behavior"],n);const o=i(t,["description"]);o!=null&&r(e,["description"],o);const s=i(t,["name"]);s!=null&&r(e,["name"],s);const a=i(t,["parameters"]);a!=null&&r(e,["parameters"],a);const l=i(t,["parametersJsonSchema"]);l!=null&&r(e,["parametersJsonSchema"],l);const u=i(t,["response"]);u!=null&&r(e,["response"],u);const f=i(t,["responseJsonSchema"]);return f!=null&&r(e,["responseJsonSchema"],f),e}function Nd(t){const e={},n=i(t,["startTime"]);n!=null&&r(e,["startTime"],n);const o=i(t,["endTime"]);return o!=null&&r(e,["endTime"],o),e}function Dd(t){const e={},n=i(t,["timeRangeFilter"]);return n!=null&&r(e,["timeRangeFilter"],Nd(n)),e}function kd(t){const e={},n=i(t,["mode"]);n!=null&&r(e,["mode"],n);const o=i(t,["dynamicThreshold"]);return o!=null&&r(e,["dynamicThreshold"],o),e}function Ud(t){const e={},n=i(t,["dynamicRetrievalConfig"]);return n!=null&&r(e,["dynamicRetrievalConfig"],kd(n)),e}function Ld(){return{}}function Vd(t){const e={},n=i(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(c=>wd(c))),r(e,["functionDeclarations"],f)}if(i(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=i(t,["googleSearch"]);o!=null&&r(e,["googleSearch"],Dd(o));const s=i(t,["googleSearchRetrieval"]);if(s!=null&&r(e,["googleSearchRetrieval"],Ud(s)),i(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(i(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");i(t,["urlContext"])!=null&&r(e,["urlContext"],Ld());const l=i(t,["codeExecution"]);l!=null&&r(e,["codeExecution"],l);const u=i(t,["computerUse"]);return u!=null&&r(e,["computerUse"],u),e}function Fd(t){const e={},n=i(t,["handle"]);if(n!=null&&r(e,["handle"],n),i(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function io(){return{}}function Gd(t){const e={},n=i(t,["disabled"]);n!=null&&r(e,["disabled"],n);const o=i(t,["startOfSpeechSensitivity"]);o!=null&&r(e,["startOfSpeechSensitivity"],o);const s=i(t,["endOfSpeechSensitivity"]);s!=null&&r(e,["endOfSpeechSensitivity"],s);const a=i(t,["prefixPaddingMs"]);a!=null&&r(e,["prefixPaddingMs"],a);const l=i(t,["silenceDurationMs"]);return l!=null&&r(e,["silenceDurationMs"],l),e}function qd(t){const e={},n=i(t,["automaticActivityDetection"]);n!=null&&r(e,["automaticActivityDetection"],Gd(n));const o=i(t,["activityHandling"]);o!=null&&r(e,["activityHandling"],o);const s=i(t,["turnCoverage"]);return s!=null&&r(e,["turnCoverage"],s),e}function Bd(t){const e={},n=i(t,["targetTokens"]);return n!=null&&r(e,["targetTokens"],n),e}function Jd(t){const e={},n=i(t,["triggerTokens"]);n!=null&&r(e,["triggerTokens"],n);const o=i(t,["slidingWindow"]);return o!=null&&r(e,["slidingWindow"],Bd(o)),e}function $d(t){const e={},n=i(t,["proactiveAudio"]);return n!=null&&r(e,["proactiveAudio"],n),e}function bd(t,e){const n={},o=i(t,["generationConfig"]);e!==void 0&&o!=null&&r(e,["setup","generationConfig"],o);const s=i(t,["responseModalities"]);e!==void 0&&s!=null&&r(e,["setup","generationConfig","responseModalities"],s);const a=i(t,["temperature"]);e!==void 0&&a!=null&&r(e,["setup","generationConfig","temperature"],a);const l=i(t,["topP"]);e!==void 0&&l!=null&&r(e,["setup","generationConfig","topP"],l);const u=i(t,["topK"]);e!==void 0&&u!=null&&r(e,["setup","generationConfig","topK"],u);const f=i(t,["maxOutputTokens"]);e!==void 0&&f!=null&&r(e,["setup","generationConfig","maxOutputTokens"],f);const c=i(t,["mediaResolution"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","mediaResolution"],c);const d=i(t,["seed"]);e!==void 0&&d!=null&&r(e,["setup","generationConfig","seed"],d);const p=i(t,["speechConfig"]);e!==void 0&&p!=null&&r(e,["setup","generationConfig","speechConfig"],Ad(vt(p)));const m=i(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],m);const h=i(t,["systemInstruction"]);e!==void 0&&h!=null&&r(e,["setup","systemInstruction"],Pd($(h)));const g=i(t,["tools"]);if(e!==void 0&&g!=null){let x=Se(g);Array.isArray(x)&&(x=x.map(L=>Vd(Ee(L)))),r(e,["setup","tools"],x)}const T=i(t,["sessionResumption"]);e!==void 0&&T!=null&&r(e,["setup","sessionResumption"],Fd(T));const E=i(t,["inputAudioTranscription"]);e!==void 0&&E!=null&&r(e,["setup","inputAudioTranscription"],io());const A=i(t,["outputAudioTranscription"]);e!==void 0&&A!=null&&r(e,["setup","outputAudioTranscription"],io());const I=i(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&r(e,["setup","realtimeInputConfig"],qd(I));const M=i(t,["contextWindowCompression"]);e!==void 0&&M!=null&&r(e,["setup","contextWindowCompression"],Jd(M));const w=i(t,["proactivity"]);return e!==void 0&&w!=null&&r(e,["setup","proactivity"],$d(w)),n}function Hd(t,e){const n={},o=i(e,["model"]);o!=null&&r(n,["setup","model"],G(t,o));const s=i(e,["config"]);return s!=null&&r(n,["config"],bd(s,n)),n}function Yd(t,e,n){const o={},s=i(e,["expireTime"]);n!==void 0&&s!=null&&r(n,["expireTime"],s);const a=i(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&r(n,["newSessionExpireTime"],a);const l=i(e,["uses"]);n!==void 0&&l!=null&&r(n,["uses"],l);const u=i(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&r(n,["bidiGenerateContentSetup"],Hd(t,u));const f=i(e,["lockAdditionalFields"]);return n!==void 0&&f!=null&&r(n,["fieldMask"],f),o}function Wd(t,e){const n={},o=i(e,["config"]);return o!=null&&r(n,["config"],Yd(t,o,n)),n}function Kd(t){const e={},n=i(t,["name"]);return n!=null&&r(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zd(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const o=t[n];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const s=Object.keys(o).map(a=>`${n}.${a}`);e.push(...s)}else e.push(n)}return e.join(",")}function Od(t,e){let n=null;const o=t.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const a=o.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else o!==void 0&&delete t.bidiGenerateContentSetup;const s=t.fieldMask;if(n){const a=Zd(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&s!==null&&Array.isArray(s)&&s.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];s.length>0&&(u=s.map(c=>l.includes(c)?`generationConfig.${c}`:c));const f=[];a&&f.push(a),u.length>0&&f.push(...u),f.length>0?t.fieldMask=f.join(","):delete t.fieldMask}else delete t.fieldMask}else s!==null&&Array.isArray(s)&&s.length>0?t.fieldMask=s.join(","):delete t.fieldMask;return t}class zd extends ce{constructor(e){super(),this.apiClient=e}async create(e){var n,o;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=Wd(this.apiClient,e);a=S("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const f=Od(u,e.config);return s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>Kd(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xd(t){const e={},n=i(t,["name"]);n!=null&&r(e,["_url","name"],n);const o=i(t,["config"]);return o!=null&&r(e,["config"],o),e}function Qd(t,e){const n={},o=i(t,["pageSize"]);e!==void 0&&o!=null&&r(e,["_query","pageSize"],o);const s=i(t,["pageToken"]);e!==void 0&&s!=null&&r(e,["_query","pageToken"],s);const a=i(t,["filter"]);return e!==void 0&&a!=null&&r(e,["_query","filter"],a),n}function jd(t){const e={},n=i(t,["config"]);return n!=null&&r(e,["config"],Qd(n,e)),e}function ep(t){const e={},n=i(t,["textInput"]);n!=null&&r(e,["textInput"],n);const o=i(t,["output"]);return o!=null&&r(e,["output"],o),e}function tp(t){const e={};if(i(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(i(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=i(t,["examples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>ep(s))),r(e,["examples","examples"],o)}return e}function np(t,e){const n={};if(i(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=i(t,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&r(e,["displayName"],o),i(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=i(t,["epochCount"]);e!==void 0&&s!=null&&r(e,["tuningTask","hyperparameters","epochCount"],s);const a=i(t,["learningRateMultiplier"]);if(a!=null&&r(n,["tuningTask","hyperparameters","learningRateMultiplier"],a),i(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(i(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const l=i(t,["batchSize"]);e!==void 0&&l!=null&&r(e,["tuningTask","hyperparameters","batchSize"],l);const u=i(t,["learningRate"]);return e!==void 0&&u!=null&&r(e,["tuningTask","hyperparameters","learningRate"],u),n}function op(t){const e={},n=i(t,["baseModel"]);n!=null&&r(e,["baseModel"],n);const o=i(t,["trainingDataset"]);o!=null&&r(e,["tuningTask","trainingData"],tp(o));const s=i(t,["config"]);return s!=null&&r(e,["config"],np(s,e)),e}function ip(t){const e={},n=i(t,["name"]);n!=null&&r(e,["_url","name"],n);const o=i(t,["config"]);return o!=null&&r(e,["config"],o),e}function rp(t,e){const n={},o=i(t,["pageSize"]);e!==void 0&&o!=null&&r(e,["_query","pageSize"],o);const s=i(t,["pageToken"]);e!==void 0&&s!=null&&r(e,["_query","pageToken"],s);const a=i(t,["filter"]);return e!==void 0&&a!=null&&r(e,["_query","filter"],a),n}function sp(t){const e={},n=i(t,["config"]);return n!=null&&r(e,["config"],rp(n,e)),e}function ap(t,e){const n={},o=i(t,["gcsUri"]);e!==void 0&&o!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],o);const s=i(t,["vertexDatasetResource"]);if(e!==void 0&&s!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],s),i(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function lp(t,e){const n={},o=i(t,["gcsUri"]);o!=null&&r(n,["validationDatasetUri"],o);const s=i(t,["vertexDatasetResource"]);return e!==void 0&&s!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],s),n}function up(t,e){const n={},o=i(t,["validationDataset"]);e!==void 0&&o!=null&&r(e,["supervisedTuningSpec"],lp(o,n));const s=i(t,["tunedModelDisplayName"]);e!==void 0&&s!=null&&r(e,["tunedModelDisplayName"],s);const a=i(t,["description"]);e!==void 0&&a!=null&&r(e,["description"],a);const l=i(t,["epochCount"]);e!==void 0&&l!=null&&r(e,["supervisedTuningSpec","hyperParameters","epochCount"],l);const u=i(t,["learningRateMultiplier"]);e!==void 0&&u!=null&&r(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],u);const f=i(t,["exportLastCheckpointOnly"]);e!==void 0&&f!=null&&r(e,["supervisedTuningSpec","exportLastCheckpointOnly"],f);const c=i(t,["adapterSize"]);if(e!==void 0&&c!=null&&r(e,["supervisedTuningSpec","hyperParameters","adapterSize"],c),i(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(i(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function cp(t){const e={},n=i(t,["baseModel"]);n!=null&&r(e,["baseModel"],n);const o=i(t,["trainingDataset"]);o!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],ap(o,e));const s=i(t,["config"]);return s!=null&&r(e,["config"],up(s,e)),e}function fp(t){const e={},n=i(t,["name"]);n!=null&&r(e,["model"],n);const o=i(t,["name"]);return o!=null&&r(e,["endpoint"],o),e}function qo(t){const e={},n=i(t,["name"]);n!=null&&r(e,["name"],n);const o=i(t,["state"]);o!=null&&r(e,["state"],go(o));const s=i(t,["createTime"]);s!=null&&r(e,["createTime"],s);const a=i(t,["tuningTask","startTime"]);a!=null&&r(e,["startTime"],a);const l=i(t,["tuningTask","completeTime"]);l!=null&&r(e,["endTime"],l);const u=i(t,["updateTime"]);u!=null&&r(e,["updateTime"],u);const f=i(t,["description"]);f!=null&&r(e,["description"],f);const c=i(t,["baseModel"]);c!=null&&r(e,["baseModel"],c);const d=i(t,["_self"]);d!=null&&r(e,["tunedModel"],fp(d));const p=i(t,["distillationSpec"]);p!=null&&r(e,["distillationSpec"],p);const m=i(t,["experiment"]);m!=null&&r(e,["experiment"],m);const h=i(t,["labels"]);h!=null&&r(e,["labels"],h);const g=i(t,["pipelineJob"]);g!=null&&r(e,["pipelineJob"],g);const T=i(t,["satisfiesPzi"]);T!=null&&r(e,["satisfiesPzi"],T);const E=i(t,["satisfiesPzs"]);E!=null&&r(e,["satisfiesPzs"],E);const A=i(t,["serviceAccount"]);A!=null&&r(e,["serviceAccount"],A);const I=i(t,["tunedModelDisplayName"]);return I!=null&&r(e,["tunedModelDisplayName"],I),e}function dp(t){const e={},n=i(t,["nextPageToken"]);n!=null&&r(e,["nextPageToken"],n);const o=i(t,["tunedModels"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>qo(a))),r(e,["tuningJobs"],s)}return e}function pp(t){const e={},n=i(t,["name"]);n!=null&&r(e,["name"],n);const o=i(t,["metadata"]);o!=null&&r(e,["metadata"],o);const s=i(t,["done"]);s!=null&&r(e,["done"],s);const a=i(t,["error"]);return a!=null&&r(e,["error"],a),e}function mp(t){const e={},n=i(t,["checkpointId"]);n!=null&&r(e,["checkpointId"],n);const o=i(t,["epoch"]);o!=null&&r(e,["epoch"],o);const s=i(t,["step"]);s!=null&&r(e,["step"],s);const a=i(t,["endpoint"]);return a!=null&&r(e,["endpoint"],a),e}function hp(t){const e={},n=i(t,["model"]);n!=null&&r(e,["model"],n);const o=i(t,["endpoint"]);o!=null&&r(e,["endpoint"],o);const s=i(t,["checkpoints"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>mp(l))),r(e,["checkpoints"],a)}return e}function gt(t){const e={},n=i(t,["name"]);n!=null&&r(e,["name"],n);const o=i(t,["state"]);o!=null&&r(e,["state"],go(o));const s=i(t,["createTime"]);s!=null&&r(e,["createTime"],s);const a=i(t,["startTime"]);a!=null&&r(e,["startTime"],a);const l=i(t,["endTime"]);l!=null&&r(e,["endTime"],l);const u=i(t,["updateTime"]);u!=null&&r(e,["updateTime"],u);const f=i(t,["error"]);f!=null&&r(e,["error"],f);const c=i(t,["description"]);c!=null&&r(e,["description"],c);const d=i(t,["baseModel"]);d!=null&&r(e,["baseModel"],d);const p=i(t,["tunedModel"]);p!=null&&r(e,["tunedModel"],hp(p));const m=i(t,["supervisedTuningSpec"]);m!=null&&r(e,["supervisedTuningSpec"],m);const h=i(t,["tuningDataStats"]);h!=null&&r(e,["tuningDataStats"],h);const g=i(t,["encryptionSpec"]);g!=null&&r(e,["encryptionSpec"],g);const T=i(t,["partnerModelTuningSpec"]);T!=null&&r(e,["partnerModelTuningSpec"],T);const E=i(t,["distillationSpec"]);E!=null&&r(e,["distillationSpec"],E);const A=i(t,["experiment"]);A!=null&&r(e,["experiment"],A);const I=i(t,["labels"]);I!=null&&r(e,["labels"],I);const M=i(t,["pipelineJob"]);M!=null&&r(e,["pipelineJob"],M);const w=i(t,["satisfiesPzi"]);w!=null&&r(e,["satisfiesPzi"],w);const x=i(t,["satisfiesPzs"]);x!=null&&r(e,["satisfiesPzs"],x);const L=i(t,["serviceAccount"]);L!=null&&r(e,["serviceAccount"],L);const V=i(t,["tunedModelDisplayName"]);return V!=null&&r(e,["tunedModelDisplayName"],V),e}function gp(t){const e={},n=i(t,["nextPageToken"]);n!=null&&r(e,["nextPageToken"],n);const o=i(t,["tuningJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>gt(a))),r(e,["tuningJobs"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yp extends ce{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new De(ue.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const o=await this.tuneMldevInternal(n);let s="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?s=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(s=o.name.split("/operations/")[0]),{name:s,state:st.JOB_STATE_QUEUED}}}}async getInternal(e){var n,o,s,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=ip(e);return u=S("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>gt(d))}else{const c=Xd(e);return u=S("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>qo(d))}}async listInternal(e){var n,o,s,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=sp(e);return u=S("tuningJobs",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),l.then(d=>{const p=gp(d),m=new Dn;return Object.assign(m,p),m})}else{const c=jd(e);return u=S("tunedModels",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>{const p=dp(d),m=new Dn;return Object.assign(m,p),m})}}async tuneInternal(e){var n,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=cp(e);return a=S("tuningJobs",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>gt(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,o;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=op(e);return a=S("tunedModels",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>pp(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tp{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const vp=1024*1024*8,Cp=3,_p=1e3,Ep=2,Qe="x-goog-upload-status";async function Sp(t,e,n){var o,s,a;let l=0,u=0,f=new at(new Response),c="upload";for(l=t.size;u<l;){const p=Math.min(vp,l-u),m=t.slice(u,u+p);u+p>=l&&(c+=", finalize");let h=0,g=_p;for(;h<Cp&&(f=await n.request({path:"",body:m,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(u),"Content-Length":String(p)}}}),!(!((o=f==null?void 0:f.headers)===null||o===void 0)&&o[Qe]));)h++,await Ip(g),g=g*Ep;if(u+=p,((s=f==null?void 0:f.headers)===null||s===void 0?void 0:s[Qe])!=="active")break;if(l<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const d=await(f==null?void 0:f.json());if(((a=f==null?void 0:f.headers)===null||a===void 0?void 0:a[Qe])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function Ap(t){return{size:t.size,type:t.type}}function Ip(t){return new Promise(e=>setTimeout(e,t))}class Mp{async upload(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Sp(e,n,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Ap(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xp{create(e,n,o){return new Rp(e,n,o)}}class Rp{constructor(e,n,o){this.url=e,this.headers=n,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ro="x-goog-api-key";class Pp{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(ro)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(ro,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wp="gl-node/";class Np{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const o=Si(e,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion;const s=new Pp(this.apiKey);this.apiClient=new Yf({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:wp+"web",uploader:new Mp,downloader:new Tp}),this.models=new ud(this.apiClient),this.live=new id(this.apiClient,s,new xp),this.batches=new Xr(this.apiClient),this.chats=new ta(this.models,this.apiClient),this.caches=new Qs(this.apiClient),this.files=new ma(this.apiClient),this.operations=new Cd(this.apiClient),this.authTokens=new zd(this.apiClient),this.tunings=new yp(this.apiClient)}}const Dp={low:"Identify only the most essential and defining grammar patterns of the sentence. Focus on major conjunctions, verb conjugations (tense/politeness), and sentence-ending particles. Avoid breaking down common compound words or very simple phrases.",medium:"Provide a balanced analysis. Identify all major grammar patterns, common set phrases, and important vocabulary usage. This is the standard level of detail suitable for most learners.",high:"Perform an exhaustive analysis. Identify every possible grammatical pattern, nuance, idiomatic expression, and compound word structure, no matter how small or common. Deconstruct everything for a very detailed view for advanced study."};function kp(t){return`You are an advanced linguistic analysis model, acting as a patient, insightful teacher of the Japanese language.
Your primary task is to take a single Japanese sentence and produce a detailed, structured analysis according to the specified JSON schema. Your explanations should be clear enough for a language learner.

Detailed Task Breakdown:
1.  **Sentence Analysis**: Deconstruct the input sentence into its smallest meaningful components (words, particles, etc.).
    For each component in the 'analysis' array:
    *   **Grammatical Category**: Assign a highly specific category. Use the format \`BASE_TYPE-FORM-TENSE-POLARITY\`.
        *   Examples: \`VERB_GODAN-TE-PAST-AFFIRMATIVE\`, \`ADJECTIVE_I-PLAIN-PRESENT-NEGATIVE\`, \`NOUN_COMMON\`.
        *   Available Categories: NOUN_COMMON, NOUN_PROPER, NOUN_PRONOUN, NOUN_COUNTER, VERB_ICHIDAN, VERB_GODAN, VERB_IRREGULAR, VERB_SURU, ADJECTIVE_I, ADJECTIVE_NA, ADVERB, PARTICLE, AUXILIARY_VERB, GRAMMATICAL_AUXILIARY, CONJUNCTION, INTERJECTION, SUFFIX, PREFIX, PUNCTUATION.
    *   **Reading**: Provide the reading in Hiragana or Katakana.
    *   **English Equivalent**: Provide a concise English meaning.
    *   **Pitch Accent**: THIS IS A CRITICAL, MANDATORY FIELD.
        *   Provide the standard Tokyo-dialect pitch accent as a string of 'H' (High) and 'L' (Low).
        *   **RULE: The length of the 'pitch_accent' string MUST EXACTLY match the character length of the 'reading' string.**
        *   Example: If 'reading' is '' (2 chars), 'pitch_accent' MUST be 'LH' (2 chars).
        *   Example: If 'reading' is '' (4 chars), 'pitch_accent' (heiban) MUST be 'LHHH' (4 chars).
        *   For particles or single-mora words with no accent drop, use the appropriate single letter ('H' or 'L').
        *   If pitch is truly not applicable (like punctuation), provide an empty string "". DO NOT OMIT THE FIELD. Avoid common pitfalls like providing a pattern shorter than the reading.

2.  **Full Translation**: Provide a natural, fluent English translation of the entire sentence.

3.  **Grammar & Phrase Explanations**: In the 'grammar_patterns' array, identify and explain all notable grammar points, set phrases, or nuanced vocabulary.
    *   **Analysis Thoroughness Level: ${t.toUpperCase()}**
    *   **Instruction: ${Dp[t]}**
    *   For each pattern, provide its name, a clear explanation for a learner, and the 'constituent_indices' that form the pattern in the 'analysis' array. This section must be comprehensive according to the specified thoroughness level.

Input is a single Japanese sentence. You must respond ONLY with the JSON object defined in the schema. Do not add any conversational text or markdown fences.`}function Up(){return`You are a Japanese language teaching assistant.
Your task is to provide 2-3 simple, distinct, and pedagogically useful example sentences for the Japanese grammar pattern provided as the user input.

For each example sentence, you MUST provide:
1.  'japanese': The full sentence in Japanese, using Kanji where appropriate.
2.  'reading': The complete furigana reading of the sentence in Hiragana.
3.  'english': A natural and accurate English translation.
4.  'highlight_indices': A two-element array \`[startIndex, endIndex]\` indicating the exact location of the grammar pattern within the 'japanese' string. 'startIndex' is the zero-based index of the first character of the pattern, and 'endIndex' is the zero-based index of the character immediately AFTER the last character of the pattern.

Example for pattern "":
If the user input is "" and a sentence is "", the pattern "" starts at index 5 and ends at index 9. So, 'highlight_indices' would be [5, 9].

Respond ONLY with a JSON object that adheres to the provided schema. Do not add any extra text or markdown fences.`}function Lp(){return`You are an expert web content extraction model. You will be given the full raw HTML of a webpage.
Your task is to perform the following actions:
1.  Identify the main article or content body of the HTML. Ignore navigation menus, sidebars, advertisements, footers, comment sections, and other boilerplate content.
2.  Extract the main title of the article from elements like \`<title>\` or \`<h1>\`.
3.  Extract the full text of the article.
4.  The extracted text MUST be in Japanese. If the main content is not in Japanese, you must treat it as if no content was found.
5.  Clean the extracted text by removing any remaining HTML tags and unnecessary whitespace, presenting it as clean paragraphs separated by single newline characters.

You must respond ONLY with a JSON object that adheres to the specified schema.
If no valid Japanese article text can be found on the page, the 'japanese_text' field in your JSON response must be an empty string. The 'title' can still be populated if found.
`}const Vp={type:"OBJECT",properties:{original_japanese_sentence:{type:"STRING",description:"The original Japanese sentence provided by the user."},analysis:{type:"ARRAY",description:"An array of objects, each representing a segmented component of the Japanese sentence.",items:{type:"OBJECT",properties:{japanese_segment:{type:"STRING",description:"The individual Japanese segment (word, particle, etc.)."},reading:{type:"STRING",description:"The reading of the Japanese segment in Hiragana or Katakana."},category:{type:"STRING",description:"A highly specific grammatical category label for the segment (e.g., 'NOUN_COMMON', 'VERB_ICHIDAN-TE-PAST-AFFIRMATIVE')."},english_equivalent:{type:"STRING",description:"A direct, concise English equivalent of the segment."},pitch_accent:{type:"STRING",description:`CRITICAL: A string representing the pitch accent pattern using 'H' for high and 'L' for low. This string's length MUST exactly match the character length of the 'reading' field. For heiban words, use 'L' followed by all 'H's (e.g., reading '' -> pitch 'LHHH'). For non-applicable segments like punctuation, this MUST be an empty string "". Do not omit this field.`}},required:["japanese_segment","reading","category","english_equivalent","pitch_accent"]}},grammar_patterns:{type:"ARRAY",description:"A comprehensive array of identified grammatical patterns, idiomatic phrases, or nuanced vocabulary in the sentence.",items:{type:"OBJECT",properties:{pattern_name:{type:"STRING",description:"The name of the grammatical pattern or the phrase being explained (e.g., '', '')."},explanation:{type:"STRING",description:"A detailed explanation of the pattern's meaning, usage, and nuance for a language learner."},constituent_indices:{type:"ARRAY",description:"An array of zero-based indices from the 'analysis' array that form this pattern.",items:{type:"NUMBER"}}},required:["pattern_name","explanation","constituent_indices"]}},english_translation:{type:"STRING",description:"The complete, natural-sounding English translation of the entire Japanese sentence."}},required:["original_japanese_sentence","analysis","grammar_patterns","english_translation"]},Fp={type:"ARRAY",description:"An array of 2-3 simple example sentences for the given grammar pattern.",items:{type:"OBJECT",properties:{japanese:{type:"STRING",description:"The full example sentence in Japanese, including Kanji."},reading:{type:"STRING",description:"The complete reading of the Japanese sentence in Hiragana."},english:{type:"STRING",description:"The natural English translation of the sentence."},highlight_indices:{type:"ARRAY",description:"A two-element array [startIndex, endIndex] indicating the character position of the grammar pattern within the 'japanese' string. startIndex is inclusive, endIndex is exclusive.",items:{type:"NUMBER"},minItems:2,maxItems:2}},required:["japanese","reading","english","highlight_indices"]}},Gp={type:"OBJECT",properties:{title:{type:"STRING",description:"The extracted main title of the article. Should be an empty string if no title is found."},japanese_text:{type:"STRING",description:"The extracted and cleaned main Japanese text of the article, formatted with paragraphs separated by newlines. Should be an empty string if no Japanese article is found."}},required:["title","japanese_text"]},St=async()=>{const e=(await Jo()).userApiKey||void 0;if(!e)throw new Error("API Key is not configured. Please set your key in the settings menu or ensure the default key is present.");return new Np({apiKey:e})},At=t=>{var s;const e=t.text;if(typeof e!="string"||e.trim()===""){const a=(s=t.candidates)==null?void 0:s[0];throw a&&a.finishReason!=="STOP"?new Error(`The AI model's response was incomplete. Reason: ${a.finishReason}.`):new Error("The AI model returned an empty response.")}const n=/^```(?:json)?\s*\n?(.*?)\n?\s*```$/s,o=e.trim().match(n);return o?o[1].trim():e.trim()},Bo=t=>{const[e,n]=pe.useState(!1),[o,s]=pe.useState(null),[a,l]=pe.useState(null),u=pe.useCallback(async(...f)=>{n(!0),s(null),l(null);try{const c=await t(...f);return l(c),c}catch(c){s(c)}finally{n(!1)}},[t]);return{isLoading:e,error:o,data:a,execute:u}},qp=async(t,e,n=!1)=>{const o=await St(),s=t.trim().replace(/^[]/,"").replace(/[]$/,"").trim();if(!s)return{original_japanese_sentence:t,analysis:[{japanese_segment:t,reading:t,category:"PUNCTUATION",english_equivalent:"Punctuation/Quotes",pitch_accent:""}],grammar_patterns:[],english_translation:"(Sentence consists only of punctuation)"};const a=await o.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:s,config:{systemInstruction:kp(e),responseMimeType:"application/json",responseSchema:Vp,temperature:.1,seed:42}}),l=At(a),u=JSON.parse(l),f=Array.isArray(u)?u[0]:u;return f.original_japanese_sentence=t,f},Bp=async t=>{const n=await(await St()).models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:t,config:{systemInstruction:Up(),responseMimeType:"application/json",responseSchema:Fp,temperature:.01,seed:42}}),o=At(n);return JSON.parse(o)},$p=async t=>{let e="";const n=[c=>`https://api.allorigins.win/raw?url=${encodeURIComponent(c)}`,c=>`https://corsproxy.io/?${c}`];let s=null;for(const c of n){const d=c(t),p=new AbortController,m=setTimeout(()=>p.abort(),15e3);try{const h=await fetch(d,{signal:p.signal});if(clearTimeout(m),!h.ok)throw h.status===408||h.status===504?new Error("Proxy timed out waiting for the target website."):h.status===404?new Error("The requested URL was not found (404). Please check the URL."):h.status===403?new Error("Access to this website is forbidden (403). It may be blocking access."):h.status>=500?new Error("The website's server encountered an error. Please try again later."):new Error(`Failed to fetch content (status: ${h.status}).`);const g=await h.text();if(!g||g.trim()==="")throw new Error("Retrieved empty content. The page might be protected or require JavaScript.");e=g,s=null;break}catch(h){clearTimeout(m);const g=new URL(d).hostname;console.warn(`Proxy ${g} failed. Trying next...`,h),s=h instanceof Error?h:new Error("An unknown fetch error occurred"),s.name==="AbortError"&&(s=new Error(`The request to ${g} timed out.`))}}if(!e)throw new Error(`Failed to fetch from all proxies. Last error: ${(s==null?void 0:s.message)||"Unknown issue."}`);const l=await(await St()).models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:e,config:{systemInstruction:Lp(),responseMimeType:"application/json",responseSchema:Gp,temperature:0,seed:42}}),u=At(l),f=JSON.parse(u);if(!f.japanese_text||f.japanese_text.trim()==="")throw new Error("No Japanese article content could be found at the provided URL.");return f},bp=()=>{const t=pe.useCallback(qp,[]);return Bo(t)},Hp=()=>{const t=pe.useCallback(Bp,[]);return Bo(t)};export{Hp as a,$p as e,bp as u};
