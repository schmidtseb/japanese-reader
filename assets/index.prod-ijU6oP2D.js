const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./EditorView-cSOjgIKM.js","./gemini-DtAYdYzC.js","./ReaderView-Ck9U_WzY.js","./AnalysisPlaceholder-B7Hh1mqk.js","./PitchAccentVisualizer-B782rMJi.js","./ReadingModeView-rF2kd7d_.js","./ReviewController-CxX6iT7H.js"])))=>i.map(i=>d[i]);
(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function s(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(o){if(o.ep)return;o.ep=!0;const f=s(o);fetch(o.href,f)}})();function Sy(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}function wm(c){if(Object.prototype.hasOwnProperty.call(c,"__esModule"))return c;var i=c.default;if(typeof i=="function"){var s=function r(){return this instanceof r?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};s.prototype=i.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(c).forEach(function(r){var o=Object.getOwnPropertyDescriptor(c,r);Object.defineProperty(s,r,o.get?o:{enumerable:!0,get:function(){return c[r]}})}),s}var rc={exports:{}},nl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zh;function Em(){if(zh)return nl;zh=1;var c=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function s(r,o,f){var d=null;if(f!==void 0&&(d=""+f),o.key!==void 0&&(d=""+o.key),"key"in o){f={};for(var g in o)g!=="key"&&(f[g]=o[g])}else f=o;return o=f.ref,{$$typeof:c,type:r,key:d,ref:o!==void 0?o:null,props:f}}return nl.Fragment=i,nl.jsx=s,nl.jsxs=s,nl}var qh;function Tm(){return qh||(qh=1,rc.exports=Em()),rc.exports}var E=Tm(),uc={exports:{}},al={},cc={exports:{}},oc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lh;function xm(){return Lh||(Lh=1,function(c){function i(U,q){var X=U.length;U.push(q);e:for(;0<X;){var me=X-1>>>1,S=U[me];if(0<o(S,q))U[me]=q,U[X]=S,X=me;else break e}}function s(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var q=U[0],X=U.pop();if(X!==q){U[0]=X;e:for(var me=0,S=U.length,z=S>>>1;me<z;){var Y=2*(me+1)-1,G=U[Y],Z=Y+1,he=U[Z];if(0>o(G,X))Z<S&&0>o(he,G)?(U[me]=he,U[Z]=X,me=Z):(U[me]=G,U[Y]=X,me=Y);else if(Z<S&&0>o(he,X))U[me]=he,U[Z]=X,me=Z;else break e}}return q}function o(U,q){var X=U.sortIndex-q.sortIndex;return X!==0?X:U.id-q.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;c.unstable_now=function(){return f.now()}}else{var d=Date,g=d.now();c.unstable_now=function(){return d.now()-g}}var y=[],m=[],p=1,_=null,O=3,j=!1,N=!1,L=!1,H=!1,se=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function I(U){for(var q=s(m);q!==null;){if(q.callback===null)r(m);else if(q.startTime<=U)r(m),q.sortIndex=q.expirationTime,i(y,q);else break;q=s(m)}}function V(U){if(L=!1,I(U),!N)if(s(y)!==null)N=!0,ne||(ne=!0,le());else{var q=s(m);q!==null&&Ce(V,q.startTime-U)}}var ne=!1,ve=-1,Fe=5,pt=-1;function ln(){return H?!0:!(c.unstable_now()-pt<Fe)}function W(){if(H=!1,ne){var U=c.unstable_now();pt=U;var q=!0;try{e:{N=!1,L&&(L=!1,ee(ve),ve=-1),j=!0;var X=O;try{t:{for(I(U),_=s(y);_!==null&&!(_.expirationTime>U&&ln());){var me=_.callback;if(typeof me=="function"){_.callback=null,O=_.priorityLevel;var S=me(_.expirationTime<=U);if(U=c.unstable_now(),typeof S=="function"){_.callback=S,I(U),q=!0;break t}_===s(y)&&r(y),I(U)}else r(y);_=s(y)}if(_!==null)q=!0;else{var z=s(m);z!==null&&Ce(V,z.startTime-U),q=!1}}break e}finally{_=null,O=X,j=!1}q=void 0}}finally{q?le():ne=!1}}}var le;if(typeof B=="function")le=function(){B(W)};else if(typeof MessageChannel<"u"){var Xe=new MessageChannel,tt=Xe.port2;Xe.port1.onmessage=W,le=function(){tt.postMessage(null)}}else le=function(){se(W,0)};function Ce(U,q){ve=se(function(){U(c.unstable_now())},q)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(U){U.callback=null},c.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Fe=0<U?Math.floor(1e3/U):5},c.unstable_getCurrentPriorityLevel=function(){return O},c.unstable_next=function(U){switch(O){case 1:case 2:case 3:var q=3;break;default:q=O}var X=O;O=q;try{return U()}finally{O=X}},c.unstable_requestPaint=function(){H=!0},c.unstable_runWithPriority=function(U,q){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var X=O;O=U;try{return q()}finally{O=X}},c.unstable_scheduleCallback=function(U,q,X){var me=c.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?me+X:me):X=me,U){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=X+S,U={id:p++,callback:q,priorityLevel:U,startTime:X,expirationTime:S,sortIndex:-1},X>me?(U.sortIndex=X,i(m,U),s(y)===null&&U===s(m)&&(L?(ee(ve),ve=-1):L=!0,Ce(V,X-me))):(U.sortIndex=S,i(y,U),N||j||(N=!0,ne||(ne=!0,le()))),U},c.unstable_shouldYield=ln,c.unstable_wrapCallback=function(U){var q=O;return function(){var X=O;O=q;try{return U.apply(this,arguments)}finally{O=X}}}}(oc)),oc}var Bh;function Am(){return Bh||(Bh=1,cc.exports=xm()),cc.exports}var fc={exports:{}},ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hh;function Om(){if(Hh)return ie;Hh=1;var c=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),_=Symbol.iterator;function O(S){return S===null||typeof S!="object"?null:(S=_&&S[_]||S["@@iterator"],typeof S=="function"?S:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,L={};function H(S,z,Y){this.props=S,this.context=z,this.refs=L,this.updater=Y||j}H.prototype.isReactComponent={},H.prototype.setState=function(S,z){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,z,"setState")},H.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function se(){}se.prototype=H.prototype;function ee(S,z,Y){this.props=S,this.context=z,this.refs=L,this.updater=Y||j}var B=ee.prototype=new se;B.constructor=ee,N(B,H.prototype),B.isPureReactComponent=!0;var I=Array.isArray,V={H:null,A:null,T:null,S:null,V:null},ne=Object.prototype.hasOwnProperty;function ve(S,z,Y,G,Z,he){return Y=he.ref,{$$typeof:c,type:S,key:z,ref:Y!==void 0?Y:null,props:he}}function Fe(S,z){return ve(S.type,z,void 0,void 0,void 0,S.props)}function pt(S){return typeof S=="object"&&S!==null&&S.$$typeof===c}function ln(S){var z={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(Y){return z[Y]})}var W=/\/+/g;function le(S,z){return typeof S=="object"&&S!==null&&S.key!=null?ln(""+S.key):z.toString(36)}function Xe(){}function tt(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(Xe,Xe):(S.status="pending",S.then(function(z){S.status==="pending"&&(S.status="fulfilled",S.value=z)},function(z){S.status==="pending"&&(S.status="rejected",S.reason=z)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function Ce(S,z,Y,G,Z){var he=typeof S;(he==="undefined"||he==="boolean")&&(S=null);var te=!1;if(S===null)te=!0;else switch(he){case"bigint":case"string":case"number":te=!0;break;case"object":switch(S.$$typeof){case c:case i:te=!0;break;case p:return te=S._init,Ce(te(S._payload),z,Y,G,Z)}}if(te)return Z=Z(S),te=G===""?"."+le(S,0):G,I(Z)?(Y="",te!=null&&(Y=te.replace(W,"$&/")+"/"),Ce(Z,z,Y,"",function(sn){return sn})):Z!=null&&(pt(Z)&&(Z=Fe(Z,Y+(Z.key==null||S&&S.key===Z.key?"":(""+Z.key).replace(W,"$&/")+"/")+te)),z.push(Z)),1;te=0;var ut=G===""?".":G+":";if(I(S))for(var Ae=0;Ae<S.length;Ae++)G=S[Ae],he=ut+le(G,Ae),te+=Ce(G,z,Y,he,Z);else if(Ae=O(S),typeof Ae=="function")for(S=Ae.call(S),Ae=0;!(G=S.next()).done;)G=G.value,he=ut+le(G,Ae++),te+=Ce(G,z,Y,he,Z);else if(he==="object"){if(typeof S.then=="function")return Ce(tt(S),z,Y,G,Z);throw z=String(S),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return te}function U(S,z,Y){if(S==null)return S;var G=[],Z=0;return Ce(S,G,"","",function(he){return z.call(Y,he,Z++)}),G}function q(S){if(S._status===-1){var z=S._result;z=z(),z.then(function(Y){(S._status===0||S._status===-1)&&(S._status=1,S._result=Y)},function(Y){(S._status===0||S._status===-1)&&(S._status=2,S._result=Y)}),S._status===-1&&(S._status=0,S._result=z)}if(S._status===1)return S._result.default;throw S._result}var X=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)};function me(){}return ie.Children={map:U,forEach:function(S,z,Y){U(S,function(){z.apply(this,arguments)},Y)},count:function(S){var z=0;return U(S,function(){z++}),z},toArray:function(S){return U(S,function(z){return z})||[]},only:function(S){if(!pt(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},ie.Component=H,ie.Fragment=s,ie.Profiler=o,ie.PureComponent=ee,ie.StrictMode=r,ie.Suspense=y,ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,ie.__COMPILER_RUNTIME={__proto__:null,c:function(S){return V.H.useMemoCache(S)}},ie.cache=function(S){return function(){return S.apply(null,arguments)}},ie.cloneElement=function(S,z,Y){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var G=N({},S.props),Z=S.key,he=void 0;if(z!=null)for(te in z.ref!==void 0&&(he=void 0),z.key!==void 0&&(Z=""+z.key),z)!ne.call(z,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&z.ref===void 0||(G[te]=z[te]);var te=arguments.length-2;if(te===1)G.children=Y;else if(1<te){for(var ut=Array(te),Ae=0;Ae<te;Ae++)ut[Ae]=arguments[Ae+2];G.children=ut}return ve(S.type,Z,void 0,void 0,he,G)},ie.createContext=function(S){return S={$$typeof:d,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:f,_context:S},S},ie.createElement=function(S,z,Y){var G,Z={},he=null;if(z!=null)for(G in z.key!==void 0&&(he=""+z.key),z)ne.call(z,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(Z[G]=z[G]);var te=arguments.length-2;if(te===1)Z.children=Y;else if(1<te){for(var ut=Array(te),Ae=0;Ae<te;Ae++)ut[Ae]=arguments[Ae+2];Z.children=ut}if(S&&S.defaultProps)for(G in te=S.defaultProps,te)Z[G]===void 0&&(Z[G]=te[G]);return ve(S,he,void 0,void 0,null,Z)},ie.createRef=function(){return{current:null}},ie.forwardRef=function(S){return{$$typeof:g,render:S}},ie.isValidElement=pt,ie.lazy=function(S){return{$$typeof:p,_payload:{_status:-1,_result:S},_init:q}},ie.memo=function(S,z){return{$$typeof:m,type:S,compare:z===void 0?null:z}},ie.startTransition=function(S){var z=V.T,Y={};V.T=Y;try{var G=S(),Z=V.S;Z!==null&&Z(Y,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(me,X)}catch(he){X(he)}finally{V.T=z}},ie.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},ie.use=function(S){return V.H.use(S)},ie.useActionState=function(S,z,Y){return V.H.useActionState(S,z,Y)},ie.useCallback=function(S,z){return V.H.useCallback(S,z)},ie.useContext=function(S){return V.H.useContext(S)},ie.useDebugValue=function(){},ie.useDeferredValue=function(S,z){return V.H.useDeferredValue(S,z)},ie.useEffect=function(S,z,Y){var G=V.H;if(typeof Y=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return G.useEffect(S,z)},ie.useId=function(){return V.H.useId()},ie.useImperativeHandle=function(S,z,Y){return V.H.useImperativeHandle(S,z,Y)},ie.useInsertionEffect=function(S,z){return V.H.useInsertionEffect(S,z)},ie.useLayoutEffect=function(S,z){return V.H.useLayoutEffect(S,z)},ie.useMemo=function(S,z){return V.H.useMemo(S,z)},ie.useOptimistic=function(S,z){return V.H.useOptimistic(S,z)},ie.useReducer=function(S,z,Y){return V.H.useReducer(S,z,Y)},ie.useRef=function(S){return V.H.useRef(S)},ie.useState=function(S){return V.H.useState(S)},ie.useSyncExternalStore=function(S,z,Y){return V.H.useSyncExternalStore(S,z,Y)},ie.useTransition=function(){return V.H.useTransition()},ie.version="19.1.0",ie}var Gh;function Dc(){return Gh||(Gh=1,fc.exports=Om()),fc.exports}var dc={exports:{}},Pe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yh;function Rm(){if(Yh)return Pe;Yh=1;var c=Dc();function i(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)m+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(y,m,p){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:y,containerInfo:m,implementation:p}}var d=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Pe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Pe.createPortal=function(y,m){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(i(299));return f(y,m,null,p)},Pe.flushSync=function(y){var m=d.T,p=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=m,r.p=p,r.d.f()}},Pe.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(y,m))},Pe.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},Pe.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var p=m.as,_=g(p,m.crossOrigin),O=typeof m.integrity=="string"?m.integrity:void 0,j=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;p==="style"?r.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:O,fetchPriority:j}):p==="script"&&r.d.X(y,{crossOrigin:_,integrity:O,fetchPriority:j,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Pe.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var p=g(m.as,m.crossOrigin);r.d.M(y,{crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(y)},Pe.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var p=m.as,_=g(p,m.crossOrigin);r.d.L(y,p,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Pe.preloadModule=function(y,m){if(typeof y=="string")if(m){var p=g(m.as,m.crossOrigin);r.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(y)},Pe.requestFormReset=function(y){r.d.r(y)},Pe.unstable_batchedUpdates=function(y,m){return y(m)},Pe.useFormState=function(y,m,p){return d.H.useFormState(y,m,p)},Pe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Pe.version="19.1.0",Pe}var Vh;function wy(){if(Vh)return dc.exports;Vh=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(i){console.error(i)}}return c(),dc.exports=Rm(),dc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $h;function Dm(){if($h)return al;$h=1;var c=Am(),i=Dc(),s=wy();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(f(e)!==e)throw Error(r(188))}function y(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(r(188));return t!==e?null:e}for(var n=e,a=t;;){var l=n.return;if(l===null)break;var u=l.alternate;if(u===null){if(a=l.return,a!==null){n=a;continue}break}if(l.child===u.child){for(u=l.child;u;){if(u===n)return g(l),e;if(u===a)return g(l),t;u=u.sibling}throw Error(r(188))}if(n.return!==a.return)n=l,a=u;else{for(var h=!1,v=l.child;v;){if(v===n){h=!0,n=l,a=u;break}if(v===a){h=!0,a=l,n=u;break}v=v.sibling}if(!h){for(v=u.child;v;){if(v===n){h=!0,n=u,a=l;break}if(v===a){h=!0,a=u,n=l;break}v=v.sibling}if(!h)throw Error(r(189))}}if(n.alternate!==a)throw Error(r(190))}if(n.tag!==3)throw Error(r(188));return n.stateNode.current===n?e:t}function m(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=m(e),t!==null)return t;e=e.sibling}return null}var p=Object.assign,_=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),se=Symbol.for("react.provider"),ee=Symbol.for("react.consumer"),B=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),ve=Symbol.for("react.memo"),Fe=Symbol.for("react.lazy"),pt=Symbol.for("react.activity"),ln=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function le(e){return e===null||typeof e!="object"?null:(e=W&&e[W]||e["@@iterator"],typeof e=="function"?e:null)}var Xe=Symbol.for("react.client.reference");function tt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Xe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case N:return"Fragment";case H:return"Profiler";case L:return"StrictMode";case V:return"Suspense";case ne:return"SuspenseList";case pt:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case B:return(e.displayName||"Context")+".Provider";case ee:return(e._context.displayName||"Context")+".Consumer";case I:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ve:return t=e.displayName||null,t!==null?t:tt(e.type)||"Memo";case Fe:t=e._payload,e=e._init;try{return tt(e(t))}catch{}}return null}var Ce=Array.isArray,U=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},me=[],S=-1;function z(e){return{current:e}}function Y(e){0>S||(e.current=me[S],me[S]=null,S--)}function G(e,t){S++,me[S]=e.current,e.current=t}var Z=z(null),he=z(null),te=z(null),ut=z(null);function Ae(e,t){switch(G(te,t),G(he,e),G(Z,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?oh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=oh(t),e=fh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(Z),G(Z,e)}function sn(){Y(Z),Y(he),Y(te)}function Ks(e){e.memoizedState!==null&&G(ut,e);var t=Z.current,n=fh(t,e.type);t!==n&&(G(he,e),G(Z,n))}function hl(e){he.current===e&&(Y(Z),Y(he)),ut.current===e&&(Y(ut),Pi._currentValue=X)}var Qs=Object.prototype.hasOwnProperty,Is=c.unstable_scheduleCallback,Zs=c.unstable_cancelCallback,eg=c.unstable_shouldYield,tg=c.unstable_requestPaint,kt=c.unstable_now,ng=c.unstable_getCurrentPriorityLevel,Yc=c.unstable_ImmediatePriority,Vc=c.unstable_UserBlockingPriority,yl=c.unstable_NormalPriority,ag=c.unstable_LowPriority,$c=c.unstable_IdlePriority,ig=c.log,lg=c.unstable_setDisableYieldValue,li=null,ct=null;function rn(e){if(typeof ig=="function"&&lg(e),ct&&typeof ct.setStrictMode=="function")try{ct.setStrictMode(li,e)}catch{}}var ot=Math.clz32?Math.clz32:ug,sg=Math.log,rg=Math.LN2;function ug(e){return e>>>=0,e===0?32:31-(sg(e)/rg|0)|0}var gl=256,vl=4194304;function zn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ml(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var l=0,u=e.suspendedLanes,h=e.pingedLanes;e=e.warmLanes;var v=a&134217727;return v!==0?(a=v&~u,a!==0?l=zn(a):(h&=v,h!==0?l=zn(h):n||(n=v&~e,n!==0&&(l=zn(n))))):(v=a&~u,v!==0?l=zn(v):h!==0?l=zn(h):n||(n=a&~e,n!==0&&(l=zn(n)))),l===0?0:t!==0&&t!==l&&(t&u)===0&&(u=l&-l,n=t&-t,u>=n||u===32&&(n&4194048)!==0)?t:l}function si(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function cg(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xc(){var e=gl;return gl<<=1,(gl&4194048)===0&&(gl=256),e}function Kc(){var e=vl;return vl<<=1,(vl&62914560)===0&&(vl=4194304),e}function Js(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ri(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function og(e,t,n,a,l,u){var h=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var v=e.entanglements,b=e.expirationTimes,A=e.hiddenUpdates;for(n=h&~n;0<n;){var C=31-ot(n),M=1<<C;v[C]=0,b[C]=-1;var R=A[C];if(R!==null)for(A[C]=null,C=0;C<R.length;C++){var D=R[C];D!==null&&(D.lane&=-536870913)}n&=~M}a!==0&&Qc(e,a,0),u!==0&&l===0&&e.tag!==0&&(e.suspendedLanes|=u&~(h&~t))}function Qc(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-ot(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&4194090}function Ic(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-ot(n),l=1<<a;l&t|e[a]&t&&(e[a]|=t),n&=~l}}function Ps(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ws(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Zc(){var e=q.p;return e!==0?e:(e=window.event,e===void 0?32:jh(e.type))}function fg(e,t){var n=q.p;try{return q.p=e,t()}finally{q.p=n}}var un=Math.random().toString(36).slice(2),Ze="__reactFiber$"+un,nt="__reactProps$"+un,sa="__reactContainer$"+un,Fs="__reactEvents$"+un,dg="__reactListeners$"+un,hg="__reactHandles$"+un,Jc="__reactResources$"+un,ui="__reactMarker$"+un;function er(e){delete e[Ze],delete e[nt],delete e[Fs],delete e[dg],delete e[hg]}function ra(e){var t=e[Ze];if(t)return t;for(var n=e.parentNode;n;){if(t=n[sa]||n[Ze]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=gh(e);e!==null;){if(n=e[Ze])return n;e=gh(e)}return t}e=n,n=e.parentNode}return null}function ua(e){if(e=e[Ze]||e[sa]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function ci(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function ca(e){var t=e[Jc];return t||(t=e[Jc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Be(e){e[ui]=!0}var Pc=new Set,Wc={};function qn(e,t){oa(e,t),oa(e+"Capture",t)}function oa(e,t){for(Wc[e]=t,e=0;e<t.length;e++)Pc.add(t[e])}var yg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fc={},eo={};function gg(e){return Qs.call(eo,e)?!0:Qs.call(Fc,e)?!1:yg.test(e)?eo[e]=!0:(Fc[e]=!0,!1)}function pl(e,t,n){if(gg(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function bl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Ht(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}var tr,to;function fa(e){if(tr===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);tr=t&&t[1]||"",to=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+tr+e+to}var nr=!1;function ar(e,t){if(!e||nr)return"";nr=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var M=function(){throw Error()};if(Object.defineProperty(M.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(M,[])}catch(D){var R=D}Reflect.construct(e,[],M)}else{try{M.call()}catch(D){R=D}e.call(M.prototype)}}else{try{throw Error()}catch(D){R=D}(M=e())&&typeof M.catch=="function"&&M.catch(function(){})}}catch(D){if(D&&R&&typeof D.stack=="string")return[D.stack,R.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=a.DetermineComponentFrameRoot(),h=u[0],v=u[1];if(h&&v){var b=h.split(`
`),A=v.split(`
`);for(l=a=0;a<b.length&&!b[a].includes("DetermineComponentFrameRoot");)a++;for(;l<A.length&&!A[l].includes("DetermineComponentFrameRoot");)l++;if(a===b.length||l===A.length)for(a=b.length-1,l=A.length-1;1<=a&&0<=l&&b[a]!==A[l];)l--;for(;1<=a&&0<=l;a--,l--)if(b[a]!==A[l]){if(a!==1||l!==1)do if(a--,l--,0>l||b[a]!==A[l]){var C=`
`+b[a].replace(" at new "," at ");return e.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",e.displayName)),C}while(1<=a&&0<=l);break}}}finally{nr=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?fa(n):""}function vg(e){switch(e.tag){case 26:case 27:case 5:return fa(e.type);case 16:return fa("Lazy");case 13:return fa("Suspense");case 19:return fa("SuspenseList");case 0:case 15:return ar(e.type,!1);case 11:return ar(e.type.render,!1);case 1:return ar(e.type,!0);case 31:return fa("Activity");default:return""}}function no(e){try{var t="";do t+=vg(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function bt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ao(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function mg(e){var t=ao(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,u=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(h){a=""+h,u.call(this,h)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(h){a=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _l(e){e._valueTracker||(e._valueTracker=mg(e))}function io(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=ao(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Sl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var pg=/[\n"\\]/g;function _t(e){return e.replace(pg,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ir(e,t,n,a,l,u,h,v){e.name="",h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.type=h:e.removeAttribute("type"),t!=null?h==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+bt(t)):e.value!==""+bt(t)&&(e.value=""+bt(t)):h!=="submit"&&h!=="reset"||e.removeAttribute("value"),t!=null?lr(e,h,bt(t)):n!=null?lr(e,h,bt(n)):a!=null&&e.removeAttribute("value"),l==null&&u!=null&&(e.defaultChecked=!!u),l!=null&&(e.checked=l&&typeof l!="function"&&typeof l!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+bt(v):e.removeAttribute("name")}function lo(e,t,n,a,l,u,h,v){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||n!=null){if(!(u!=="submit"&&u!=="reset"||t!=null))return;n=n!=null?""+bt(n):"",t=t!=null?""+bt(t):n,v||t===e.value||(e.value=t),e.defaultValue=t}a=a??l,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=v?e.checked:!!a,e.defaultChecked=!!a,h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.name=h)}function lr(e,t,n){t==="number"&&Sl(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function da(e,t,n,a){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&a&&(e[n].defaultSelected=!0)}else{for(n=""+bt(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,a&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function so(e,t,n){if(t!=null&&(t=""+bt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+bt(n):""}function ro(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(r(92));if(Ce(a)){if(1<a.length)throw Error(r(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=bt(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a)}function ha(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var bg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uo(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||bg.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function co(e,t,n){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var l in t)a=t[l],t.hasOwnProperty(l)&&n[l]!==a&&uo(e,l,a)}else for(var u in t)t.hasOwnProperty(u)&&uo(e,u,t[u])}function sr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _g=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wl(e){return Sg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var rr=null;function ur(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ya=null,ga=null;function oo(e){var t=ua(e);if(t&&(e=t.stateNode)){var n=e[nt]||null;e:switch(e=t.stateNode,t.type){case"input":if(ir(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+_t(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var l=a[nt]||null;if(!l)throw Error(r(90));ir(a,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&io(a)}break e;case"textarea":so(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&da(e,!!n.multiple,t,!1)}}}var cr=!1;function fo(e,t,n){if(cr)return e(t,n);cr=!0;try{var a=e(t);return a}finally{if(cr=!1,(ya!==null||ga!==null)&&(rs(),ya&&(t=ya,e=ga,ga=ya=null,oo(t),e)))for(t=0;t<e.length;t++)oo(e[t])}}function oi(e,t){var n=e.stateNode;if(n===null)return null;var a=n[nt]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(r(231,t,typeof n));return n}var Gt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),or=!1;if(Gt)try{var fi={};Object.defineProperty(fi,"passive",{get:function(){or=!0}}),window.addEventListener("test",fi,fi),window.removeEventListener("test",fi,fi)}catch{or=!1}var cn=null,fr=null,El=null;function ho(){if(El)return El;var e,t=fr,n=t.length,a,l="value"in cn?cn.value:cn.textContent,u=l.length;for(e=0;e<n&&t[e]===l[e];e++);var h=n-e;for(a=1;a<=h&&t[n-a]===l[u-a];a++);return El=l.slice(e,1<a?1-a:void 0)}function Tl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xl(){return!0}function yo(){return!1}function at(e){function t(n,a,l,u,h){this._reactName=n,this._targetInst=l,this.type=a,this.nativeEvent=u,this.target=h,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(n=e[v],this[v]=n?n(u):u[v]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?xl:yo,this.isPropagationStopped=yo,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xl)},persist:function(){},isPersistent:xl}),t}var Ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Al=at(Ln),di=p({},Ln,{view:0,detail:0}),wg=at(di),dr,hr,hi,Ol=p({},di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hi&&(hi&&e.type==="mousemove"?(dr=e.screenX-hi.screenX,hr=e.screenY-hi.screenY):hr=dr=0,hi=e),dr)},movementY:function(e){return"movementY"in e?e.movementY:hr}}),go=at(Ol),Eg=p({},Ol,{dataTransfer:0}),Tg=at(Eg),xg=p({},di,{relatedTarget:0}),yr=at(xg),Ag=p({},Ln,{animationName:0,elapsedTime:0,pseudoElement:0}),Og=at(Ag),Rg=p({},Ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Dg=at(Rg),jg=p({},Ln,{data:0}),vo=at(jg),Ng={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ug={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Cg[e])?!!t[e]:!1}function gr(){return kg}var Mg=p({},di,{key:function(e){if(e.key){var t=Ng[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Tl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ug[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gr,charCode:function(e){return e.type==="keypress"?Tl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Tl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zg=at(Mg),qg=p({},Ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mo=at(qg),Lg=p({},di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gr}),Bg=at(Lg),Hg=p({},Ln,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gg=at(Hg),Yg=p({},Ol,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Vg=at(Yg),$g=p({},Ln,{newState:0,oldState:0}),Xg=at($g),Kg=[9,13,27,32],vr=Gt&&"CompositionEvent"in window,yi=null;Gt&&"documentMode"in document&&(yi=document.documentMode);var Qg=Gt&&"TextEvent"in window&&!yi,po=Gt&&(!vr||yi&&8<yi&&11>=yi),bo=" ",_o=!1;function So(e,t){switch(e){case"keyup":return Kg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wo(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var va=!1;function Ig(e,t){switch(e){case"compositionend":return wo(t);case"keypress":return t.which!==32?null:(_o=!0,bo);case"textInput":return e=t.data,e===bo&&_o?null:e;default:return null}}function Zg(e,t){if(va)return e==="compositionend"||!vr&&So(e,t)?(e=ho(),El=fr=cn=null,va=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return po&&t.locale!=="ko"?null:t.data;default:return null}}var Jg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Jg[e.type]:t==="textarea"}function To(e,t,n,a){ya?ga?ga.push(a):ga=[a]:ya=a,t=hs(t,"onChange"),0<t.length&&(n=new Al("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var gi=null,vi=null;function Pg(e){lh(e,0)}function Rl(e){var t=ci(e);if(io(t))return e}function xo(e,t){if(e==="change")return t}var Ao=!1;if(Gt){var mr;if(Gt){var pr="oninput"in document;if(!pr){var Oo=document.createElement("div");Oo.setAttribute("oninput","return;"),pr=typeof Oo.oninput=="function"}mr=pr}else mr=!1;Ao=mr&&(!document.documentMode||9<document.documentMode)}function Ro(){gi&&(gi.detachEvent("onpropertychange",Do),vi=gi=null)}function Do(e){if(e.propertyName==="value"&&Rl(vi)){var t=[];To(t,vi,e,ur(e)),fo(Pg,t)}}function Wg(e,t,n){e==="focusin"?(Ro(),gi=t,vi=n,gi.attachEvent("onpropertychange",Do)):e==="focusout"&&Ro()}function Fg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Rl(vi)}function ev(e,t){if(e==="click")return Rl(t)}function tv(e,t){if(e==="input"||e==="change")return Rl(t)}function nv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ft=typeof Object.is=="function"?Object.is:nv;function mi(e,t){if(ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var l=n[a];if(!Qs.call(t,l)||!ft(e[l],t[l]))return!1}return!0}function jo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function No(e,t){var n=jo(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jo(n)}}function Uo(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Uo(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Co(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Sl(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Sl(e.document)}return t}function br(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var av=Gt&&"documentMode"in document&&11>=document.documentMode,ma=null,_r=null,pi=null,Sr=!1;function ko(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Sr||ma==null||ma!==Sl(a)||(a=ma,"selectionStart"in a&&br(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),pi&&mi(pi,a)||(pi=a,a=hs(_r,"onSelect"),0<a.length&&(t=new Al("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=ma)))}function Bn(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var pa={animationend:Bn("Animation","AnimationEnd"),animationiteration:Bn("Animation","AnimationIteration"),animationstart:Bn("Animation","AnimationStart"),transitionrun:Bn("Transition","TransitionRun"),transitionstart:Bn("Transition","TransitionStart"),transitioncancel:Bn("Transition","TransitionCancel"),transitionend:Bn("Transition","TransitionEnd")},wr={},Mo={};Gt&&(Mo=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);function Hn(e){if(wr[e])return wr[e];if(!pa[e])return e;var t=pa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Mo)return wr[e]=t[n];return e}var zo=Hn("animationend"),qo=Hn("animationiteration"),Lo=Hn("animationstart"),iv=Hn("transitionrun"),lv=Hn("transitionstart"),sv=Hn("transitioncancel"),Bo=Hn("transitionend"),Ho=new Map,Er="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Er.push("scrollEnd");function Rt(e,t){Ho.set(e,t),qn(t,[e])}var Go=new WeakMap;function St(e,t){if(typeof e=="object"&&e!==null){var n=Go.get(e);return n!==void 0?n:(t={value:e,source:t,stack:no(t)},Go.set(e,t),t)}return{value:e,source:t,stack:no(t)}}var wt=[],ba=0,Tr=0;function Dl(){for(var e=ba,t=Tr=ba=0;t<e;){var n=wt[t];wt[t++]=null;var a=wt[t];wt[t++]=null;var l=wt[t];wt[t++]=null;var u=wt[t];if(wt[t++]=null,a!==null&&l!==null){var h=a.pending;h===null?l.next=l:(l.next=h.next,h.next=l),a.pending=l}u!==0&&Yo(n,l,u)}}function jl(e,t,n,a){wt[ba++]=e,wt[ba++]=t,wt[ba++]=n,wt[ba++]=a,Tr|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function xr(e,t,n,a){return jl(e,t,n,a),Nl(e)}function _a(e,t){return jl(e,null,null,t),Nl(e)}function Yo(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var l=!1,u=e.return;u!==null;)u.childLanes|=n,a=u.alternate,a!==null&&(a.childLanes|=n),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(l=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,l&&t!==null&&(l=31-ot(n),e=u.hiddenUpdates,a=e[l],a===null?e[l]=[t]:a.push(t),t.lane=n|536870912),u):null}function Nl(e){if(50<Vi)throw Vi=0,Nu=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Sa={};function rv(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dt(e,t,n,a){return new rv(e,t,n,a)}function Ar(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Yt(e,t){var n=e.alternate;return n===null?(n=dt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Vo(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ul(e,t,n,a,l,u){var h=0;if(a=e,typeof e=="function")Ar(e)&&(h=1);else if(typeof e=="string")h=cm(e,n,Z.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case pt:return e=dt(31,n,t,l),e.elementType=pt,e.lanes=u,e;case N:return Gn(n.children,l,u,t);case L:h=8,l|=24;break;case H:return e=dt(12,n,t,l|2),e.elementType=H,e.lanes=u,e;case V:return e=dt(13,n,t,l),e.elementType=V,e.lanes=u,e;case ne:return e=dt(19,n,t,l),e.elementType=ne,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case se:case B:h=10;break e;case ee:h=9;break e;case I:h=11;break e;case ve:h=14;break e;case Fe:h=16,a=null;break e}h=29,n=Error(r(130,e===null?"null":typeof e,"")),a=null}return t=dt(h,n,t,l),t.elementType=e,t.type=a,t.lanes=u,t}function Gn(e,t,n,a){return e=dt(7,e,a,t),e.lanes=n,e}function Or(e,t,n){return e=dt(6,e,null,t),e.lanes=n,e}function Rr(e,t,n){return t=dt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var wa=[],Ea=0,Cl=null,kl=0,Et=[],Tt=0,Yn=null,Vt=1,$t="";function Vn(e,t){wa[Ea++]=kl,wa[Ea++]=Cl,Cl=e,kl=t}function $o(e,t,n){Et[Tt++]=Vt,Et[Tt++]=$t,Et[Tt++]=Yn,Yn=e;var a=Vt;e=$t;var l=32-ot(a)-1;a&=~(1<<l),n+=1;var u=32-ot(t)+l;if(30<u){var h=l-l%5;u=(a&(1<<h)-1).toString(32),a>>=h,l-=h,Vt=1<<32-ot(t)+l|n<<l|a,$t=u+e}else Vt=1<<u|n<<l|a,$t=e}function Dr(e){e.return!==null&&(Vn(e,1),$o(e,1,0))}function jr(e){for(;e===Cl;)Cl=wa[--Ea],wa[Ea]=null,kl=wa[--Ea],wa[Ea]=null;for(;e===Yn;)Yn=Et[--Tt],Et[Tt]=null,$t=Et[--Tt],Et[Tt]=null,Vt=Et[--Tt],Et[Tt]=null}var et=null,De=null,ge=!1,$n=null,Mt=!1,Nr=Error(r(519));function Xn(e){var t=Error(r(418,""));throw Si(St(t,e)),Nr}function Xo(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Ze]=e,t[nt]=a,n){case"dialog":oe("cancel",t),oe("close",t);break;case"iframe":case"object":case"embed":oe("load",t);break;case"video":case"audio":for(n=0;n<Xi.length;n++)oe(Xi[n],t);break;case"source":oe("error",t);break;case"img":case"image":case"link":oe("error",t),oe("load",t);break;case"details":oe("toggle",t);break;case"input":oe("invalid",t),lo(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),_l(t);break;case"select":oe("invalid",t);break;case"textarea":oe("invalid",t),ro(t,a.value,a.defaultValue,a.children),_l(t)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||ch(t.textContent,n)?(a.popover!=null&&(oe("beforetoggle",t),oe("toggle",t)),a.onScroll!=null&&oe("scroll",t),a.onScrollEnd!=null&&oe("scrollend",t),a.onClick!=null&&(t.onclick=ys),t=!0):t=!1,t||Xn(e)}function Ko(e){for(et=e.return;et;)switch(et.tag){case 5:case 13:Mt=!1;return;case 27:case 3:Mt=!0;return;default:et=et.return}}function bi(e){if(e!==et)return!1;if(!ge)return Ko(e),ge=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Qu(e.type,e.memoizedProps)),n=!n),n&&De&&Xn(e),Ko(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){De=jt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}De=null}}else t===27?(t=De,xn(e.type)?(e=Pu,Pu=null,De=e):De=t):De=et?jt(e.stateNode.nextSibling):null;return!0}function _i(){De=et=null,ge=!1}function Qo(){var e=$n;return e!==null&&(st===null?st=e:st.push.apply(st,e),$n=null),e}function Si(e){$n===null?$n=[e]:$n.push(e)}var Ur=z(null),Kn=null,Xt=null;function on(e,t,n){G(Ur,t._currentValue),t._currentValue=n}function Kt(e){e._currentValue=Ur.current,Y(Ur)}function Cr(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function kr(e,t,n,a){var l=e.child;for(l!==null&&(l.return=e);l!==null;){var u=l.dependencies;if(u!==null){var h=l.child;u=u.firstContext;e:for(;u!==null;){var v=u;u=l;for(var b=0;b<t.length;b++)if(v.context===t[b]){u.lanes|=n,v=u.alternate,v!==null&&(v.lanes|=n),Cr(u.return,n,e),a||(h=null);break e}u=v.next}}else if(l.tag===18){if(h=l.return,h===null)throw Error(r(341));h.lanes|=n,u=h.alternate,u!==null&&(u.lanes|=n),Cr(h,n,e),h=null}else h=l.child;if(h!==null)h.return=l;else for(h=l;h!==null;){if(h===e){h=null;break}if(l=h.sibling,l!==null){l.return=h.return,h=l;break}h=h.return}l=h}}function wi(e,t,n,a){e=null;for(var l=t,u=!1;l!==null;){if(!u){if((l.flags&524288)!==0)u=!0;else if((l.flags&262144)!==0)break}if(l.tag===10){var h=l.alternate;if(h===null)throw Error(r(387));if(h=h.memoizedProps,h!==null){var v=l.type;ft(l.pendingProps.value,h.value)||(e!==null?e.push(v):e=[v])}}else if(l===ut.current){if(h=l.alternate,h===null)throw Error(r(387));h.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(e!==null?e.push(Pi):e=[Pi])}l=l.return}e!==null&&kr(t,e,n,a),t.flags|=262144}function Ml(e){for(e=e.firstContext;e!==null;){if(!ft(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Qn(e){Kn=e,Xt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Je(e){return Io(Kn,e)}function zl(e,t){return Kn===null&&Qn(e),Io(e,t)}function Io(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Xt===null){if(e===null)throw Error(r(308));Xt=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Xt=Xt.next=t;return n}var uv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},cv=c.unstable_scheduleCallback,ov=c.unstable_NormalPriority,qe={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mr(){return{controller:new uv,data:new Map,refCount:0}}function Ei(e){e.refCount--,e.refCount===0&&cv(ov,function(){e.controller.abort()})}var Ti=null,zr=0,Ta=0,xa=null;function fv(e,t){if(Ti===null){var n=Ti=[];zr=0,Ta=Lu(),xa={status:"pending",value:void 0,then:function(a){n.push(a)}}}return zr++,t.then(Zo,Zo),t}function Zo(){if(--zr===0&&Ti!==null){xa!==null&&(xa.status="fulfilled");var e=Ti;Ti=null,Ta=0,xa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function dv(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(l){n.push(l)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var l=0;l<n.length;l++)(0,n[l])(t)},function(l){for(a.status="rejected",a.reason=l,l=0;l<n.length;l++)(0,n[l])(void 0)}),a}var Jo=U.S;U.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&fv(e,t),Jo!==null&&Jo(e,t)};var In=z(null);function qr(){var e=In.current;return e!==null?e:Te.pooledCache}function ql(e,t){t===null?G(In,In.current):G(In,t.pool)}function Po(){var e=qr();return e===null?null:{parent:qe._currentValue,pool:e}}var xi=Error(r(460)),Wo=Error(r(474)),Ll=Error(r(542)),Lr={then:function(){}};function Fo(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Bl(){}function ef(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Bl,Bl),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,nf(e),e;default:if(typeof t.status=="string")t.then(Bl,Bl);else{if(e=Te,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var l=t;l.status="fulfilled",l.value=a}},function(a){if(t.status==="pending"){var l=t;l.status="rejected",l.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,nf(e),e}throw Ai=t,xi}}var Ai=null;function tf(){if(Ai===null)throw Error(r(459));var e=Ai;return Ai=null,e}function nf(e){if(e===xi||e===Ll)throw Error(r(483))}var fn=!1;function Br(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function dn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function hn(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(pe&2)!==0){var l=a.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),a.pending=t,t=Nl(e),Yo(e,null,n),t}return jl(e,a,t,n),Nl(e)}function Oi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Ic(e,n)}}function Gr(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var l=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var h={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};u===null?l=u=h:u=u.next=h,n=n.next}while(n!==null);u===null?l=u=t:u=u.next=t}else l=u=t;n={baseState:a.baseState,firstBaseUpdate:l,lastBaseUpdate:u,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Yr=!1;function Ri(){if(Yr){var e=xa;if(e!==null)throw e}}function Di(e,t,n,a){Yr=!1;var l=e.updateQueue;fn=!1;var u=l.firstBaseUpdate,h=l.lastBaseUpdate,v=l.shared.pending;if(v!==null){l.shared.pending=null;var b=v,A=b.next;b.next=null,h===null?u=A:h.next=A,h=b;var C=e.alternate;C!==null&&(C=C.updateQueue,v=C.lastBaseUpdate,v!==h&&(v===null?C.firstBaseUpdate=A:v.next=A,C.lastBaseUpdate=b))}if(u!==null){var M=l.baseState;h=0,C=A=b=null,v=u;do{var R=v.lane&-536870913,D=R!==v.lane;if(D?(de&R)===R:(a&R)===R){R!==0&&R===Ta&&(Yr=!0),C!==null&&(C=C.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var F=e,J=v;R=t;var we=n;switch(J.tag){case 1:if(F=J.payload,typeof F=="function"){M=F.call(we,M,R);break e}M=F;break e;case 3:F.flags=F.flags&-65537|128;case 0:if(F=J.payload,R=typeof F=="function"?F.call(we,M,R):F,R==null)break e;M=p({},M,R);break e;case 2:fn=!0}}R=v.callback,R!==null&&(e.flags|=64,D&&(e.flags|=8192),D=l.callbacks,D===null?l.callbacks=[R]:D.push(R))}else D={lane:R,tag:v.tag,payload:v.payload,callback:v.callback,next:null},C===null?(A=C=D,b=M):C=C.next=D,h|=R;if(v=v.next,v===null){if(v=l.shared.pending,v===null)break;D=v,v=D.next,D.next=null,l.lastBaseUpdate=D,l.shared.pending=null}}while(!0);C===null&&(b=M),l.baseState=b,l.firstBaseUpdate=A,l.lastBaseUpdate=C,u===null&&(l.shared.lanes=0),Sn|=h,e.lanes=h,e.memoizedState=M}}function af(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function lf(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)af(n[e],t)}var Aa=z(null),Hl=z(0);function sf(e,t){e=Ft,G(Hl,e),G(Aa,t),Ft=e|t.baseLanes}function Vr(){G(Hl,Ft),G(Aa,Aa.current)}function $r(){Ft=Hl.current,Y(Aa),Y(Hl)}var yn=0,re=null,_e=null,ke=null,Gl=!1,Oa=!1,Zn=!1,Yl=0,ji=0,Ra=null,hv=0;function Ne(){throw Error(r(321))}function Xr(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ft(e[n],t[n]))return!1;return!0}function Kr(e,t,n,a,l,u){return yn=u,re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,U.H=e===null||e.memoizedState===null?Vf:$f,Zn=!1,u=n(a,l),Zn=!1,Oa&&(u=uf(t,n,a,l)),rf(e),u}function rf(e){U.H=Il;var t=_e!==null&&_e.next!==null;if(yn=0,ke=_e=re=null,Gl=!1,ji=0,Ra=null,t)throw Error(r(300));e===null||He||(e=e.dependencies,e!==null&&Ml(e)&&(He=!0))}function uf(e,t,n,a){re=e;var l=0;do{if(Oa&&(Ra=null),ji=0,Oa=!1,25<=l)throw Error(r(301));if(l+=1,ke=_e=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}U.H=_v,u=t(n,a)}while(Oa);return u}function yv(){var e=U.H,t=e.useState()[0];return t=typeof t.then=="function"?Ni(t):t,e=e.useState()[0],(_e!==null?_e.memoizedState:null)!==e&&(re.flags|=1024),t}function Qr(){var e=Yl!==0;return Yl=0,e}function Ir(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Zr(e){if(Gl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Gl=!1}yn=0,ke=_e=re=null,Oa=!1,ji=Yl=0,Ra=null}function it(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?re.memoizedState=ke=e:ke=ke.next=e,ke}function Me(){if(_e===null){var e=re.alternate;e=e!==null?e.memoizedState:null}else e=_e.next;var t=ke===null?re.memoizedState:ke.next;if(t!==null)ke=t,_e=e;else{if(e===null)throw re.alternate===null?Error(r(467)):Error(r(310));_e=e,e={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},ke===null?re.memoizedState=ke=e:ke=ke.next=e}return ke}function Jr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ni(e){var t=ji;return ji+=1,Ra===null&&(Ra=[]),e=ef(Ra,e,t),t=re,(ke===null?t.memoizedState:ke.next)===null&&(t=t.alternate,U.H=t===null||t.memoizedState===null?Vf:$f),e}function Vl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ni(e);if(e.$$typeof===B)return Je(e)}throw Error(r(438,String(e)))}function Pr(e){var t=null,n=re.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=re.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(l){return l.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Jr(),re.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=ln;return t.index++,n}function Qt(e,t){return typeof t=="function"?t(e):t}function $l(e){var t=Me();return Wr(t,_e,e)}function Wr(e,t,n){var a=e.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var l=e.baseQueue,u=a.pending;if(u!==null){if(l!==null){var h=l.next;l.next=u.next,u.next=h}t.baseQueue=l=u,a.pending=null}if(u=e.baseState,l===null)e.memoizedState=u;else{t=l.next;var v=h=null,b=null,A=t,C=!1;do{var M=A.lane&-536870913;if(M!==A.lane?(de&M)===M:(yn&M)===M){var R=A.revertLane;if(R===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),M===Ta&&(C=!0);else if((yn&R)===R){A=A.next,R===Ta&&(C=!0);continue}else M={lane:0,revertLane:A.revertLane,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},b===null?(v=b=M,h=u):b=b.next=M,re.lanes|=R,Sn|=R;M=A.action,Zn&&n(u,M),u=A.hasEagerState?A.eagerState:n(u,M)}else R={lane:M,revertLane:A.revertLane,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},b===null?(v=b=R,h=u):b=b.next=R,re.lanes|=M,Sn|=M;A=A.next}while(A!==null&&A!==t);if(b===null?h=u:b.next=v,!ft(u,e.memoizedState)&&(He=!0,C&&(n=xa,n!==null)))throw n;e.memoizedState=u,e.baseState=h,e.baseQueue=b,a.lastRenderedState=u}return l===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Fr(e){var t=Me(),n=t.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=e;var a=n.dispatch,l=n.pending,u=t.memoizedState;if(l!==null){n.pending=null;var h=l=l.next;do u=e(u,h.action),h=h.next;while(h!==l);ft(u,t.memoizedState)||(He=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,a]}function cf(e,t,n){var a=re,l=Me(),u=ge;if(u){if(n===void 0)throw Error(r(407));n=n()}else n=t();var h=!ft((_e||l).memoizedState,n);h&&(l.memoizedState=n,He=!0),l=l.queue;var v=df.bind(null,a,l,e);if(Ui(2048,8,v,[e]),l.getSnapshot!==t||h||ke!==null&&ke.memoizedState.tag&1){if(a.flags|=2048,Da(9,Xl(),ff.bind(null,a,l,n,t),null),Te===null)throw Error(r(349));u||(yn&124)!==0||of(a,t,n)}return n}function of(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=re.updateQueue,t===null?(t=Jr(),re.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ff(e,t,n,a){t.value=n,t.getSnapshot=a,hf(t)&&yf(e)}function df(e,t,n){return n(function(){hf(t)&&yf(e)})}function hf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ft(e,n)}catch{return!0}}function yf(e){var t=_a(e,2);t!==null&&mt(t,e,2)}function eu(e){var t=it();if(typeof e=="function"){var n=e;if(e=n(),Zn){rn(!0);try{n()}finally{rn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qt,lastRenderedState:e},t}function gf(e,t,n,a){return e.baseState=n,Wr(e,_e,typeof a=="function"?a:Qt)}function gv(e,t,n,a,l){if(Ql(e))throw Error(r(485));if(e=t.action,e!==null){var u={payload:l,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(h){u.listeners.push(h)}};U.T!==null?n(!0):u.isTransition=!1,a(u),n=t.pending,n===null?(u.next=t.pending=u,vf(t,u)):(u.next=n.next,t.pending=n.next=u)}}function vf(e,t){var n=t.action,a=t.payload,l=e.state;if(t.isTransition){var u=U.T,h={};U.T=h;try{var v=n(l,a),b=U.S;b!==null&&b(h,v),mf(e,t,v)}catch(A){tu(e,t,A)}finally{U.T=u}}else try{u=n(l,a),mf(e,t,u)}catch(A){tu(e,t,A)}}function mf(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){pf(e,t,a)},function(a){return tu(e,t,a)}):pf(e,t,n)}function pf(e,t,n){t.status="fulfilled",t.value=n,bf(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,vf(e,n)))}function tu(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,bf(t),t=t.next;while(t!==a)}e.action=null}function bf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function _f(e,t){return t}function Sf(e,t){if(ge){var n=Te.formState;if(n!==null){e:{var a=re;if(ge){if(De){t:{for(var l=De,u=Mt;l.nodeType!==8;){if(!u){l=null;break t}if(l=jt(l.nextSibling),l===null){l=null;break t}}u=l.data,l=u==="F!"||u==="F"?l:null}if(l){De=jt(l.nextSibling),a=l.data==="F!";break e}}Xn(a)}a=!1}a&&(t=n[0])}}return n=it(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_f,lastRenderedState:t},n.queue=a,n=Hf.bind(null,re,a),a.dispatch=n,a=eu(!1),u=su.bind(null,re,!1,a.queue),a=it(),l={state:t,dispatch:null,action:e,pending:null},a.queue=l,n=gv.bind(null,re,l,u,n),l.dispatch=n,a.memoizedState=e,[t,n,!1]}function wf(e){var t=Me();return Ef(t,_e,e)}function Ef(e,t,n){if(t=Wr(e,t,_f)[0],e=$l(Qt)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Ni(t)}catch(h){throw h===xi?Ll:h}else a=t;t=Me();var l=t.queue,u=l.dispatch;return n!==t.memoizedState&&(re.flags|=2048,Da(9,Xl(),vv.bind(null,l,n),null)),[a,u,e]}function vv(e,t){e.action=t}function Tf(e){var t=Me(),n=_e;if(n!==null)return Ef(t,n,e);Me(),t=t.memoizedState,n=Me();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function Da(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=re.updateQueue,t===null&&(t=Jr(),re.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Xl(){return{destroy:void 0,resource:void 0}}function xf(){return Me().memoizedState}function Kl(e,t,n,a){var l=it();a=a===void 0?null:a,re.flags|=e,l.memoizedState=Da(1|t,Xl(),n,a)}function Ui(e,t,n,a){var l=Me();a=a===void 0?null:a;var u=l.memoizedState.inst;_e!==null&&a!==null&&Xr(a,_e.memoizedState.deps)?l.memoizedState=Da(t,u,n,a):(re.flags|=e,l.memoizedState=Da(1|t,u,n,a))}function Af(e,t){Kl(8390656,8,e,t)}function Of(e,t){Ui(2048,8,e,t)}function Rf(e,t){return Ui(4,2,e,t)}function Df(e,t){return Ui(4,4,e,t)}function jf(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Nf(e,t,n){n=n!=null?n.concat([e]):null,Ui(4,4,jf.bind(null,t,e),n)}function nu(){}function Uf(e,t){var n=Me();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&Xr(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Cf(e,t){var n=Me();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&Xr(t,a[1]))return a[0];if(a=e(),Zn){rn(!0);try{e()}finally{rn(!1)}}return n.memoizedState=[a,t],a}function au(e,t,n){return n===void 0||(yn&1073741824)!==0?e.memoizedState=t:(e.memoizedState=n,e=zd(),re.lanes|=e,Sn|=e,n)}function kf(e,t,n,a){return ft(n,t)?n:Aa.current!==null?(e=au(e,n,a),ft(e,t)||(He=!0),e):(yn&42)===0?(He=!0,e.memoizedState=n):(e=zd(),re.lanes|=e,Sn|=e,t)}function Mf(e,t,n,a,l){var u=q.p;q.p=u!==0&&8>u?u:8;var h=U.T,v={};U.T=v,su(e,!1,t,n);try{var b=l(),A=U.S;if(A!==null&&A(v,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var C=dv(b,a);Ci(e,t,C,vt(e))}else Ci(e,t,a,vt(e))}catch(M){Ci(e,t,{then:function(){},status:"rejected",reason:M},vt())}finally{q.p=u,U.T=h}}function mv(){}function iu(e,t,n,a){if(e.tag!==5)throw Error(r(476));var l=zf(e).queue;Mf(e,l,t,X,n===null?mv:function(){return qf(e),n(a)})}function zf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qt,lastRenderedState:X},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qt,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function qf(e){var t=zf(e).next.queue;Ci(e,t,{},vt())}function lu(){return Je(Pi)}function Lf(){return Me().memoizedState}function Bf(){return Me().memoizedState}function pv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=vt();e=dn(n);var a=hn(t,e,n);a!==null&&(mt(a,t,n),Oi(a,t,n)),t={cache:Mr()},e.payload=t;return}t=t.return}}function bv(e,t,n){var a=vt();n={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ql(e)?Gf(t,n):(n=xr(e,t,n,a),n!==null&&(mt(n,e,a),Yf(n,t,a)))}function Hf(e,t,n){var a=vt();Ci(e,t,n,a)}function Ci(e,t,n,a){var l={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ql(e))Gf(t,l);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var h=t.lastRenderedState,v=u(h,n);if(l.hasEagerState=!0,l.eagerState=v,ft(v,h))return jl(e,t,l,0),Te===null&&Dl(),!1}catch{}finally{}if(n=xr(e,t,l,a),n!==null)return mt(n,e,a),Yf(n,t,a),!0}return!1}function su(e,t,n,a){if(a={lane:2,revertLane:Lu(),action:a,hasEagerState:!1,eagerState:null,next:null},Ql(e)){if(t)throw Error(r(479))}else t=xr(e,n,a,2),t!==null&&mt(t,e,2)}function Ql(e){var t=e.alternate;return e===re||t!==null&&t===re}function Gf(e,t){Oa=Gl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yf(e,t,n){if((n&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Ic(e,n)}}var Il={readContext:Je,use:Vl,useCallback:Ne,useContext:Ne,useEffect:Ne,useImperativeHandle:Ne,useLayoutEffect:Ne,useInsertionEffect:Ne,useMemo:Ne,useReducer:Ne,useRef:Ne,useState:Ne,useDebugValue:Ne,useDeferredValue:Ne,useTransition:Ne,useSyncExternalStore:Ne,useId:Ne,useHostTransitionStatus:Ne,useFormState:Ne,useActionState:Ne,useOptimistic:Ne,useMemoCache:Ne,useCacheRefresh:Ne},Vf={readContext:Je,use:Vl,useCallback:function(e,t){return it().memoizedState=[e,t===void 0?null:t],e},useContext:Je,useEffect:Af,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Kl(4194308,4,jf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Kl(4194308,4,e,t)},useInsertionEffect:function(e,t){Kl(4,2,e,t)},useMemo:function(e,t){var n=it();t=t===void 0?null:t;var a=e();if(Zn){rn(!0);try{e()}finally{rn(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=it();if(n!==void 0){var l=n(t);if(Zn){rn(!0);try{n(t)}finally{rn(!1)}}}else l=t;return a.memoizedState=a.baseState=l,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:l},a.queue=e,e=e.dispatch=bv.bind(null,re,e),[a.memoizedState,e]},useRef:function(e){var t=it();return e={current:e},t.memoizedState=e},useState:function(e){e=eu(e);var t=e.queue,n=Hf.bind(null,re,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:nu,useDeferredValue:function(e,t){var n=it();return au(n,e,t)},useTransition:function(){var e=eu(!1);return e=Mf.bind(null,re,e.queue,!0,!1),it().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=re,l=it();if(ge){if(n===void 0)throw Error(r(407));n=n()}else{if(n=t(),Te===null)throw Error(r(349));(de&124)!==0||of(a,t,n)}l.memoizedState=n;var u={value:n,getSnapshot:t};return l.queue=u,Af(df.bind(null,a,u,e),[e]),a.flags|=2048,Da(9,Xl(),ff.bind(null,a,u,n,t),null),n},useId:function(){var e=it(),t=Te.identifierPrefix;if(ge){var n=$t,a=Vt;n=(a&~(1<<32-ot(a)-1)).toString(32)+n,t=""+t+"R"+n,n=Yl++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=hv++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:lu,useFormState:Sf,useActionState:Sf,useOptimistic:function(e){var t=it();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=su.bind(null,re,!0,n),n.dispatch=t,[e,t]},useMemoCache:Pr,useCacheRefresh:function(){return it().memoizedState=pv.bind(null,re)}},$f={readContext:Je,use:Vl,useCallback:Uf,useContext:Je,useEffect:Of,useImperativeHandle:Nf,useInsertionEffect:Rf,useLayoutEffect:Df,useMemo:Cf,useReducer:$l,useRef:xf,useState:function(){return $l(Qt)},useDebugValue:nu,useDeferredValue:function(e,t){var n=Me();return kf(n,_e.memoizedState,e,t)},useTransition:function(){var e=$l(Qt)[0],t=Me().memoizedState;return[typeof e=="boolean"?e:Ni(e),t]},useSyncExternalStore:cf,useId:Lf,useHostTransitionStatus:lu,useFormState:wf,useActionState:wf,useOptimistic:function(e,t){var n=Me();return gf(n,_e,e,t)},useMemoCache:Pr,useCacheRefresh:Bf},_v={readContext:Je,use:Vl,useCallback:Uf,useContext:Je,useEffect:Of,useImperativeHandle:Nf,useInsertionEffect:Rf,useLayoutEffect:Df,useMemo:Cf,useReducer:Fr,useRef:xf,useState:function(){return Fr(Qt)},useDebugValue:nu,useDeferredValue:function(e,t){var n=Me();return _e===null?au(n,e,t):kf(n,_e.memoizedState,e,t)},useTransition:function(){var e=Fr(Qt)[0],t=Me().memoizedState;return[typeof e=="boolean"?e:Ni(e),t]},useSyncExternalStore:cf,useId:Lf,useHostTransitionStatus:lu,useFormState:Tf,useActionState:Tf,useOptimistic:function(e,t){var n=Me();return _e!==null?gf(n,_e,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Pr,useCacheRefresh:Bf},ja=null,ki=0;function Zl(e){var t=ki;return ki+=1,ja===null&&(ja=[]),ef(ja,e,t)}function Mi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Jl(e,t){throw t.$$typeof===_?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Xf(e){var t=e._init;return t(e._payload)}function Kf(e){function t(T,w){if(e){var x=T.deletions;x===null?(T.deletions=[w],T.flags|=16):x.push(w)}}function n(T,w){if(!e)return null;for(;w!==null;)t(T,w),w=w.sibling;return null}function a(T){for(var w=new Map;T!==null;)T.key!==null?w.set(T.key,T):w.set(T.index,T),T=T.sibling;return w}function l(T,w){return T=Yt(T,w),T.index=0,T.sibling=null,T}function u(T,w,x){return T.index=x,e?(x=T.alternate,x!==null?(x=x.index,x<w?(T.flags|=67108866,w):x):(T.flags|=67108866,w)):(T.flags|=1048576,w)}function h(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function v(T,w,x,k){return w===null||w.tag!==6?(w=Or(x,T.mode,k),w.return=T,w):(w=l(w,x),w.return=T,w)}function b(T,w,x,k){var $=x.type;return $===N?C(T,w,x.props.children,k,x.key):w!==null&&(w.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Fe&&Xf($)===w.type)?(w=l(w,x.props),Mi(w,x),w.return=T,w):(w=Ul(x.type,x.key,x.props,null,T.mode,k),Mi(w,x),w.return=T,w)}function A(T,w,x,k){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=Rr(x,T.mode,k),w.return=T,w):(w=l(w,x.children||[]),w.return=T,w)}function C(T,w,x,k,$){return w===null||w.tag!==7?(w=Gn(x,T.mode,k,$),w.return=T,w):(w=l(w,x),w.return=T,w)}function M(T,w,x){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=Or(""+w,T.mode,x),w.return=T,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case O:return x=Ul(w.type,w.key,w.props,null,T.mode,x),Mi(x,w),x.return=T,x;case j:return w=Rr(w,T.mode,x),w.return=T,w;case Fe:var k=w._init;return w=k(w._payload),M(T,w,x)}if(Ce(w)||le(w))return w=Gn(w,T.mode,x,null),w.return=T,w;if(typeof w.then=="function")return M(T,Zl(w),x);if(w.$$typeof===B)return M(T,zl(T,w),x);Jl(T,w)}return null}function R(T,w,x,k){var $=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return $!==null?null:v(T,w,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case O:return x.key===$?b(T,w,x,k):null;case j:return x.key===$?A(T,w,x,k):null;case Fe:return $=x._init,x=$(x._payload),R(T,w,x,k)}if(Ce(x)||le(x))return $!==null?null:C(T,w,x,k,null);if(typeof x.then=="function")return R(T,w,Zl(x),k);if(x.$$typeof===B)return R(T,w,zl(T,x),k);Jl(T,x)}return null}function D(T,w,x,k,$){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return T=T.get(x)||null,v(w,T,""+k,$);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case O:return T=T.get(k.key===null?x:k.key)||null,b(w,T,k,$);case j:return T=T.get(k.key===null?x:k.key)||null,A(w,T,k,$);case Fe:var ue=k._init;return k=ue(k._payload),D(T,w,x,k,$)}if(Ce(k)||le(k))return T=T.get(x)||null,C(w,T,k,$,null);if(typeof k.then=="function")return D(T,w,x,Zl(k),$);if(k.$$typeof===B)return D(T,w,x,zl(w,k),$);Jl(w,k)}return null}function F(T,w,x,k){for(var $=null,ue=null,K=w,P=w=0,Ye=null;K!==null&&P<x.length;P++){K.index>P?(Ye=K,K=null):Ye=K.sibling;var ye=R(T,K,x[P],k);if(ye===null){K===null&&(K=Ye);break}e&&K&&ye.alternate===null&&t(T,K),w=u(ye,w,P),ue===null?$=ye:ue.sibling=ye,ue=ye,K=Ye}if(P===x.length)return n(T,K),ge&&Vn(T,P),$;if(K===null){for(;P<x.length;P++)K=M(T,x[P],k),K!==null&&(w=u(K,w,P),ue===null?$=K:ue.sibling=K,ue=K);return ge&&Vn(T,P),$}for(K=a(K);P<x.length;P++)Ye=D(K,T,P,x[P],k),Ye!==null&&(e&&Ye.alternate!==null&&K.delete(Ye.key===null?P:Ye.key),w=u(Ye,w,P),ue===null?$=Ye:ue.sibling=Ye,ue=Ye);return e&&K.forEach(function(jn){return t(T,jn)}),ge&&Vn(T,P),$}function J(T,w,x,k){if(x==null)throw Error(r(151));for(var $=null,ue=null,K=w,P=w=0,Ye=null,ye=x.next();K!==null&&!ye.done;P++,ye=x.next()){K.index>P?(Ye=K,K=null):Ye=K.sibling;var jn=R(T,K,ye.value,k);if(jn===null){K===null&&(K=Ye);break}e&&K&&jn.alternate===null&&t(T,K),w=u(jn,w,P),ue===null?$=jn:ue.sibling=jn,ue=jn,K=Ye}if(ye.done)return n(T,K),ge&&Vn(T,P),$;if(K===null){for(;!ye.done;P++,ye=x.next())ye=M(T,ye.value,k),ye!==null&&(w=u(ye,w,P),ue===null?$=ye:ue.sibling=ye,ue=ye);return ge&&Vn(T,P),$}for(K=a(K);!ye.done;P++,ye=x.next())ye=D(K,T,P,ye.value,k),ye!==null&&(e&&ye.alternate!==null&&K.delete(ye.key===null?P:ye.key),w=u(ye,w,P),ue===null?$=ye:ue.sibling=ye,ue=ye);return e&&K.forEach(function(Sm){return t(T,Sm)}),ge&&Vn(T,P),$}function we(T,w,x,k){if(typeof x=="object"&&x!==null&&x.type===N&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case O:e:{for(var $=x.key;w!==null;){if(w.key===$){if($=x.type,$===N){if(w.tag===7){n(T,w.sibling),k=l(w,x.props.children),k.return=T,T=k;break e}}else if(w.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Fe&&Xf($)===w.type){n(T,w.sibling),k=l(w,x.props),Mi(k,x),k.return=T,T=k;break e}n(T,w);break}else t(T,w);w=w.sibling}x.type===N?(k=Gn(x.props.children,T.mode,k,x.key),k.return=T,T=k):(k=Ul(x.type,x.key,x.props,null,T.mode,k),Mi(k,x),k.return=T,T=k)}return h(T);case j:e:{for($=x.key;w!==null;){if(w.key===$)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){n(T,w.sibling),k=l(w,x.children||[]),k.return=T,T=k;break e}else{n(T,w);break}else t(T,w);w=w.sibling}k=Rr(x,T.mode,k),k.return=T,T=k}return h(T);case Fe:return $=x._init,x=$(x._payload),we(T,w,x,k)}if(Ce(x))return F(T,w,x,k);if(le(x)){if($=le(x),typeof $!="function")throw Error(r(150));return x=$.call(x),J(T,w,x,k)}if(typeof x.then=="function")return we(T,w,Zl(x),k);if(x.$$typeof===B)return we(T,w,zl(T,x),k);Jl(T,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,w!==null&&w.tag===6?(n(T,w.sibling),k=l(w,x),k.return=T,T=k):(n(T,w),k=Or(x,T.mode,k),k.return=T,T=k),h(T)):n(T,w)}return function(T,w,x,k){try{ki=0;var $=we(T,w,x,k);return ja=null,$}catch(K){if(K===xi||K===Ll)throw K;var ue=dt(29,K,null,T.mode);return ue.lanes=k,ue.return=T,ue}finally{}}}var Na=Kf(!0),Qf=Kf(!1),xt=z(null),zt=null;function gn(e){var t=e.alternate;G(Le,Le.current&1),G(xt,e),zt===null&&(t===null||Aa.current!==null||t.memoizedState!==null)&&(zt=e)}function If(e){if(e.tag===22){if(G(Le,Le.current),G(xt,e),zt===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(zt=e)}}else vn()}function vn(){G(Le,Le.current),G(xt,xt.current)}function It(e){Y(xt),zt===e&&(zt=null),Y(Le)}var Le=z(0);function Pl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Ju(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ru(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:p({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var uu={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=vt(),l=dn(a);l.payload=t,n!=null&&(l.callback=n),t=hn(e,l,a),t!==null&&(mt(t,e,a),Oi(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=vt(),l=dn(a);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=hn(e,l,a),t!==null&&(mt(t,e,a),Oi(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=vt(),a=dn(n);a.tag=2,t!=null&&(a.callback=t),t=hn(e,a,n),t!==null&&(mt(t,e,n),Oi(t,e,n))}};function Zf(e,t,n,a,l,u,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,u,h):t.prototype&&t.prototype.isPureReactComponent?!mi(n,a)||!mi(l,u):!0}function Jf(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&uu.enqueueReplaceState(t,t.state,null)}function Jn(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=p({},n));for(var l in e)n[l]===void 0&&(n[l]=e[l])}return n}var Wl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Pf(e){Wl(e)}function Wf(e){console.error(e)}function Ff(e){Wl(e)}function Fl(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function ed(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function cu(e,t,n){return n=dn(n),n.tag=3,n.payload={element:null},n.callback=function(){Fl(e,t)},n}function td(e){return e=dn(e),e.tag=3,e}function nd(e,t,n,a){var l=n.type.getDerivedStateFromError;if(typeof l=="function"){var u=a.value;e.payload=function(){return l(u)},e.callback=function(){ed(t,n,a)}}var h=n.stateNode;h!==null&&typeof h.componentDidCatch=="function"&&(e.callback=function(){ed(t,n,a),typeof l!="function"&&(wn===null?wn=new Set([this]):wn.add(this));var v=a.stack;this.componentDidCatch(a.value,{componentStack:v!==null?v:""})})}function Sv(e,t,n,a,l){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&wi(t,n,l,!0),n=xt.current,n!==null){switch(n.tag){case 13:return zt===null?Cu():n.alternate===null&&je===0&&(je=3),n.flags&=-257,n.flags|=65536,n.lanes=l,a===Lr?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),Mu(e,a,l)),!1;case 22:return n.flags|=65536,a===Lr?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),Mu(e,a,l)),!1}throw Error(r(435,n.tag))}return Mu(e,a,l),Cu(),!1}if(ge)return t=xt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=l,a!==Nr&&(e=Error(r(422),{cause:a}),Si(St(e,n)))):(a!==Nr&&(t=Error(r(423),{cause:a}),Si(St(t,n))),e=e.current.alternate,e.flags|=65536,l&=-l,e.lanes|=l,a=St(a,n),l=cu(e.stateNode,a,l),Gr(e,l),je!==4&&(je=2)),!1;var u=Error(r(520),{cause:a});if(u=St(u,n),Yi===null?Yi=[u]:Yi.push(u),je!==4&&(je=2),t===null)return!0;a=St(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=l&-l,n.lanes|=e,e=cu(n.stateNode,a,e),Gr(n,e),!1;case 1:if(t=n.type,u=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(wn===null||!wn.has(u))))return n.flags|=65536,l&=-l,n.lanes|=l,l=td(l),nd(l,e,n,a),Gr(n,l),!1}n=n.return}while(n!==null);return!1}var ad=Error(r(461)),He=!1;function Ke(e,t,n,a){t.child=e===null?Qf(t,null,n,a):Na(t,e.child,n,a)}function id(e,t,n,a,l){n=n.render;var u=t.ref;if("ref"in a){var h={};for(var v in a)v!=="ref"&&(h[v]=a[v])}else h=a;return Qn(t),a=Kr(e,t,n,h,u,l),v=Qr(),e!==null&&!He?(Ir(e,t,l),Zt(e,t,l)):(ge&&v&&Dr(t),t.flags|=1,Ke(e,t,a,l),t.child)}function ld(e,t,n,a,l){if(e===null){var u=n.type;return typeof u=="function"&&!Ar(u)&&u.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=u,sd(e,t,u,a,l)):(e=Ul(n.type,null,a,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!mu(e,l)){var h=u.memoizedProps;if(n=n.compare,n=n!==null?n:mi,n(h,a)&&e.ref===t.ref)return Zt(e,t,l)}return t.flags|=1,e=Yt(u,a),e.ref=t.ref,e.return=t,t.child=e}function sd(e,t,n,a,l){if(e!==null){var u=e.memoizedProps;if(mi(u,a)&&e.ref===t.ref)if(He=!1,t.pendingProps=a=u,mu(e,l))(e.flags&131072)!==0&&(He=!0);else return t.lanes=e.lanes,Zt(e,t,l)}return ou(e,t,n,a,l)}function rd(e,t,n){var a=t.pendingProps,l=a.children,u=e!==null?e.memoizedState:null;if(a.mode==="hidden"){if((t.flags&128)!==0){if(a=u!==null?u.baseLanes|n:n,e!==null){for(l=t.child=e.child,u=0;l!==null;)u=u|l.lanes|l.childLanes,l=l.sibling;t.childLanes=u&~a}else t.childLanes=0,t.child=null;return ud(e,t,a,n)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ql(t,u!==null?u.cachePool:null),u!==null?sf(t,u):Vr(),If(t);else return t.lanes=t.childLanes=536870912,ud(e,t,u!==null?u.baseLanes|n:n,n)}else u!==null?(ql(t,u.cachePool),sf(t,u),vn(),t.memoizedState=null):(e!==null&&ql(t,null),Vr(),vn());return Ke(e,t,l,n),t.child}function ud(e,t,n,a){var l=qr();return l=l===null?null:{parent:qe._currentValue,pool:l},t.memoizedState={baseLanes:n,cachePool:l},e!==null&&ql(t,null),Vr(),If(t),e!==null&&wi(e,t,a,!0),null}function es(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(r(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function ou(e,t,n,a,l){return Qn(t),n=Kr(e,t,n,a,void 0,l),a=Qr(),e!==null&&!He?(Ir(e,t,l),Zt(e,t,l)):(ge&&a&&Dr(t),t.flags|=1,Ke(e,t,n,l),t.child)}function cd(e,t,n,a,l,u){return Qn(t),t.updateQueue=null,n=uf(t,a,n,l),rf(e),a=Qr(),e!==null&&!He?(Ir(e,t,u),Zt(e,t,u)):(ge&&a&&Dr(t),t.flags|=1,Ke(e,t,n,u),t.child)}function od(e,t,n,a,l){if(Qn(t),t.stateNode===null){var u=Sa,h=n.contextType;typeof h=="object"&&h!==null&&(u=Je(h)),u=new n(a,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=uu,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=a,u.state=t.memoizedState,u.refs={},Br(t),h=n.contextType,u.context=typeof h=="object"&&h!==null?Je(h):Sa,u.state=t.memoizedState,h=n.getDerivedStateFromProps,typeof h=="function"&&(ru(t,n,h,a),u.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(h=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),h!==u.state&&uu.enqueueReplaceState(u,u.state,null),Di(t,a,u,l),Ri(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){u=t.stateNode;var v=t.memoizedProps,b=Jn(n,v);u.props=b;var A=u.context,C=n.contextType;h=Sa,typeof C=="object"&&C!==null&&(h=Je(C));var M=n.getDerivedStateFromProps;C=typeof M=="function"||typeof u.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,C||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(v||A!==h)&&Jf(t,u,a,h),fn=!1;var R=t.memoizedState;u.state=R,Di(t,a,u,l),Ri(),A=t.memoizedState,v||R!==A||fn?(typeof M=="function"&&(ru(t,n,M,a),A=t.memoizedState),(b=fn||Zf(t,n,b,a,R,A,h))?(C||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=A),u.props=a,u.state=A,u.context=h,a=b):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{u=t.stateNode,Hr(e,t),h=t.memoizedProps,C=Jn(n,h),u.props=C,M=t.pendingProps,R=u.context,A=n.contextType,b=Sa,typeof A=="object"&&A!==null&&(b=Je(A)),v=n.getDerivedStateFromProps,(A=typeof v=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==M||R!==b)&&Jf(t,u,a,b),fn=!1,R=t.memoizedState,u.state=R,Di(t,a,u,l),Ri();var D=t.memoizedState;h!==M||R!==D||fn||e!==null&&e.dependencies!==null&&Ml(e.dependencies)?(typeof v=="function"&&(ru(t,n,v,a),D=t.memoizedState),(C=fn||Zf(t,n,C,a,R,D,b)||e!==null&&e.dependencies!==null&&Ml(e.dependencies))?(A||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(a,D,b),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(a,D,b)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=D),u.props=a,u.state=D,u.context=b,a=C):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),a=!1)}return u=a,es(e,t),a=(t.flags&128)!==0,u||a?(u=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&a?(t.child=Na(t,e.child,null,l),t.child=Na(t,null,n,l)):Ke(e,t,n,l),t.memoizedState=u.state,e=t.child):e=Zt(e,t,l),e}function fd(e,t,n,a){return _i(),t.flags|=256,Ke(e,t,n,a),t.child}var fu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function du(e){return{baseLanes:e,cachePool:Po()}}function hu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=At),e}function dd(e,t,n){var a=t.pendingProps,l=!1,u=(t.flags&128)!==0,h;if((h=u)||(h=e!==null&&e.memoizedState===null?!1:(Le.current&2)!==0),h&&(l=!0,t.flags&=-129),h=(t.flags&32)!==0,t.flags&=-33,e===null){if(ge){if(l?gn(t):vn(),ge){var v=De,b;if(b=v){e:{for(b=v,v=Mt;b.nodeType!==8;){if(!v){v=null;break e}if(b=jt(b.nextSibling),b===null){v=null;break e}}v=b}v!==null?(t.memoizedState={dehydrated:v,treeContext:Yn!==null?{id:Vt,overflow:$t}:null,retryLane:536870912,hydrationErrors:null},b=dt(18,null,null,0),b.stateNode=v,b.return=t,t.child=b,et=t,De=null,b=!0):b=!1}b||Xn(t)}if(v=t.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return Ju(v)?t.lanes=32:t.lanes=536870912,null;It(t)}return v=a.children,a=a.fallback,l?(vn(),l=t.mode,v=ts({mode:"hidden",children:v},l),a=Gn(a,l,n,null),v.return=t,a.return=t,v.sibling=a,t.child=v,l=t.child,l.memoizedState=du(n),l.childLanes=hu(e,h,n),t.memoizedState=fu,a):(gn(t),yu(t,v))}if(b=e.memoizedState,b!==null&&(v=b.dehydrated,v!==null)){if(u)t.flags&256?(gn(t),t.flags&=-257,t=gu(e,t,n)):t.memoizedState!==null?(vn(),t.child=e.child,t.flags|=128,t=null):(vn(),l=a.fallback,v=t.mode,a=ts({mode:"visible",children:a.children},v),l=Gn(l,v,n,null),l.flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,Na(t,e.child,null,n),a=t.child,a.memoizedState=du(n),a.childLanes=hu(e,h,n),t.memoizedState=fu,t=l);else if(gn(t),Ju(v)){if(h=v.nextSibling&&v.nextSibling.dataset,h)var A=h.dgst;h=A,a=Error(r(419)),a.stack="",a.digest=h,Si({value:a,source:null,stack:null}),t=gu(e,t,n)}else if(He||wi(e,t,n,!1),h=(n&e.childLanes)!==0,He||h){if(h=Te,h!==null&&(a=n&-n,a=(a&42)!==0?1:Ps(a),a=(a&(h.suspendedLanes|n))!==0?0:a,a!==0&&a!==b.retryLane))throw b.retryLane=a,_a(e,a),mt(h,e,a),ad;v.data==="$?"||Cu(),t=gu(e,t,n)}else v.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=b.treeContext,De=jt(v.nextSibling),et=t,ge=!0,$n=null,Mt=!1,e!==null&&(Et[Tt++]=Vt,Et[Tt++]=$t,Et[Tt++]=Yn,Vt=e.id,$t=e.overflow,Yn=t),t=yu(t,a.children),t.flags|=4096);return t}return l?(vn(),l=a.fallback,v=t.mode,b=e.child,A=b.sibling,a=Yt(b,{mode:"hidden",children:a.children}),a.subtreeFlags=b.subtreeFlags&65011712,A!==null?l=Yt(A,l):(l=Gn(l,v,n,null),l.flags|=2),l.return=t,a.return=t,a.sibling=l,t.child=a,a=l,l=t.child,v=e.child.memoizedState,v===null?v=du(n):(b=v.cachePool,b!==null?(A=qe._currentValue,b=b.parent!==A?{parent:A,pool:A}:b):b=Po(),v={baseLanes:v.baseLanes|n,cachePool:b}),l.memoizedState=v,l.childLanes=hu(e,h,n),t.memoizedState=fu,a):(gn(t),n=e.child,e=n.sibling,n=Yt(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(h=t.deletions,h===null?(t.deletions=[e],t.flags|=16):h.push(e)),t.child=n,t.memoizedState=null,n)}function yu(e,t){return t=ts({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ts(e,t){return e=dt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function gu(e,t,n){return Na(t,e.child,null,n),e=yu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hd(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Cr(e.return,t,n)}function vu(e,t,n,a,l){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:l}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=a,u.tail=n,u.tailMode=l)}function yd(e,t,n){var a=t.pendingProps,l=a.revealOrder,u=a.tail;if(Ke(e,t,a.children,n),a=Le.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hd(e,n,t);else if(e.tag===19)hd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch(G(Le,a),l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Pl(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),vu(t,!1,l,n,u);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Pl(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}vu(t,!0,n,null,u);break;case"together":vu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Sn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(wi(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,n=Yt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Yt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function mu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ml(e)))}function wv(e,t,n){switch(t.tag){case 3:Ae(t,t.stateNode.containerInfo),on(t,qe,e.memoizedState.cache),_i();break;case 27:case 5:Ks(t);break;case 4:Ae(t,t.stateNode.containerInfo);break;case 10:on(t,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(gn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?dd(e,t,n):(gn(t),e=Zt(e,t,n),e!==null?e.sibling:null);gn(t);break;case 19:var l=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(wi(e,t,n,!1),a=(n&t.childLanes)!==0),l){if(a)return yd(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),G(Le,Le.current),a)break;return null;case 22:case 23:return t.lanes=0,rd(e,t,n);case 24:on(t,qe,e.memoizedState.cache)}return Zt(e,t,n)}function gd(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)He=!0;else{if(!mu(e,n)&&(t.flags&128)===0)return He=!1,wv(e,t,n);He=(e.flags&131072)!==0}else He=!1,ge&&(t.flags&1048576)!==0&&$o(t,kl,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var a=t.elementType,l=a._init;if(a=l(a._payload),t.type=a,typeof a=="function")Ar(a)?(e=Jn(a,e),t.tag=1,t=od(null,t,a,e,n)):(t.tag=0,t=ou(null,t,a,e,n));else{if(a!=null){if(l=a.$$typeof,l===I){t.tag=11,t=id(null,t,a,e,n);break e}else if(l===ve){t.tag=14,t=ld(null,t,a,e,n);break e}}throw t=tt(a)||a,Error(r(306,t,""))}}return t;case 0:return ou(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,l=Jn(a,t.pendingProps),od(e,t,a,l,n);case 3:e:{if(Ae(t,t.stateNode.containerInfo),e===null)throw Error(r(387));a=t.pendingProps;var u=t.memoizedState;l=u.element,Hr(e,t),Di(t,a,null,n);var h=t.memoizedState;if(a=h.cache,on(t,qe,a),a!==u.cache&&kr(t,[qe],n,!0),Ri(),a=h.element,u.isDehydrated)if(u={element:a,isDehydrated:!1,cache:h.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=fd(e,t,a,n);break e}else if(a!==l){l=St(Error(r(424)),t),Si(l),t=fd(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(De=jt(e.firstChild),et=t,ge=!0,$n=null,Mt=!0,n=Qf(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(_i(),a===l){t=Zt(e,t,n);break e}Ke(e,t,a,n)}t=t.child}return t;case 26:return es(e,t),e===null?(n=bh(t.type,null,t.pendingProps,null))?t.memoizedState=n:ge||(n=t.type,e=t.pendingProps,a=gs(te.current).createElement(n),a[Ze]=t,a[nt]=e,Ie(a,n,e),Be(a),t.stateNode=a):t.memoizedState=bh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ks(t),e===null&&ge&&(a=t.stateNode=vh(t.type,t.pendingProps,te.current),et=t,Mt=!0,l=De,xn(t.type)?(Pu=l,De=jt(a.firstChild)):De=l),Ke(e,t,t.pendingProps.children,n),es(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ge&&((l=a=De)&&(a=Jv(a,t.type,t.pendingProps,Mt),a!==null?(t.stateNode=a,et=t,De=jt(a.firstChild),Mt=!1,l=!0):l=!1),l||Xn(t)),Ks(t),l=t.type,u=t.pendingProps,h=e!==null?e.memoizedProps:null,a=u.children,Qu(l,u)?a=null:h!==null&&Qu(l,h)&&(t.flags|=32),t.memoizedState!==null&&(l=Kr(e,t,yv,null,null,n),Pi._currentValue=l),es(e,t),Ke(e,t,a,n),t.child;case 6:return e===null&&ge&&((e=n=De)&&(n=Pv(n,t.pendingProps,Mt),n!==null?(t.stateNode=n,et=t,De=null,e=!0):e=!1),e||Xn(t)),null;case 13:return dd(e,t,n);case 4:return Ae(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Na(t,null,a,n):Ke(e,t,a,n),t.child;case 11:return id(e,t,t.type,t.pendingProps,n);case 7:return Ke(e,t,t.pendingProps,n),t.child;case 8:return Ke(e,t,t.pendingProps.children,n),t.child;case 12:return Ke(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,on(t,t.type,a.value),Ke(e,t,a.children,n),t.child;case 9:return l=t.type._context,a=t.pendingProps.children,Qn(t),l=Je(l),a=a(l),t.flags|=1,Ke(e,t,a,n),t.child;case 14:return ld(e,t,t.type,t.pendingProps,n);case 15:return sd(e,t,t.type,t.pendingProps,n);case 19:return yd(e,t,n);case 31:return a=t.pendingProps,n=t.mode,a={mode:a.mode,children:a.children},e===null?(n=ts(a,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=Yt(e.child,a),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return rd(e,t,n);case 24:return Qn(t),a=Je(qe),e===null?(l=qr(),l===null&&(l=Te,u=Mr(),l.pooledCache=u,u.refCount++,u!==null&&(l.pooledCacheLanes|=n),l=u),t.memoizedState={parent:a,cache:l},Br(t),on(t,qe,l)):((e.lanes&n)!==0&&(Hr(e,t),Di(t,null,null,n),Ri()),l=e.memoizedState,u=t.memoizedState,l.parent!==a?(l={parent:a,cache:a},t.memoizedState=l,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=l),on(t,qe,a)):(a=u.cache,on(t,qe,a),a!==l.cache&&kr(t,[qe],n,!0))),Ke(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function Jt(e){e.flags|=4}function vd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Th(t)){if(t=xt.current,t!==null&&((de&4194048)===de?zt!==null:(de&62914560)!==de&&(de&536870912)===0||t!==zt))throw Ai=Lr,Wo;e.flags|=8192}}function ns(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Kc():536870912,e.lanes|=t,Ma|=t)}function zi(e,t){if(!ge)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Re(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,a|=l.subtreeFlags&65011712,a|=l.flags&65011712,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,a|=l.subtreeFlags,a|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Ev(e,t,n){var a=t.pendingProps;switch(jr(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(t),null;case 1:return Re(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Kt(qe),sn(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(bi(t)?Jt(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Qo())),Re(t),null;case 26:return n=t.memoizedState,e===null?(Jt(t),n!==null?(Re(t),vd(t,n)):(Re(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Jt(t),Re(t),vd(t,n)):(Re(t),t.flags&=-16777217):(e.memoizedProps!==a&&Jt(t),Re(t),t.flags&=-16777217),null;case 27:hl(t),n=te.current;var l=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Jt(t);else{if(!a){if(t.stateNode===null)throw Error(r(166));return Re(t),null}e=Z.current,bi(t)?Xo(t):(e=vh(l,a,n),t.stateNode=e,Jt(t))}return Re(t),null;case 5:if(hl(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Jt(t);else{if(!a){if(t.stateNode===null)throw Error(r(166));return Re(t),null}if(e=Z.current,bi(t))Xo(t);else{switch(l=gs(te.current),e){case 1:e=l.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=l.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=l.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=l.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof a.is=="string"?l.createElement("select",{is:a.is}):l.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e=typeof a.is=="string"?l.createElement(n,{is:a.is}):l.createElement(n)}}e[Ze]=t,e[nt]=a;e:for(l=t.child;l!==null;){if(l.tag===5||l.tag===6)e.appendChild(l.stateNode);else if(l.tag!==4&&l.tag!==27&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===t)break e;for(;l.sibling===null;){if(l.return===null||l.return===t)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}t.stateNode=e;e:switch(Ie(e,n,a),n){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Jt(t)}}return Re(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Jt(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(r(166));if(e=te.current,bi(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,l=et,l!==null)switch(l.tag){case 27:case 5:a=l.memoizedProps}e[Ze]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||ch(e.nodeValue,n)),e||Xn(t)}else e=gs(e).createTextNode(a),e[Ze]=t,t.stateNode=e}return Re(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(l=bi(t),a!==null&&a.dehydrated!==null){if(e===null){if(!l)throw Error(r(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));l[Ze]=t}else _i(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Re(t),l=!1}else l=Qo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),l=!0;if(!l)return t.flags&256?(It(t),t):(It(t),null)}if(It(t),(t.flags&128)!==0)return t.lanes=n,t;if(n=a!==null,e=e!==null&&e.memoizedState!==null,n){a=t.child,l=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(l=a.alternate.memoizedState.cachePool.pool);var u=null;a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),ns(t,t.updateQueue),Re(t),null;case 4:return sn(),e===null&&Yu(t.stateNode.containerInfo),Re(t),null;case 10:return Kt(t.type),Re(t),null;case 19:if(Y(Le),l=t.memoizedState,l===null)return Re(t),null;if(a=(t.flags&128)!==0,u=l.rendering,u===null)if(a)zi(l,!1);else{if(je!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=Pl(e),u!==null){for(t.flags|=128,zi(l,!1),e=u.updateQueue,t.updateQueue=e,ns(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Vo(n,e),n=n.sibling;return G(Le,Le.current&1|2),t.child}e=e.sibling}l.tail!==null&&kt()>ls&&(t.flags|=128,a=!0,zi(l,!1),t.lanes=4194304)}else{if(!a)if(e=Pl(u),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,ns(t,e),zi(l,!0),l.tail===null&&l.tailMode==="hidden"&&!u.alternate&&!ge)return Re(t),null}else 2*kt()-l.renderingStartTime>ls&&n!==536870912&&(t.flags|=128,a=!0,zi(l,!1),t.lanes=4194304);l.isBackwards?(u.sibling=t.child,t.child=u):(e=l.last,e!==null?e.sibling=u:t.child=u,l.last=u)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=kt(),t.sibling=null,e=Le.current,G(Le,a?e&1|2:e&1),t):(Re(t),null);case 22:case 23:return It(t),$r(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(Re(t),t.subtreeFlags&6&&(t.flags|=8192)):Re(t),n=t.updateQueue,n!==null&&ns(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&Y(In),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Kt(qe),Re(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function Tv(e,t){switch(jr(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Kt(qe),sn(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return hl(t),null;case 13:if(It(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));_i()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Y(Le),null;case 4:return sn(),null;case 10:return Kt(t.type),null;case 22:case 23:return It(t),$r(),e!==null&&Y(In),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Kt(qe),null;case 25:return null;default:return null}}function md(e,t){switch(jr(t),t.tag){case 3:Kt(qe),sn();break;case 26:case 27:case 5:hl(t);break;case 4:sn();break;case 13:It(t);break;case 19:Y(Le);break;case 10:Kt(t.type);break;case 22:case 23:It(t),$r(),e!==null&&Y(In);break;case 24:Kt(qe)}}function qi(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var l=a.next;n=l;do{if((n.tag&e)===e){a=void 0;var u=n.create,h=n.inst;a=u(),h.destroy=a}n=n.next}while(n!==l)}}catch(v){Ee(t,t.return,v)}}function mn(e,t,n){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var u=l.next;a=u;do{if((a.tag&e)===e){var h=a.inst,v=h.destroy;if(v!==void 0){h.destroy=void 0,l=t;var b=n,A=v;try{A()}catch(C){Ee(l,b,C)}}}a=a.next}while(a!==u)}}catch(C){Ee(t,t.return,C)}}function pd(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{lf(t,n)}catch(a){Ee(e,e.return,a)}}}function bd(e,t,n){n.props=Jn(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){Ee(e,t,a)}}function Li(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(l){Ee(e,t,l)}}function qt(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(l){Ee(e,t,l)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(l){Ee(e,t,l)}else n.current=null}function _d(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(l){Ee(e,e.return,l)}}function pu(e,t,n){try{var a=e.stateNode;Xv(a,e.type,n,t),a[nt]=t}catch(l){Ee(e,e.return,l)}}function Sd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&xn(e.type)||e.tag===4}function bu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&xn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _u(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ys));else if(a!==4&&(a===27&&xn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(_u(e,t,n),e=e.sibling;e!==null;)_u(e,t,n),e=e.sibling}function as(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&xn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(as(e,t,n),e=e.sibling;e!==null;)as(e,t,n),e=e.sibling}function wd(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,l=t.attributes;l.length;)t.removeAttributeNode(l[0]);Ie(t,a,n),t[Ze]=e,t[nt]=n}catch(u){Ee(e,e.return,u)}}var Pt=!1,Ue=!1,Su=!1,Ed=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function xv(e,t){if(e=e.containerInfo,Xu=Ss,e=Co(e),br(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var l=a.anchorOffset,u=a.focusNode;a=a.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var h=0,v=-1,b=-1,A=0,C=0,M=e,R=null;t:for(;;){for(var D;M!==n||l!==0&&M.nodeType!==3||(v=h+l),M!==u||a!==0&&M.nodeType!==3||(b=h+a),M.nodeType===3&&(h+=M.nodeValue.length),(D=M.firstChild)!==null;)R=M,M=D;for(;;){if(M===e)break t;if(R===n&&++A===l&&(v=h),R===u&&++C===a&&(b=h),(D=M.nextSibling)!==null)break;M=R,R=M.parentNode}M=D}n=v===-1||b===-1?null:{start:v,end:b}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ku={focusedElem:e,selectionRange:n},Ss=!1,Ge=t;Ge!==null;)if(t=Ge,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Ge=e;else for(;Ge!==null;){switch(t=Ge,u=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,n=t,l=u.memoizedProps,u=u.memoizedState,a=n.stateNode;try{var F=Jn(n.type,l,n.elementType===n.type);e=a.getSnapshotBeforeUpdate(F,u),a.__reactInternalSnapshotBeforeUpdate=e}catch(J){Ee(n,n.return,J)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Zu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Zu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,Ge=e;break}Ge=t.return}}function Td(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:pn(e,n),a&4&&qi(5,n);break;case 1:if(pn(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(h){Ee(n,n.return,h)}else{var l=Jn(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(l,t,e.__reactInternalSnapshotBeforeUpdate)}catch(h){Ee(n,n.return,h)}}a&64&&pd(n),a&512&&Li(n,n.return);break;case 3:if(pn(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{lf(e,t)}catch(h){Ee(n,n.return,h)}}break;case 27:t===null&&a&4&&wd(n);case 26:case 5:pn(e,n),t===null&&a&4&&_d(n),a&512&&Li(n,n.return);break;case 12:pn(e,n);break;case 13:pn(e,n),a&4&&Od(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=kv.bind(null,n),Wv(e,n))));break;case 22:if(a=n.memoizedState!==null||Pt,!a){t=t!==null&&t.memoizedState!==null||Ue,l=Pt;var u=Ue;Pt=a,(Ue=t)&&!u?bn(e,n,(n.subtreeFlags&8772)!==0):pn(e,n),Pt=l,Ue=u}break;case 30:break;default:pn(e,n)}}function xd(e){var t=e.alternate;t!==null&&(e.alternate=null,xd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&er(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Oe=null,lt=!1;function Wt(e,t,n){for(n=n.child;n!==null;)Ad(e,t,n),n=n.sibling}function Ad(e,t,n){if(ct&&typeof ct.onCommitFiberUnmount=="function")try{ct.onCommitFiberUnmount(li,n)}catch{}switch(n.tag){case 26:Ue||qt(n,t),Wt(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ue||qt(n,t);var a=Oe,l=lt;xn(n.type)&&(Oe=n.stateNode,lt=!1),Wt(e,t,n),Qi(n.stateNode),Oe=a,lt=l;break;case 5:Ue||qt(n,t);case 6:if(a=Oe,l=lt,Oe=null,Wt(e,t,n),Oe=a,lt=l,Oe!==null)if(lt)try{(Oe.nodeType===9?Oe.body:Oe.nodeName==="HTML"?Oe.ownerDocument.body:Oe).removeChild(n.stateNode)}catch(u){Ee(n,t,u)}else try{Oe.removeChild(n.stateNode)}catch(u){Ee(n,t,u)}break;case 18:Oe!==null&&(lt?(e=Oe,yh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),tl(e)):yh(Oe,n.stateNode));break;case 4:a=Oe,l=lt,Oe=n.stateNode.containerInfo,lt=!0,Wt(e,t,n),Oe=a,lt=l;break;case 0:case 11:case 14:case 15:Ue||mn(2,n,t),Ue||mn(4,n,t),Wt(e,t,n);break;case 1:Ue||(qt(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&bd(n,t,a)),Wt(e,t,n);break;case 21:Wt(e,t,n);break;case 22:Ue=(a=Ue)||n.memoizedState!==null,Wt(e,t,n),Ue=a;break;default:Wt(e,t,n)}}function Od(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{tl(e)}catch(n){Ee(t,t.return,n)}}function Av(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Ed),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Ed),t;default:throw Error(r(435,e.tag))}}function wu(e,t){var n=Av(e);t.forEach(function(a){var l=Mv.bind(null,e,a);n.has(a)||(n.add(a),a.then(l,l))})}function ht(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var l=n[a],u=e,h=t,v=h;e:for(;v!==null;){switch(v.tag){case 27:if(xn(v.type)){Oe=v.stateNode,lt=!1;break e}break;case 5:Oe=v.stateNode,lt=!1;break e;case 3:case 4:Oe=v.stateNode.containerInfo,lt=!0;break e}v=v.return}if(Oe===null)throw Error(r(160));Ad(u,h,l),Oe=null,lt=!1,u=l.alternate,u!==null&&(u.return=null),l.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Rd(t,e),t=t.sibling}var Dt=null;function Rd(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ht(t,e),yt(e),a&4&&(mn(3,e,e.return),qi(3,e),mn(5,e,e.return));break;case 1:ht(t,e),yt(e),a&512&&(Ue||n===null||qt(n,n.return)),a&64&&Pt&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var l=Dt;if(ht(t,e),yt(e),a&512&&(Ue||n===null||qt(n,n.return)),a&4){var u=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,l=l.ownerDocument||l;t:switch(a){case"title":u=l.getElementsByTagName("title")[0],(!u||u[ui]||u[Ze]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=l.createElement(a),l.head.insertBefore(u,l.querySelector("head > title"))),Ie(u,a,n),u[Ze]=e,Be(u),a=u;break e;case"link":var h=wh("link","href",l).get(a+(n.href||""));if(h){for(var v=0;v<h.length;v++)if(u=h[v],u.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&u.getAttribute("rel")===(n.rel==null?null:n.rel)&&u.getAttribute("title")===(n.title==null?null:n.title)&&u.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){h.splice(v,1);break t}}u=l.createElement(a),Ie(u,a,n),l.head.appendChild(u);break;case"meta":if(h=wh("meta","content",l).get(a+(n.content||""))){for(v=0;v<h.length;v++)if(u=h[v],u.getAttribute("content")===(n.content==null?null:""+n.content)&&u.getAttribute("name")===(n.name==null?null:n.name)&&u.getAttribute("property")===(n.property==null?null:n.property)&&u.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&u.getAttribute("charset")===(n.charSet==null?null:n.charSet)){h.splice(v,1);break t}}u=l.createElement(a),Ie(u,a,n),l.head.appendChild(u);break;default:throw Error(r(468,a))}u[Ze]=e,Be(u),a=u}e.stateNode=a}else Eh(l,e.type,e.stateNode);else e.stateNode=Sh(l,a,e.memoizedProps);else u!==a?(u===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):u.count--,a===null?Eh(l,e.type,e.stateNode):Sh(l,a,e.memoizedProps)):a===null&&e.stateNode!==null&&pu(e,e.memoizedProps,n.memoizedProps)}break;case 27:ht(t,e),yt(e),a&512&&(Ue||n===null||qt(n,n.return)),n!==null&&a&4&&pu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(ht(t,e),yt(e),a&512&&(Ue||n===null||qt(n,n.return)),e.flags&32){l=e.stateNode;try{ha(l,"")}catch(D){Ee(e,e.return,D)}}a&4&&e.stateNode!=null&&(l=e.memoizedProps,pu(e,l,n!==null?n.memoizedProps:l)),a&1024&&(Su=!0);break;case 6:if(ht(t,e),yt(e),a&4){if(e.stateNode===null)throw Error(r(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(D){Ee(e,e.return,D)}}break;case 3:if(ps=null,l=Dt,Dt=vs(t.containerInfo),ht(t,e),Dt=l,yt(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{tl(t.containerInfo)}catch(D){Ee(e,e.return,D)}Su&&(Su=!1,Dd(e));break;case 4:a=Dt,Dt=vs(e.stateNode.containerInfo),ht(t,e),yt(e),Dt=a;break;case 12:ht(t,e),yt(e);break;case 13:ht(t,e),yt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Ru=kt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,wu(e,a)));break;case 22:l=e.memoizedState!==null;var b=n!==null&&n.memoizedState!==null,A=Pt,C=Ue;if(Pt=A||l,Ue=C||b,ht(t,e),Ue=C,Pt=A,yt(e),a&8192)e:for(t=e.stateNode,t._visibility=l?t._visibility&-2:t._visibility|1,l&&(n===null||b||Pt||Ue||Pn(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){b=n=t;try{if(u=b.stateNode,l)h=u.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{v=b.stateNode;var M=b.memoizedProps.style,R=M!=null&&M.hasOwnProperty("display")?M.display:null;v.style.display=R==null||typeof R=="boolean"?"":(""+R).trim()}}catch(D){Ee(b,b.return,D)}}}else if(t.tag===6){if(n===null){b=t;try{b.stateNode.nodeValue=l?"":b.memoizedProps}catch(D){Ee(b,b.return,D)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,wu(e,n))));break;case 19:ht(t,e),yt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,wu(e,a)));break;case 30:break;case 21:break;default:ht(t,e),yt(e)}}function yt(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(Sd(a)){n=a;break}a=a.return}if(n==null)throw Error(r(160));switch(n.tag){case 27:var l=n.stateNode,u=bu(e);as(e,u,l);break;case 5:var h=n.stateNode;n.flags&32&&(ha(h,""),n.flags&=-33);var v=bu(e);as(e,v,h);break;case 3:case 4:var b=n.stateNode.containerInfo,A=bu(e);_u(e,A,b);break;default:throw Error(r(161))}}catch(C){Ee(e,e.return,C)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Dd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Dd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function pn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Td(e,t.alternate,t),t=t.sibling}function Pn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:mn(4,t,t.return),Pn(t);break;case 1:qt(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&bd(t,t.return,n),Pn(t);break;case 27:Qi(t.stateNode);case 26:case 5:qt(t,t.return),Pn(t);break;case 22:t.memoizedState===null&&Pn(t);break;case 30:Pn(t);break;default:Pn(t)}e=e.sibling}}function bn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,l=e,u=t,h=u.flags;switch(u.tag){case 0:case 11:case 15:bn(l,u,n),qi(4,u);break;case 1:if(bn(l,u,n),a=u,l=a.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(A){Ee(a,a.return,A)}if(a=u,l=a.updateQueue,l!==null){var v=a.stateNode;try{var b=l.shared.hiddenCallbacks;if(b!==null)for(l.shared.hiddenCallbacks=null,l=0;l<b.length;l++)af(b[l],v)}catch(A){Ee(a,a.return,A)}}n&&h&64&&pd(u),Li(u,u.return);break;case 27:wd(u);case 26:case 5:bn(l,u,n),n&&a===null&&h&4&&_d(u),Li(u,u.return);break;case 12:bn(l,u,n);break;case 13:bn(l,u,n),n&&h&4&&Od(l,u);break;case 22:u.memoizedState===null&&bn(l,u,n),Li(u,u.return);break;case 30:break;default:bn(l,u,n)}t=t.sibling}}function Eu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Ei(n))}function Tu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ei(e))}function Lt(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)jd(e,t,n,a),t=t.sibling}function jd(e,t,n,a){var l=t.flags;switch(t.tag){case 0:case 11:case 15:Lt(e,t,n,a),l&2048&&qi(9,t);break;case 1:Lt(e,t,n,a);break;case 3:Lt(e,t,n,a),l&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ei(e)));break;case 12:if(l&2048){Lt(e,t,n,a),e=t.stateNode;try{var u=t.memoizedProps,h=u.id,v=u.onPostCommit;typeof v=="function"&&v(h,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){Ee(t,t.return,b)}}else Lt(e,t,n,a);break;case 13:Lt(e,t,n,a);break;case 23:break;case 22:u=t.stateNode,h=t.alternate,t.memoizedState!==null?u._visibility&2?Lt(e,t,n,a):Bi(e,t):u._visibility&2?Lt(e,t,n,a):(u._visibility|=2,Ua(e,t,n,a,(t.subtreeFlags&10256)!==0)),l&2048&&Eu(h,t);break;case 24:Lt(e,t,n,a),l&2048&&Tu(t.alternate,t);break;default:Lt(e,t,n,a)}}function Ua(e,t,n,a,l){for(l=l&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var u=e,h=t,v=n,b=a,A=h.flags;switch(h.tag){case 0:case 11:case 15:Ua(u,h,v,b,l),qi(8,h);break;case 23:break;case 22:var C=h.stateNode;h.memoizedState!==null?C._visibility&2?Ua(u,h,v,b,l):Bi(u,h):(C._visibility|=2,Ua(u,h,v,b,l)),l&&A&2048&&Eu(h.alternate,h);break;case 24:Ua(u,h,v,b,l),l&&A&2048&&Tu(h.alternate,h);break;default:Ua(u,h,v,b,l)}t=t.sibling}}function Bi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,l=a.flags;switch(a.tag){case 22:Bi(n,a),l&2048&&Eu(a.alternate,a);break;case 24:Bi(n,a),l&2048&&Tu(a.alternate,a);break;default:Bi(n,a)}t=t.sibling}}var Hi=8192;function Ca(e){if(e.subtreeFlags&Hi)for(e=e.child;e!==null;)Nd(e),e=e.sibling}function Nd(e){switch(e.tag){case 26:Ca(e),e.flags&Hi&&e.memoizedState!==null&&fm(Dt,e.memoizedState,e.memoizedProps);break;case 5:Ca(e);break;case 3:case 4:var t=Dt;Dt=vs(e.stateNode.containerInfo),Ca(e),Dt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Hi,Hi=16777216,Ca(e),Hi=t):Ca(e));break;default:Ca(e)}}function Ud(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Gi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Ge=a,kd(a,e)}Ud(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Cd(e),e=e.sibling}function Cd(e){switch(e.tag){case 0:case 11:case 15:Gi(e),e.flags&2048&&mn(9,e,e.return);break;case 3:Gi(e);break;case 12:Gi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,is(e)):Gi(e);break;default:Gi(e)}}function is(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Ge=a,kd(a,e)}Ud(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:mn(8,t,t.return),is(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,is(t));break;default:is(t)}e=e.sibling}}function kd(e,t){for(;Ge!==null;){var n=Ge;switch(n.tag){case 0:case 11:case 15:mn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Ei(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,Ge=a;else e:for(n=e;Ge!==null;){a=Ge;var l=a.sibling,u=a.return;if(xd(a),a===n){Ge=null;break e}if(l!==null){l.return=u,Ge=l;break e}Ge=u}}}var Ov={getCacheForType:function(e){var t=Je(qe),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},Rv=typeof WeakMap=="function"?WeakMap:Map,pe=0,Te=null,ce=null,de=0,be=0,gt=null,_n=!1,ka=!1,xu=!1,Ft=0,je=0,Sn=0,Wn=0,Au=0,At=0,Ma=0,Yi=null,st=null,Ou=!1,Ru=0,ls=1/0,ss=null,wn=null,Qe=0,En=null,za=null,qa=0,Du=0,ju=null,Md=null,Vi=0,Nu=null;function vt(){if((pe&2)!==0&&de!==0)return de&-de;if(U.T!==null){var e=Ta;return e!==0?e:Lu()}return Zc()}function zd(){At===0&&(At=(de&536870912)===0||ge?Xc():536870912);var e=xt.current;return e!==null&&(e.flags|=32),At}function mt(e,t,n){(e===Te&&(be===2||be===9)||e.cancelPendingCommit!==null)&&(La(e,0),Tn(e,de,At,!1)),ri(e,n),((pe&2)===0||e!==Te)&&(e===Te&&((pe&2)===0&&(Wn|=n),je===4&&Tn(e,de,At,!1)),Bt(e))}function qd(e,t,n){if((pe&6)!==0)throw Error(r(327));var a=!n&&(t&124)===0&&(t&e.expiredLanes)===0||si(e,t),l=a?Nv(e,t):ku(e,t,!0),u=a;do{if(l===0){ka&&!a&&Tn(e,t,0,!1);break}else{if(n=e.current.alternate,u&&!Dv(n)){l=ku(e,t,!1),u=!1;continue}if(l===2){if(u=t,e.errorRecoveryDisabledLanes&u)var h=0;else h=e.pendingLanes&-536870913,h=h!==0?h:h&536870912?536870912:0;if(h!==0){t=h;e:{var v=e;l=Yi;var b=v.current.memoizedState.isDehydrated;if(b&&(La(v,h).flags|=256),h=ku(v,h,!1),h!==2){if(xu&&!b){v.errorRecoveryDisabledLanes|=u,Wn|=u,l=4;break e}u=st,st=l,u!==null&&(st===null?st=u:st.push.apply(st,u))}l=h}if(u=!1,l!==2)continue}}if(l===1){La(e,0),Tn(e,t,0,!0);break}e:{switch(a=e,u=l,u){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Tn(a,t,At,!_n);break e;case 2:st=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(l=Ru+300-kt(),10<l)){if(Tn(a,t,At,!_n),ml(a,0,!0)!==0)break e;a.timeoutHandle=dh(Ld.bind(null,a,n,st,ss,Ou,t,At,Wn,Ma,_n,u,2,-0,0),l);break e}Ld(a,n,st,ss,Ou,t,At,Wn,Ma,_n,u,0,-0,0)}}break}while(!0);Bt(e)}function Ld(e,t,n,a,l,u,h,v,b,A,C,M,R,D){if(e.timeoutHandle=-1,M=t.subtreeFlags,(M&8192||(M&16785408)===16785408)&&(Ji={stylesheets:null,count:0,unsuspend:om},Nd(t),M=dm(),M!==null)){e.cancelPendingCommit=M(Xd.bind(null,e,t,u,n,a,l,h,v,b,C,1,R,D)),Tn(e,u,h,!A);return}Xd(e,t,u,n,a,l,h,v,b)}function Dv(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var l=n[a],u=l.getSnapshot;l=l.value;try{if(!ft(u(),l))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Tn(e,t,n,a){t&=~Au,t&=~Wn,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var l=t;0<l;){var u=31-ot(l),h=1<<u;a[u]=-1,l&=~h}n!==0&&Qc(e,n,t)}function rs(){return(pe&6)===0?($i(0),!1):!0}function Uu(){if(ce!==null){if(be===0)var e=ce.return;else e=ce,Xt=Kn=null,Zr(e),ja=null,ki=0,e=ce;for(;e!==null;)md(e.alternate,e),e=e.return;ce=null}}function La(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Qv(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Uu(),Te=e,ce=n=Yt(e.current,null),de=t,be=0,gt=null,_n=!1,ka=si(e,t),xu=!1,Ma=At=Au=Wn=Sn=je=0,st=Yi=null,Ou=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var l=31-ot(a),u=1<<l;t|=e[l],a&=~u}return Ft=t,Dl(),n}function Bd(e,t){re=null,U.H=Il,t===xi||t===Ll?(t=tf(),be=3):t===Wo?(t=tf(),be=4):be=t===ad?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,gt=t,ce===null&&(je=1,Fl(e,St(t,e.current)))}function Hd(){var e=U.H;return U.H=Il,e===null?Il:e}function Gd(){var e=U.A;return U.A=Ov,e}function Cu(){je=4,_n||(de&4194048)!==de&&xt.current!==null||(ka=!0),(Sn&134217727)===0&&(Wn&134217727)===0||Te===null||Tn(Te,de,At,!1)}function ku(e,t,n){var a=pe;pe|=2;var l=Hd(),u=Gd();(Te!==e||de!==t)&&(ss=null,La(e,t)),t=!1;var h=je;e:do try{if(be!==0&&ce!==null){var v=ce,b=gt;switch(be){case 8:Uu(),h=6;break e;case 3:case 2:case 9:case 6:xt.current===null&&(t=!0);var A=be;if(be=0,gt=null,Ba(e,v,b,A),n&&ka){h=0;break e}break;default:A=be,be=0,gt=null,Ba(e,v,b,A)}}jv(),h=je;break}catch(C){Bd(e,C)}while(!0);return t&&e.shellSuspendCounter++,Xt=Kn=null,pe=a,U.H=l,U.A=u,ce===null&&(Te=null,de=0,Dl()),h}function jv(){for(;ce!==null;)Yd(ce)}function Nv(e,t){var n=pe;pe|=2;var a=Hd(),l=Gd();Te!==e||de!==t?(ss=null,ls=kt()+500,La(e,t)):ka=si(e,t);e:do try{if(be!==0&&ce!==null){t=ce;var u=gt;t:switch(be){case 1:be=0,gt=null,Ba(e,t,u,1);break;case 2:case 9:if(Fo(u)){be=0,gt=null,Vd(t);break}t=function(){be!==2&&be!==9||Te!==e||(be=7),Bt(e)},u.then(t,t);break e;case 3:be=7;break e;case 4:be=5;break e;case 7:Fo(u)?(be=0,gt=null,Vd(t)):(be=0,gt=null,Ba(e,t,u,7));break;case 5:var h=null;switch(ce.tag){case 26:h=ce.memoizedState;case 5:case 27:var v=ce;if(!h||Th(h)){be=0,gt=null;var b=v.sibling;if(b!==null)ce=b;else{var A=v.return;A!==null?(ce=A,us(A)):ce=null}break t}}be=0,gt=null,Ba(e,t,u,5);break;case 6:be=0,gt=null,Ba(e,t,u,6);break;case 8:Uu(),je=6;break e;default:throw Error(r(462))}}Uv();break}catch(C){Bd(e,C)}while(!0);return Xt=Kn=null,U.H=a,U.A=l,pe=n,ce!==null?0:(Te=null,de=0,Dl(),je)}function Uv(){for(;ce!==null&&!eg();)Yd(ce)}function Yd(e){var t=gd(e.alternate,e,Ft);e.memoizedProps=e.pendingProps,t===null?us(e):ce=t}function Vd(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=cd(n,t,t.pendingProps,t.type,void 0,de);break;case 11:t=cd(n,t,t.pendingProps,t.type.render,t.ref,de);break;case 5:Zr(t);default:md(n,t),t=ce=Vo(t,Ft),t=gd(n,t,Ft)}e.memoizedProps=e.pendingProps,t===null?us(e):ce=t}function Ba(e,t,n,a){Xt=Kn=null,Zr(t),ja=null,ki=0;var l=t.return;try{if(Sv(e,l,t,n,de)){je=1,Fl(e,St(n,e.current)),ce=null;return}}catch(u){if(l!==null)throw ce=l,u;je=1,Fl(e,St(n,e.current)),ce=null;return}t.flags&32768?(ge||a===1?e=!0:ka||(de&536870912)!==0?e=!1:(_n=e=!0,(a===2||a===9||a===3||a===6)&&(a=xt.current,a!==null&&a.tag===13&&(a.flags|=16384))),$d(t,e)):us(t)}function us(e){var t=e;do{if((t.flags&32768)!==0){$d(t,_n);return}e=t.return;var n=Ev(t.alternate,t,Ft);if(n!==null){ce=n;return}if(t=t.sibling,t!==null){ce=t;return}ce=t=e}while(t!==null);je===0&&(je=5)}function $d(e,t){do{var n=Tv(e.alternate,e);if(n!==null){n.flags&=32767,ce=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ce=e;return}ce=e=n}while(e!==null);je=6,ce=null}function Xd(e,t,n,a,l,u,h,v,b){e.cancelPendingCommit=null;do cs();while(Qe!==0);if((pe&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(u=t.lanes|t.childLanes,u|=Tr,og(e,n,u,h,v,b),e===Te&&(ce=Te=null,de=0),za=t,En=e,qa=n,Du=u,ju=l,Md=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,zv(yl,function(){return Jd(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=U.T,U.T=null,l=q.p,q.p=2,h=pe,pe|=4;try{xv(e,t,n)}finally{pe=h,q.p=l,U.T=a}}Qe=1,Kd(),Qd(),Id()}}function Kd(){if(Qe===1){Qe=0;var e=En,t=za,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=U.T,U.T=null;var a=q.p;q.p=2;var l=pe;pe|=4;try{Rd(t,e);var u=Ku,h=Co(e.containerInfo),v=u.focusedElem,b=u.selectionRange;if(h!==v&&v&&v.ownerDocument&&Uo(v.ownerDocument.documentElement,v)){if(b!==null&&br(v)){var A=b.start,C=b.end;if(C===void 0&&(C=A),"selectionStart"in v)v.selectionStart=A,v.selectionEnd=Math.min(C,v.value.length);else{var M=v.ownerDocument||document,R=M&&M.defaultView||window;if(R.getSelection){var D=R.getSelection(),F=v.textContent.length,J=Math.min(b.start,F),we=b.end===void 0?J:Math.min(b.end,F);!D.extend&&J>we&&(h=we,we=J,J=h);var T=No(v,J),w=No(v,we);if(T&&w&&(D.rangeCount!==1||D.anchorNode!==T.node||D.anchorOffset!==T.offset||D.focusNode!==w.node||D.focusOffset!==w.offset)){var x=M.createRange();x.setStart(T.node,T.offset),D.removeAllRanges(),J>we?(D.addRange(x),D.extend(w.node,w.offset)):(x.setEnd(w.node,w.offset),D.addRange(x))}}}}for(M=[],D=v;D=D.parentNode;)D.nodeType===1&&M.push({element:D,left:D.scrollLeft,top:D.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<M.length;v++){var k=M[v];k.element.scrollLeft=k.left,k.element.scrollTop=k.top}}Ss=!!Xu,Ku=Xu=null}finally{pe=l,q.p=a,U.T=n}}e.current=t,Qe=2}}function Qd(){if(Qe===2){Qe=0;var e=En,t=za,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=U.T,U.T=null;var a=q.p;q.p=2;var l=pe;pe|=4;try{Td(e,t.alternate,t)}finally{pe=l,q.p=a,U.T=n}}Qe=3}}function Id(){if(Qe===4||Qe===3){Qe=0,tg();var e=En,t=za,n=qa,a=Md;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Qe=5:(Qe=0,za=En=null,Zd(e,e.pendingLanes));var l=e.pendingLanes;if(l===0&&(wn=null),Ws(n),t=t.stateNode,ct&&typeof ct.onCommitFiberRoot=="function")try{ct.onCommitFiberRoot(li,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=U.T,l=q.p,q.p=2,U.T=null;try{for(var u=e.onRecoverableError,h=0;h<a.length;h++){var v=a[h];u(v.value,{componentStack:v.stack})}}finally{U.T=t,q.p=l}}(qa&3)!==0&&cs(),Bt(e),l=e.pendingLanes,(n&4194090)!==0&&(l&42)!==0?e===Nu?Vi++:(Vi=0,Nu=e):Vi=0,$i(0)}}function Zd(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ei(t)))}function cs(e){return Kd(),Qd(),Id(),Jd()}function Jd(){if(Qe!==5)return!1;var e=En,t=Du;Du=0;var n=Ws(qa),a=U.T,l=q.p;try{q.p=32>n?32:n,U.T=null,n=ju,ju=null;var u=En,h=qa;if(Qe=0,za=En=null,qa=0,(pe&6)!==0)throw Error(r(331));var v=pe;if(pe|=4,Cd(u.current),jd(u,u.current,h,n),pe=v,$i(0,!1),ct&&typeof ct.onPostCommitFiberRoot=="function")try{ct.onPostCommitFiberRoot(li,u)}catch{}return!0}finally{q.p=l,U.T=a,Zd(e,t)}}function Pd(e,t,n){t=St(n,t),t=cu(e.stateNode,t,2),e=hn(e,t,2),e!==null&&(ri(e,2),Bt(e))}function Ee(e,t,n){if(e.tag===3)Pd(e,e,n);else for(;t!==null;){if(t.tag===3){Pd(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(wn===null||!wn.has(a))){e=St(n,e),n=td(2),a=hn(t,n,2),a!==null&&(nd(n,a,t,e),ri(a,2),Bt(a));break}}t=t.return}}function Mu(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new Rv;var l=new Set;a.set(t,l)}else l=a.get(t),l===void 0&&(l=new Set,a.set(t,l));l.has(n)||(xu=!0,l.add(n),e=Cv.bind(null,e,t,n),t.then(e,e))}function Cv(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Te===e&&(de&n)===n&&(je===4||je===3&&(de&62914560)===de&&300>kt()-Ru?(pe&2)===0&&La(e,0):Au|=n,Ma===de&&(Ma=0)),Bt(e)}function Wd(e,t){t===0&&(t=Kc()),e=_a(e,t),e!==null&&(ri(e,t),Bt(e))}function kv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Wd(e,n)}function Mv(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(r(314))}a!==null&&a.delete(t),Wd(e,n)}function zv(e,t){return Is(e,t)}var os=null,Ha=null,zu=!1,fs=!1,qu=!1,Fn=0;function Bt(e){e!==Ha&&e.next===null&&(Ha===null?os=Ha=e:Ha=Ha.next=e),fs=!0,zu||(zu=!0,Lv())}function $i(e,t){if(!qu&&fs){qu=!0;do for(var n=!1,a=os;a!==null;){if(e!==0){var l=a.pendingLanes;if(l===0)var u=0;else{var h=a.suspendedLanes,v=a.pingedLanes;u=(1<<31-ot(42|e)+1)-1,u&=l&~(h&~v),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(n=!0,nh(a,u))}else u=de,u=ml(a,a===Te?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(u&3)===0||si(a,u)||(n=!0,nh(a,u));a=a.next}while(n);qu=!1}}function qv(){Fd()}function Fd(){fs=zu=!1;var e=0;Fn!==0&&(Kv()&&(e=Fn),Fn=0);for(var t=kt(),n=null,a=os;a!==null;){var l=a.next,u=eh(a,t);u===0?(a.next=null,n===null?os=l:n.next=l,l===null&&(Ha=n)):(n=a,(e!==0||(u&3)!==0)&&(fs=!0)),a=l}$i(e)}function eh(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,l=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var h=31-ot(u),v=1<<h,b=l[h];b===-1?((v&n)===0||(v&a)!==0)&&(l[h]=cg(v,t)):b<=t&&(e.expiredLanes|=v),u&=~v}if(t=Te,n=de,n=ml(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(be===2||be===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Zs(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||si(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&Zs(a),Ws(n)){case 2:case 8:n=Vc;break;case 32:n=yl;break;case 268435456:n=$c;break;default:n=yl}return a=th.bind(null,e),n=Is(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&Zs(a),e.callbackPriority=2,e.callbackNode=null,2}function th(e,t){if(Qe!==0&&Qe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(cs()&&e.callbackNode!==n)return null;var a=de;return a=ml(e,e===Te?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(qd(e,a,t),eh(e,kt()),e.callbackNode!=null&&e.callbackNode===n?th.bind(null,e):null)}function nh(e,t){if(cs())return null;qd(e,t,!0)}function Lv(){Iv(function(){(pe&6)!==0?Is(Yc,qv):Fd()})}function Lu(){return Fn===0&&(Fn=Xc()),Fn}function ah(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:wl(""+e)}function ih(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Bv(e,t,n,a,l){if(t==="submit"&&n&&n.stateNode===l){var u=ah((l[nt]||null).action),h=a.submitter;h&&(t=(t=h[nt]||null)?ah(t.formAction):h.getAttribute("formAction"),t!==null&&(u=t,h=null));var v=new Al("action","action",null,a,l);e.push({event:v,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Fn!==0){var b=h?ih(l,h):new FormData(l);iu(n,{pending:!0,data:b,method:l.method,action:u},null,b)}}else typeof u=="function"&&(v.preventDefault(),b=h?ih(l,h):new FormData(l),iu(n,{pending:!0,data:b,method:l.method,action:u},u,b))},currentTarget:l}]})}}for(var Bu=0;Bu<Er.length;Bu++){var Hu=Er[Bu],Hv=Hu.toLowerCase(),Gv=Hu[0].toUpperCase()+Hu.slice(1);Rt(Hv,"on"+Gv)}Rt(zo,"onAnimationEnd"),Rt(qo,"onAnimationIteration"),Rt(Lo,"onAnimationStart"),Rt("dblclick","onDoubleClick"),Rt("focusin","onFocus"),Rt("focusout","onBlur"),Rt(iv,"onTransitionRun"),Rt(lv,"onTransitionStart"),Rt(sv,"onTransitionCancel"),Rt(Bo,"onTransitionEnd"),oa("onMouseEnter",["mouseout","mouseover"]),oa("onMouseLeave",["mouseout","mouseover"]),oa("onPointerEnter",["pointerout","pointerover"]),oa("onPointerLeave",["pointerout","pointerover"]),qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xi));function lh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],l=a.event;a=a.listeners;e:{var u=void 0;if(t)for(var h=a.length-1;0<=h;h--){var v=a[h],b=v.instance,A=v.currentTarget;if(v=v.listener,b!==u&&l.isPropagationStopped())break e;u=v,l.currentTarget=A;try{u(l)}catch(C){Wl(C)}l.currentTarget=null,u=b}else for(h=0;h<a.length;h++){if(v=a[h],b=v.instance,A=v.currentTarget,v=v.listener,b!==u&&l.isPropagationStopped())break e;u=v,l.currentTarget=A;try{u(l)}catch(C){Wl(C)}l.currentTarget=null,u=b}}}}function oe(e,t){var n=t[Fs];n===void 0&&(n=t[Fs]=new Set);var a=e+"__bubble";n.has(a)||(sh(t,e,2,!1),n.add(a))}function Gu(e,t,n){var a=0;t&&(a|=4),sh(n,e,a,t)}var ds="_reactListening"+Math.random().toString(36).slice(2);function Yu(e){if(!e[ds]){e[ds]=!0,Pc.forEach(function(n){n!=="selectionchange"&&(Yv.has(n)||Gu(n,!1,e),Gu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ds]||(t[ds]=!0,Gu("selectionchange",!1,t))}}function sh(e,t,n,a){switch(jh(t)){case 2:var l=gm;break;case 8:l=vm;break;default:l=nc}n=l.bind(null,t,n,e),l=void 0,!or||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),a?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Vu(e,t,n,a,l){var u=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var h=a.tag;if(h===3||h===4){var v=a.stateNode.containerInfo;if(v===l)break;if(h===4)for(h=a.return;h!==null;){var b=h.tag;if((b===3||b===4)&&h.stateNode.containerInfo===l)return;h=h.return}for(;v!==null;){if(h=ra(v),h===null)return;if(b=h.tag,b===5||b===6||b===26||b===27){a=u=h;continue e}v=v.parentNode}}a=a.return}fo(function(){var A=u,C=ur(n),M=[];e:{var R=Ho.get(e);if(R!==void 0){var D=Al,F=e;switch(e){case"keypress":if(Tl(n)===0)break e;case"keydown":case"keyup":D=zg;break;case"focusin":F="focus",D=yr;break;case"focusout":F="blur",D=yr;break;case"beforeblur":case"afterblur":D=yr;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=go;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=Tg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=Bg;break;case zo:case qo:case Lo:D=Og;break;case Bo:D=Gg;break;case"scroll":case"scrollend":D=wg;break;case"wheel":D=Vg;break;case"copy":case"cut":case"paste":D=Dg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=mo;break;case"toggle":case"beforetoggle":D=Xg}var J=(t&4)!==0,we=!J&&(e==="scroll"||e==="scrollend"),T=J?R!==null?R+"Capture":null:R;J=[];for(var w=A,x;w!==null;){var k=w;if(x=k.stateNode,k=k.tag,k!==5&&k!==26&&k!==27||x===null||T===null||(k=oi(w,T),k!=null&&J.push(Ki(w,k,x))),we)break;w=w.return}0<J.length&&(R=new D(R,F,null,n,C),M.push({event:R,listeners:J}))}}if((t&7)===0){e:{if(R=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",R&&n!==rr&&(F=n.relatedTarget||n.fromElement)&&(ra(F)||F[sa]))break e;if((D||R)&&(R=C.window===C?C:(R=C.ownerDocument)?R.defaultView||R.parentWindow:window,D?(F=n.relatedTarget||n.toElement,D=A,F=F?ra(F):null,F!==null&&(we=f(F),J=F.tag,F!==we||J!==5&&J!==27&&J!==6)&&(F=null)):(D=null,F=A),D!==F)){if(J=go,k="onMouseLeave",T="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(J=mo,k="onPointerLeave",T="onPointerEnter",w="pointer"),we=D==null?R:ci(D),x=F==null?R:ci(F),R=new J(k,w+"leave",D,n,C),R.target=we,R.relatedTarget=x,k=null,ra(C)===A&&(J=new J(T,w+"enter",F,n,C),J.target=x,J.relatedTarget=we,k=J),we=k,D&&F)t:{for(J=D,T=F,w=0,x=J;x;x=Ga(x))w++;for(x=0,k=T;k;k=Ga(k))x++;for(;0<w-x;)J=Ga(J),w--;for(;0<x-w;)T=Ga(T),x--;for(;w--;){if(J===T||T!==null&&J===T.alternate)break t;J=Ga(J),T=Ga(T)}J=null}else J=null;D!==null&&rh(M,R,D,J,!1),F!==null&&we!==null&&rh(M,we,F,J,!0)}}e:{if(R=A?ci(A):window,D=R.nodeName&&R.nodeName.toLowerCase(),D==="select"||D==="input"&&R.type==="file")var $=xo;else if(Eo(R))if(Ao)$=tv;else{$=Fg;var ue=Wg}else D=R.nodeName,!D||D.toLowerCase()!=="input"||R.type!=="checkbox"&&R.type!=="radio"?A&&sr(A.elementType)&&($=xo):$=ev;if($&&($=$(e,A))){To(M,$,n,C);break e}ue&&ue(e,R,A),e==="focusout"&&A&&R.type==="number"&&A.memoizedProps.value!=null&&lr(R,"number",R.value)}switch(ue=A?ci(A):window,e){case"focusin":(Eo(ue)||ue.contentEditable==="true")&&(ma=ue,_r=A,pi=null);break;case"focusout":pi=_r=ma=null;break;case"mousedown":Sr=!0;break;case"contextmenu":case"mouseup":case"dragend":Sr=!1,ko(M,n,C);break;case"selectionchange":if(av)break;case"keydown":case"keyup":ko(M,n,C)}var K;if(vr)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else va?So(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(po&&n.locale!=="ko"&&(va||P!=="onCompositionStart"?P==="onCompositionEnd"&&va&&(K=ho()):(cn=C,fr="value"in cn?cn.value:cn.textContent,va=!0)),ue=hs(A,P),0<ue.length&&(P=new vo(P,e,null,n,C),M.push({event:P,listeners:ue}),K?P.data=K:(K=wo(n),K!==null&&(P.data=K)))),(K=Qg?Ig(e,n):Zg(e,n))&&(P=hs(A,"onBeforeInput"),0<P.length&&(ue=new vo("onBeforeInput","beforeinput",null,n,C),M.push({event:ue,listeners:P}),ue.data=K)),Bv(M,e,A,n,C)}lh(M,t)})}function Ki(e,t,n){return{instance:e,listener:t,currentTarget:n}}function hs(e,t){for(var n=t+"Capture",a=[];e!==null;){var l=e,u=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||u===null||(l=oi(e,n),l!=null&&a.unshift(Ki(e,l,u)),l=oi(e,t),l!=null&&a.push(Ki(e,l,u))),e.tag===3)return a;e=e.return}return[]}function Ga(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function rh(e,t,n,a,l){for(var u=t._reactName,h=[];n!==null&&n!==a;){var v=n,b=v.alternate,A=v.stateNode;if(v=v.tag,b!==null&&b===a)break;v!==5&&v!==26&&v!==27||A===null||(b=A,l?(A=oi(n,u),A!=null&&h.unshift(Ki(n,A,b))):l||(A=oi(n,u),A!=null&&h.push(Ki(n,A,b)))),n=n.return}h.length!==0&&e.push({event:t,listeners:h})}var Vv=/\r\n?/g,$v=/\u0000|\uFFFD/g;function uh(e){return(typeof e=="string"?e:""+e).replace(Vv,`
`).replace($v,"")}function ch(e,t){return t=uh(t),uh(e)===t}function ys(){}function Se(e,t,n,a,l,u){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||ha(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&ha(e,""+a);break;case"className":bl(e,"class",a);break;case"tabIndex":bl(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":bl(e,n,a);break;case"style":co(e,a,u);break;case"data":if(t!=="object"){bl(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=wl(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(n==="formAction"?(t!=="input"&&Se(e,t,"name",l.name,l,null),Se(e,t,"formEncType",l.formEncType,l,null),Se(e,t,"formMethod",l.formMethod,l,null),Se(e,t,"formTarget",l.formTarget,l,null)):(Se(e,t,"encType",l.encType,l,null),Se(e,t,"method",l.method,l,null),Se(e,t,"target",l.target,l,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=wl(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=ys);break;case"onScroll":a!=null&&oe("scroll",e);break;case"onScrollEnd":a!=null&&oe("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(n=a.__html,n!=null){if(l.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=wl(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":oe("beforetoggle",e),oe("toggle",e),pl(e,"popover",a);break;case"xlinkActuate":Ht(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Ht(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Ht(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Ht(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Ht(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Ht(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Ht(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Ht(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Ht(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":pl(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=_g.get(n)||n,pl(e,n,a))}}function $u(e,t,n,a,l,u){switch(n){case"style":co(e,a,u);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(n=a.__html,n!=null){if(l.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"children":typeof a=="string"?ha(e,a):(typeof a=="number"||typeof a=="bigint")&&ha(e,""+a);break;case"onScroll":a!=null&&oe("scroll",e);break;case"onScrollEnd":a!=null&&oe("scrollend",e);break;case"onClick":a!=null&&(e.onclick=ys);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wc.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(l=n.endsWith("Capture"),t=n.slice(2,l?n.length-7:void 0),u=e[nt]||null,u=u!=null?u[n]:null,typeof u=="function"&&e.removeEventListener(t,u,l),typeof a=="function")){typeof u!="function"&&u!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,l);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):pl(e,n,a)}}}function Ie(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":oe("error",e),oe("load",e);var a=!1,l=!1,u;for(u in n)if(n.hasOwnProperty(u)){var h=n[u];if(h!=null)switch(u){case"src":a=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Se(e,t,u,h,n,null)}}l&&Se(e,t,"srcSet",n.srcSet,n,null),a&&Se(e,t,"src",n.src,n,null);return;case"input":oe("invalid",e);var v=u=h=l=null,b=null,A=null;for(a in n)if(n.hasOwnProperty(a)){var C=n[a];if(C!=null)switch(a){case"name":l=C;break;case"type":h=C;break;case"checked":b=C;break;case"defaultChecked":A=C;break;case"value":u=C;break;case"defaultValue":v=C;break;case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(137,t));break;default:Se(e,t,a,C,n,null)}}lo(e,u,v,b,A,h,l,!1),_l(e);return;case"select":oe("invalid",e),a=h=u=null;for(l in n)if(n.hasOwnProperty(l)&&(v=n[l],v!=null))switch(l){case"value":u=v;break;case"defaultValue":h=v;break;case"multiple":a=v;default:Se(e,t,l,v,n,null)}t=u,n=h,e.multiple=!!a,t!=null?da(e,!!a,t,!1):n!=null&&da(e,!!a,n,!0);return;case"textarea":oe("invalid",e),u=l=a=null;for(h in n)if(n.hasOwnProperty(h)&&(v=n[h],v!=null))switch(h){case"value":a=v;break;case"defaultValue":l=v;break;case"children":u=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:Se(e,t,h,v,n,null)}ro(e,a,l,u),_l(e);return;case"option":for(b in n)if(n.hasOwnProperty(b)&&(a=n[b],a!=null))switch(b){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Se(e,t,b,a,n,null)}return;case"dialog":oe("beforetoggle",e),oe("toggle",e),oe("cancel",e),oe("close",e);break;case"iframe":case"object":oe("load",e);break;case"video":case"audio":for(a=0;a<Xi.length;a++)oe(Xi[a],e);break;case"image":oe("error",e),oe("load",e);break;case"details":oe("toggle",e);break;case"embed":case"source":case"link":oe("error",e),oe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in n)if(n.hasOwnProperty(A)&&(a=n[A],a!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Se(e,t,A,a,n,null)}return;default:if(sr(t)){for(C in n)n.hasOwnProperty(C)&&(a=n[C],a!==void 0&&$u(e,t,C,a,n,void 0));return}}for(v in n)n.hasOwnProperty(v)&&(a=n[v],a!=null&&Se(e,t,v,a,n,null))}function Xv(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,u=null,h=null,v=null,b=null,A=null,C=null;for(D in n){var M=n[D];if(n.hasOwnProperty(D)&&M!=null)switch(D){case"checked":break;case"value":break;case"defaultValue":b=M;default:a.hasOwnProperty(D)||Se(e,t,D,null,a,M)}}for(var R in a){var D=a[R];if(M=n[R],a.hasOwnProperty(R)&&(D!=null||M!=null))switch(R){case"type":u=D;break;case"name":l=D;break;case"checked":A=D;break;case"defaultChecked":C=D;break;case"value":h=D;break;case"defaultValue":v=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(137,t));break;default:D!==M&&Se(e,t,R,D,a,M)}}ir(e,h,v,b,A,C,u,l);return;case"select":D=h=v=R=null;for(u in n)if(b=n[u],n.hasOwnProperty(u)&&b!=null)switch(u){case"value":break;case"multiple":D=b;default:a.hasOwnProperty(u)||Se(e,t,u,null,a,b)}for(l in a)if(u=a[l],b=n[l],a.hasOwnProperty(l)&&(u!=null||b!=null))switch(l){case"value":R=u;break;case"defaultValue":v=u;break;case"multiple":h=u;default:u!==b&&Se(e,t,l,u,a,b)}t=v,n=h,a=D,R!=null?da(e,!!n,R,!1):!!a!=!!n&&(t!=null?da(e,!!n,t,!0):da(e,!!n,n?[]:"",!1));return;case"textarea":D=R=null;for(v in n)if(l=n[v],n.hasOwnProperty(v)&&l!=null&&!a.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Se(e,t,v,null,a,l)}for(h in a)if(l=a[h],u=n[h],a.hasOwnProperty(h)&&(l!=null||u!=null))switch(h){case"value":R=l;break;case"defaultValue":D=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(r(91));break;default:l!==u&&Se(e,t,h,l,a,u)}so(e,R,D);return;case"option":for(var F in n)if(R=n[F],n.hasOwnProperty(F)&&R!=null&&!a.hasOwnProperty(F))switch(F){case"selected":e.selected=!1;break;default:Se(e,t,F,null,a,R)}for(b in a)if(R=a[b],D=n[b],a.hasOwnProperty(b)&&R!==D&&(R!=null||D!=null))switch(b){case"selected":e.selected=R&&typeof R!="function"&&typeof R!="symbol";break;default:Se(e,t,b,R,a,D)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var J in n)R=n[J],n.hasOwnProperty(J)&&R!=null&&!a.hasOwnProperty(J)&&Se(e,t,J,null,a,R);for(A in a)if(R=a[A],D=n[A],a.hasOwnProperty(A)&&R!==D&&(R!=null||D!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(137,t));break;default:Se(e,t,A,R,a,D)}return;default:if(sr(t)){for(var we in n)R=n[we],n.hasOwnProperty(we)&&R!==void 0&&!a.hasOwnProperty(we)&&$u(e,t,we,void 0,a,R);for(C in a)R=a[C],D=n[C],!a.hasOwnProperty(C)||R===D||R===void 0&&D===void 0||$u(e,t,C,R,a,D);return}}for(var T in n)R=n[T],n.hasOwnProperty(T)&&R!=null&&!a.hasOwnProperty(T)&&Se(e,t,T,null,a,R);for(M in a)R=a[M],D=n[M],!a.hasOwnProperty(M)||R===D||R==null&&D==null||Se(e,t,M,R,a,D)}var Xu=null,Ku=null;function gs(e){return e.nodeType===9?e:e.ownerDocument}function oh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Qu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Iu=null;function Kv(){var e=window.event;return e&&e.type==="popstate"?e===Iu?!1:(Iu=e,!0):(Iu=null,!1)}var dh=typeof setTimeout=="function"?setTimeout:void 0,Qv=typeof clearTimeout=="function"?clearTimeout:void 0,hh=typeof Promise=="function"?Promise:void 0,Iv=typeof queueMicrotask=="function"?queueMicrotask:typeof hh<"u"?function(e){return hh.resolve(null).then(e).catch(Zv)}:dh;function Zv(e){setTimeout(function(){throw e})}function xn(e){return e==="head"}function yh(e,t){var n=t,a=0,l=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"){if(0<a&&8>a){n=a;var h=e.ownerDocument;if(n&1&&Qi(h.documentElement),n&2&&Qi(h.body),n&4)for(n=h.head,Qi(n),h=n.firstChild;h;){var v=h.nextSibling,b=h.nodeName;h[ui]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&h.rel.toLowerCase()==="stylesheet"||n.removeChild(h),h=v}}if(l===0){e.removeChild(u),tl(t);return}l--}else n==="$"||n==="$?"||n==="$!"?l++:a=n.charCodeAt(0)-48;else a=0;n=u}while(n);tl(t)}function Zu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Zu(n),er(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Jv(e,t,n,a){for(;e.nodeType===1;){var l=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[ui])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==l.rel||e.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||e.getAttribute("title")!==(l.title==null?null:l.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(l.src==null?null:l.src)||e.getAttribute("type")!==(l.type==null?null:l.type)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=l.name==null?null:""+l.name;if(l.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=jt(e.nextSibling),e===null)break}return null}function Pv(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=jt(e.nextSibling),e===null))return null;return e}function Ju(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Wv(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function jt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Pu=null;function gh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function vh(e,t,n){switch(t=gs(n),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Qi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);er(e)}var Ot=new Map,mh=new Set;function vs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var en=q.d;q.d={f:Fv,r:em,D:tm,C:nm,L:am,m:im,X:sm,S:lm,M:rm};function Fv(){var e=en.f(),t=rs();return e||t}function em(e){var t=ua(e);t!==null&&t.tag===5&&t.type==="form"?qf(t):en.r(e)}var Ya=typeof document>"u"?null:document;function ph(e,t,n){var a=Ya;if(a&&typeof t=="string"&&t){var l=_t(t);l='link[rel="'+e+'"][href="'+l+'"]',typeof n=="string"&&(l+='[crossorigin="'+n+'"]'),mh.has(l)||(mh.add(l),e={rel:e,crossOrigin:n,href:t},a.querySelector(l)===null&&(t=a.createElement("link"),Ie(t,"link",e),Be(t),a.head.appendChild(t)))}}function tm(e){en.D(e),ph("dns-prefetch",e,null)}function nm(e,t){en.C(e,t),ph("preconnect",e,t)}function am(e,t,n){en.L(e,t,n);var a=Ya;if(a&&e&&t){var l='link[rel="preload"][as="'+_t(t)+'"]';t==="image"&&n&&n.imageSrcSet?(l+='[imagesrcset="'+_t(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(l+='[imagesizes="'+_t(n.imageSizes)+'"]')):l+='[href="'+_t(e)+'"]';var u=l;switch(t){case"style":u=Va(e);break;case"script":u=$a(e)}Ot.has(u)||(e=p({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Ot.set(u,e),a.querySelector(l)!==null||t==="style"&&a.querySelector(Ii(u))||t==="script"&&a.querySelector(Zi(u))||(t=a.createElement("link"),Ie(t,"link",e),Be(t),a.head.appendChild(t)))}}function im(e,t){en.m(e,t);var n=Ya;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",l='link[rel="modulepreload"][as="'+_t(a)+'"][href="'+_t(e)+'"]',u=l;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=$a(e)}if(!Ot.has(u)&&(e=p({rel:"modulepreload",href:e},t),Ot.set(u,e),n.querySelector(l)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Zi(u)))return}a=n.createElement("link"),Ie(a,"link",e),Be(a),n.head.appendChild(a)}}}function lm(e,t,n){en.S(e,t,n);var a=Ya;if(a&&e){var l=ca(a).hoistableStyles,u=Va(e);t=t||"default";var h=l.get(u);if(!h){var v={loading:0,preload:null};if(h=a.querySelector(Ii(u)))v.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ot.get(u))&&Wu(e,n);var b=h=a.createElement("link");Be(b),Ie(b,"link",e),b._p=new Promise(function(A,C){b.onload=A,b.onerror=C}),b.addEventListener("load",function(){v.loading|=1}),b.addEventListener("error",function(){v.loading|=2}),v.loading|=4,ms(h,t,a)}h={type:"stylesheet",instance:h,count:1,state:v},l.set(u,h)}}}function sm(e,t){en.X(e,t);var n=Ya;if(n&&e){var a=ca(n).hoistableScripts,l=$a(e),u=a.get(l);u||(u=n.querySelector(Zi(l)),u||(e=p({src:e,async:!0},t),(t=Ot.get(l))&&Fu(e,t),u=n.createElement("script"),Be(u),Ie(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},a.set(l,u))}}function rm(e,t){en.M(e,t);var n=Ya;if(n&&e){var a=ca(n).hoistableScripts,l=$a(e),u=a.get(l);u||(u=n.querySelector(Zi(l)),u||(e=p({src:e,async:!0,type:"module"},t),(t=Ot.get(l))&&Fu(e,t),u=n.createElement("script"),Be(u),Ie(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},a.set(l,u))}}function bh(e,t,n,a){var l=(l=te.current)?vs(l):null;if(!l)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Va(n.href),n=ca(l).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Va(n.href);var u=ca(l).hoistableStyles,h=u.get(e);if(h||(l=l.ownerDocument||l,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=l.querySelector(Ii(e)))&&!u._p&&(h.instance=u,h.state.loading=5),Ot.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ot.set(e,n),u||um(l,e,n,h.state))),t&&a===null)throw Error(r(528,""));return h}if(t&&a!==null)throw Error(r(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=$a(n),n=ca(l).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Va(e){return'href="'+_t(e)+'"'}function Ii(e){return'link[rel="stylesheet"]['+e+"]"}function _h(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function um(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Ie(t,"link",n),Be(t),e.head.appendChild(t))}function $a(e){return'[src="'+_t(e)+'"]'}function Zi(e){return"script[async]"+e}function Sh(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+_t(n.href)+'"]');if(a)return t.instance=a,Be(a),a;var l=p({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Be(a),Ie(a,"style",l),ms(a,n.precedence,e),t.instance=a;case"stylesheet":l=Va(n.href);var u=e.querySelector(Ii(l));if(u)return t.state.loading|=4,t.instance=u,Be(u),u;a=_h(n),(l=Ot.get(l))&&Wu(a,l),u=(e.ownerDocument||e).createElement("link"),Be(u);var h=u;return h._p=new Promise(function(v,b){h.onload=v,h.onerror=b}),Ie(u,"link",a),t.state.loading|=4,ms(u,n.precedence,e),t.instance=u;case"script":return u=$a(n.src),(l=e.querySelector(Zi(u)))?(t.instance=l,Be(l),l):(a=n,(l=Ot.get(u))&&(a=p({},n),Fu(a,l)),e=e.ownerDocument||e,l=e.createElement("script"),Be(l),Ie(l,"link",a),e.head.appendChild(l),t.instance=l);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,ms(a,n.precedence,e));return t.instance}function ms(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=a.length?a[a.length-1]:null,u=l,h=0;h<a.length;h++){var v=a[h];if(v.dataset.precedence===t)u=v;else if(u!==l)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Wu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Fu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ps=null;function wh(e,t,n){if(ps===null){var a=new Map,l=ps=new Map;l.set(n,a)}else l=ps,a=l.get(n),a||(a=new Map,l.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),l=0;l<n.length;l++){var u=n[l];if(!(u[ui]||u[Ze]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var h=u.getAttribute(t)||"";h=e+h;var v=a.get(h);v?v.push(u):a.set(h,[u])}}return a}function Eh(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function cm(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Th(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ji=null;function om(){}function fm(e,t,n){if(Ji===null)throw Error(r(475));var a=Ji;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var l=Va(n.href),u=e.querySelector(Ii(l));if(u){e=u._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(a.count++,a=bs.bind(a),e.then(a,a)),t.state.loading|=4,t.instance=u,Be(u);return}u=e.ownerDocument||e,n=_h(n),(l=Ot.get(l))&&Wu(n,l),u=u.createElement("link"),Be(u);var h=u;h._p=new Promise(function(v,b){h.onload=v,h.onerror=b}),Ie(u,"link",n),t.instance=u}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(a.count++,t=bs.bind(a),e.addEventListener("load",t),e.addEventListener("error",t))}}function dm(){if(Ji===null)throw Error(r(475));var e=Ji;return e.stylesheets&&e.count===0&&ec(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&ec(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function bs(){if(this.count--,this.count===0){if(this.stylesheets)ec(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var _s=null;function ec(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,_s=new Map,t.forEach(hm,e),_s=null,bs.call(e))}function hm(e,t){if(!(t.state.loading&4)){var n=_s.get(e);if(n)var a=n.get(null);else{n=new Map,_s.set(e,n);for(var l=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<l.length;u++){var h=l[u];(h.nodeName==="LINK"||h.getAttribute("media")!=="not all")&&(n.set(h.dataset.precedence,h),a=h)}a&&n.set(null,a)}l=t.instance,h=l.getAttribute("data-precedence"),u=n.get(h)||a,u===a&&n.set(null,l),n.set(h,l),this.count++,a=bs.bind(this),l.addEventListener("load",a),l.addEventListener("error",a),u?u.parentNode.insertBefore(l,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(l,e.firstChild)),t.state.loading|=4}}var Pi={$$typeof:B,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function ym(e,t,n,a,l,u,h,v){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Js(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Js(0),this.hiddenUpdates=Js(null),this.identifierPrefix=a,this.onUncaughtError=l,this.onCaughtError=u,this.onRecoverableError=h,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function xh(e,t,n,a,l,u,h,v,b,A,C,M){return e=new ym(e,t,n,h,v,b,A,M),t=1,u===!0&&(t|=24),u=dt(3,null,null,t),e.current=u,u.stateNode=e,t=Mr(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:a,isDehydrated:n,cache:t},Br(u),e}function Ah(e){return e?(e=Sa,e):Sa}function Oh(e,t,n,a,l,u){l=Ah(l),a.context===null?a.context=l:a.pendingContext=l,a=dn(t),a.payload={element:n},u=u===void 0?null:u,u!==null&&(a.callback=u),n=hn(e,a,t),n!==null&&(mt(n,e,t),Oi(n,e,t))}function Rh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function tc(e,t){Rh(e,t),(e=e.alternate)&&Rh(e,t)}function Dh(e){if(e.tag===13){var t=_a(e,67108864);t!==null&&mt(t,e,67108864),tc(e,67108864)}}var Ss=!0;function gm(e,t,n,a){var l=U.T;U.T=null;var u=q.p;try{q.p=2,nc(e,t,n,a)}finally{q.p=u,U.T=l}}function vm(e,t,n,a){var l=U.T;U.T=null;var u=q.p;try{q.p=8,nc(e,t,n,a)}finally{q.p=u,U.T=l}}function nc(e,t,n,a){if(Ss){var l=ac(a);if(l===null)Vu(e,t,a,ws,n),Nh(e,a);else if(pm(l,e,t,n,a))a.stopPropagation();else if(Nh(e,a),t&4&&-1<mm.indexOf(e)){for(;l!==null;){var u=ua(l);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var h=zn(u.pendingLanes);if(h!==0){var v=u;for(v.pendingLanes|=2,v.entangledLanes|=2;h;){var b=1<<31-ot(h);v.entanglements[1]|=b,h&=~b}Bt(u),(pe&6)===0&&(ls=kt()+500,$i(0))}}break;case 13:v=_a(u,2),v!==null&&mt(v,u,2),rs(),tc(u,2)}if(u=ac(a),u===null&&Vu(e,t,a,ws,n),u===l)break;l=u}l!==null&&a.stopPropagation()}else Vu(e,t,a,null,n)}}function ac(e){return e=ur(e),ic(e)}var ws=null;function ic(e){if(ws=null,e=ra(e),e!==null){var t=f(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=d(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ws=e,null}function jh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ng()){case Yc:return 2;case Vc:return 8;case yl:case ag:return 32;case $c:return 268435456;default:return 32}default:return 32}}var lc=!1,An=null,On=null,Rn=null,Wi=new Map,Fi=new Map,Dn=[],mm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Nh(e,t){switch(e){case"focusin":case"focusout":An=null;break;case"dragenter":case"dragleave":On=null;break;case"mouseover":case"mouseout":Rn=null;break;case"pointerover":case"pointerout":Wi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fi.delete(t.pointerId)}}function el(e,t,n,a,l,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:u,targetContainers:[l]},t!==null&&(t=ua(t),t!==null&&Dh(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function pm(e,t,n,a,l){switch(t){case"focusin":return An=el(An,e,t,n,a,l),!0;case"dragenter":return On=el(On,e,t,n,a,l),!0;case"mouseover":return Rn=el(Rn,e,t,n,a,l),!0;case"pointerover":var u=l.pointerId;return Wi.set(u,el(Wi.get(u)||null,e,t,n,a,l)),!0;case"gotpointercapture":return u=l.pointerId,Fi.set(u,el(Fi.get(u)||null,e,t,n,a,l)),!0}return!1}function Uh(e){var t=ra(e.target);if(t!==null){var n=f(t);if(n!==null){if(t=n.tag,t===13){if(t=d(n),t!==null){e.blockedOn=t,fg(e.priority,function(){if(n.tag===13){var a=vt();a=Ps(a);var l=_a(n,a);l!==null&&mt(l,n,a),tc(n,a)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Es(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ac(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);rr=a,n.target.dispatchEvent(a),rr=null}else return t=ua(n),t!==null&&Dh(t),e.blockedOn=n,!1;t.shift()}return!0}function Ch(e,t,n){Es(e)&&n.delete(t)}function bm(){lc=!1,An!==null&&Es(An)&&(An=null),On!==null&&Es(On)&&(On=null),Rn!==null&&Es(Rn)&&(Rn=null),Wi.forEach(Ch),Fi.forEach(Ch)}function Ts(e,t){e.blockedOn===t&&(e.blockedOn=null,lc||(lc=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,bm)))}var xs=null;function kh(e){xs!==e&&(xs=e,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){xs===e&&(xs=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],l=e[t+2];if(typeof a!="function"){if(ic(a||n)===null)continue;break}var u=ua(n);u!==null&&(e.splice(t,3),t-=3,iu(u,{pending:!0,data:l,method:n.method,action:a},a,l))}}))}function tl(e){function t(b){return Ts(b,e)}An!==null&&Ts(An,e),On!==null&&Ts(On,e),Rn!==null&&Ts(Rn,e),Wi.forEach(t),Fi.forEach(t);for(var n=0;n<Dn.length;n++){var a=Dn[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Dn.length&&(n=Dn[0],n.blockedOn===null);)Uh(n),n.blockedOn===null&&Dn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var l=n[a],u=n[a+1],h=l[nt]||null;if(typeof u=="function")h||kh(n);else if(h){var v=null;if(u&&u.hasAttribute("formAction")){if(l=u,h=u[nt]||null)v=h.formAction;else if(ic(l)!==null)continue}else v=h.action;typeof v=="function"?n[a+1]=v:(n.splice(a,3),a-=3),kh(n)}}}function sc(e){this._internalRoot=e}As.prototype.render=sc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var n=t.current,a=vt();Oh(n,a,e,t,null,null)},As.prototype.unmount=sc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Oh(e.current,2,null,e,null,null),rs(),t[sa]=null}};function As(e){this._internalRoot=e}As.prototype.unstable_scheduleHydration=function(e){if(e){var t=Zc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dn.length&&t!==0&&t<Dn[n].priority;n++);Dn.splice(n,0,e),n===0&&Uh(e)}};var Mh=i.version;if(Mh!=="19.1.0")throw Error(r(527,Mh,"19.1.0"));q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(t),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var _m={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Os=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Os.isDisabled&&Os.supportsFiber)try{li=Os.inject(_m),ct=Os}catch{}}return al.createRoot=function(e,t){if(!o(e))throw Error(r(299));var n=!1,a="",l=Pf,u=Wf,h=Ff,v=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(l=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(h=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(v=t.unstable_transitionCallbacks)),t=xh(e,1,!1,null,null,n,a,l,u,h,v,null),e[sa]=t.current,Yu(e),new sc(t)},al.hydrateRoot=function(e,t,n){if(!o(e))throw Error(r(299));var a=!1,l="",u=Pf,h=Wf,v=Ff,b=null,A=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(b=n.unstable_transitionCallbacks),n.formState!==void 0&&(A=n.formState)),t=xh(e,1,!0,t,n??null,a,l,u,h,v,b,A),t.context=Ah(null),n=t.current,a=vt(),a=Ps(a),l=dn(a),l.callback=null,hn(n,l,a),n=a,t.current.lanes=n,ri(t,n),Bt(t),e[sa]=t.current,Yu(e),new As(t)},al.version="19.1.0",al}var Xh;function jm(){if(Xh)return uc.exports;Xh=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(i){console.error(i)}}return c(),uc.exports=Dm(),uc.exports}var Nm=jm(),Q=Dc();const fb=Sy(Q),bc=[{label:"XX-Small",value:"0.75"},{label:"X-Small",value:"0.85"},{label:"Small",value:"1.0"},{label:"Medium",value:"1.15"},{label:"Large",value:"1.3"},{label:"X-Large",value:"1.5"}],Ey=2,Um="JapaneseAnalyzerDB",Cm=1,ti="text_entries",ni="review_deck",zs="settings",qs="transient_state";let Rs=null;const jc=()=>Rs||(Rs=new Promise((c,i)=>{const s=indexedDB.open(Um,Cm);s.onupgradeneeded=r=>{const o=r.target.result;if(o.objectStoreNames.contains(ti)||o.createObjectStore(ti,{keyPath:"id"}).createIndex("updatedAt","updatedAt",{unique:!1}),!o.objectStoreNames.contains(ni)){const f=o.createObjectStore(ni,{keyPath:"id"});f.createIndex("nextReviewDate","nextReviewDate",{unique:!1}),f.createIndex("textEntryId","textEntryId",{unique:!1})}o.objectStoreNames.contains(zs)||o.createObjectStore(zs,{keyPath:"key"}),o.objectStoreNames.contains(qs)||o.createObjectStore(qs,{keyPath:"key"})},s.onsuccess=r=>{c(r.target.result)},s.onerror=r=>{console.error("IndexedDB error:",r.target.error),i("IndexedDB error")}}),Rs),ii=async(c,i)=>(await jc()).transaction(c,i).objectStore(c),km=async(c,i)=>{const s=await ii(c,"readonly");return new Promise((r,o)=>{const f=s.get(i);f.onsuccess=()=>r(f.result),f.onerror=()=>o(f.error)})},Nc=async c=>{const i=await ii(c,"readonly");return new Promise((s,r)=>{const o=i.getAll();o.onsuccess=()=>s(o.result),o.onerror=()=>r(o.error)})},Uc=async(c,i)=>{const s=await ii(c,"readwrite");return new Promise((r,o)=>{const f=s.put(i);f.onsuccess=()=>r(f.result),f.onerror=()=>o(f.error)})},Ty=async(c,i)=>{const s=await ii(c,"readwrite");return new Promise((r,o)=>{const f=s.delete(i);f.onsuccess=()=>r(f.result),f.onerror=()=>o(f.error)})},xy=async c=>{const i=await ii(c,"readwrite");return new Promise((s,r)=>{const o=i.clear();o.onsuccess=()=>s(o.result),o.onerror=()=>r(o.error)})},Cc=()=>Nc(ti).then(c=>c.sort((i,s)=>s.updatedAt-i.updatedAt)),na=c=>Uc(ti,c),Mm=c=>Ty(ti,c),Ls=()=>xy(ti),kc=()=>Nc(ni).then(c=>c.sort((i,s)=>i.addedAt-s.addedAt)),Bs=c=>Uc(ni,c),zm=c=>Ty(ni,c),Mc=()=>xy(ni),Ay=async()=>{const i=(await Nc(zs)).reduce((s,{key:r,value:o})=>(s[r]=o,s),{});return{theme:i.theme||"light",showFurigana:i.showFurigana!==!1,showColorCoding:i.showColorCoding!==!1,showPitchAccent:i.showPitchAccent!==!1,analysisDepth:i.analysisDepth||"medium",fontSizeIndex:i.fontSizeIndex??Ey,newWordsPerDay:i.newWordsPerDay||10,userApiKey:i.userApiKey||null}},Oy=async c=>{const i=await ii(zs,"readwrite"),s=Object.entries(c).map(([r,o])=>new Promise((f,d)=>{const g=i.put({key:r,value:o});g.onsuccess=f,g.onerror=d}));return Promise.all(s)},qm=c=>km(qs,c).then(i=>i==null?void 0:i.value),Nt=(c,i)=>Uc(qs,{key:c,value:i}),Lm="modulepreload",Bm=function(c,i){return new URL(c,i).href},Kh={},an=function(i,s,r){let o=Promise.resolve();if(s&&s.length>0){let d=function(p){return Promise.all(p.map(_=>Promise.resolve(_).then(O=>({status:"fulfilled",value:O}),O=>({status:"rejected",reason:O}))))};const g=document.getElementsByTagName("link"),y=document.querySelector("meta[property=csp-nonce]"),m=(y==null?void 0:y.nonce)||(y==null?void 0:y.getAttribute("nonce"));o=d(s.map(p=>{if(p=Bm(p,r),p in Kh)return;Kh[p]=!0;const _=p.endsWith(".css"),O=_?'[rel="stylesheet"]':"";if(!!r)for(let L=g.length-1;L>=0;L--){const H=g[L];if(H.href===p&&(!_||H.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${p}"]${O}`))return;const N=document.createElement("link");if(N.rel=_?"stylesheet":Lm,_||(N.as="script"),N.crossOrigin="",N.href=p,m&&N.setAttribute("nonce",m),document.head.appendChild(N),_)return new Promise((L,H)=>{N.addEventListener("load",L),N.addEventListener("error",()=>H(new Error(`Unable to preload CSS for ${p}`)))})}))}function f(d){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=d,window.dispatchEvent(g),!g.defaultPrevented)throw d}return o.then(d=>{for(const g of d||[])g.status==="rejected"&&f(g.reason);return i().catch(f)})},Hm=c=>{let i;return c?i=c:typeof fetch>"u"?i=(...s)=>an(async()=>{const{default:r}=await Promise.resolve().then(()=>fl);return{default:r}},void 0,import.meta.url).then(({default:r})=>r(...s)):i=fetch,(...s)=>i(...s)};class zc extends Error{constructor(i,s="FunctionsError",r){super(i),this.name=s,this.context=r}}class Gm extends zc{constructor(i){super("Failed to send a request to the Edge Function","FunctionsFetchError",i)}}class Qh extends zc{constructor(i){super("Relay Error invoking the Edge Function","FunctionsRelayError",i)}}class Ih extends zc{constructor(i){super("Edge Function returned a non-2xx status code","FunctionsHttpError",i)}}var _c;(function(c){c.Any="any",c.ApNortheast1="ap-northeast-1",c.ApNortheast2="ap-northeast-2",c.ApSouth1="ap-south-1",c.ApSoutheast1="ap-southeast-1",c.ApSoutheast2="ap-southeast-2",c.CaCentral1="ca-central-1",c.EuCentral1="eu-central-1",c.EuWest1="eu-west-1",c.EuWest2="eu-west-2",c.EuWest3="eu-west-3",c.SaEast1="sa-east-1",c.UsEast1="us-east-1",c.UsWest1="us-west-1",c.UsWest2="us-west-2"})(_c||(_c={}));var Ym=function(c,i,s,r){function o(f){return f instanceof s?f:new s(function(d){d(f)})}return new(s||(s=Promise))(function(f,d){function g(p){try{m(r.next(p))}catch(_){d(_)}}function y(p){try{m(r.throw(p))}catch(_){d(_)}}function m(p){p.done?f(p.value):o(p.value).then(g,y)}m((r=r.apply(c,i||[])).next())})};class Vm{constructor(i,{headers:s={},customFetch:r,region:o=_c.Any}={}){this.url=i,this.headers=s,this.region=o,this.fetch=Hm(r)}setAuth(i){this.headers.Authorization=`Bearer ${i}`}invoke(i,s={}){var r;return Ym(this,void 0,void 0,function*(){try{const{headers:o,method:f,body:d}=s;let g={},{region:y}=s;y||(y=this.region);const m=new URL(`${this.url}/${i}`);y&&y!=="any"&&(g["x-region"]=y,m.searchParams.set("forceFunctionRegion",y));let p;d&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",p=d):typeof d=="string"?(g["Content-Type"]="text/plain",p=d):typeof FormData<"u"&&d instanceof FormData?p=d:(g["Content-Type"]="application/json",p=JSON.stringify(d)));const _=yield this.fetch(m.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),o),body:p}).catch(L=>{throw new Gm(L)}),O=_.headers.get("x-relay-error");if(O&&O==="true")throw new Qh(_);if(!_.ok)throw new Ih(_);let j=((r=_.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),N;return j==="application/json"?N=yield _.json():j==="application/octet-stream"?N=yield _.blob():j==="text/event-stream"?N=_:j==="multipart/form-data"?N=yield _.formData():N=yield _.text(),{data:N,error:null,response:_}}catch(o){return{data:null,error:o,response:o instanceof Ih||o instanceof Qh?o.context:void 0}}})}}var Ve={},Xa={},Ka={},Qa={},Ia={},Za={},$m=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ai=$m();const Xm=ai.fetch,Ry=ai.fetch.bind(ai),Dy=ai.Headers,Km=ai.Request,Qm=ai.Response,fl=Object.freeze(Object.defineProperty({__proto__:null,Headers:Dy,Request:Km,Response:Qm,default:Ry,fetch:Xm},Symbol.toStringTag,{value:"Module"})),Im=wm(fl);var Ds={},Zh;function jy(){if(Zh)return Ds;Zh=1,Object.defineProperty(Ds,"__esModule",{value:!0});class c extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Ds.default=c,Ds}var Jh;function Ny(){if(Jh)return Za;Jh=1;var c=Za&&Za.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Za,"__esModule",{value:!0});const i=c(Im),s=c(jy());class r{constructor(f){var d,g;this.shouldThrowOnError=!1,this.method=f.method,this.url=f.url,this.headers=new Headers(f.headers),this.schema=f.schema,this.body=f.body,this.shouldThrowOnError=(d=f.shouldThrowOnError)!==null&&d!==void 0?d:!1,this.signal=f.signal,this.isMaybeSingle=(g=f.isMaybeSingle)!==null&&g!==void 0?g:!1,f.fetch?this.fetch=f.fetch:typeof fetch>"u"?this.fetch=i.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(f,d){return this.headers=new Headers(this.headers),this.headers.set(f,d),this}then(f,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const g=this.fetch;let y=g(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var p,_,O,j;let N=null,L=null,H=null,se=m.status,ee=m.statusText;if(m.ok){if(this.method!=="HEAD"){const ne=await m.text();ne===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?L=ne:L=JSON.parse(ne))}const I=(_=this.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),V=(O=m.headers.get("content-range"))===null||O===void 0?void 0:O.split("/");I&&V&&V.length>1&&(H=parseInt(V[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(L)&&(L.length>1?(N={code:"PGRST116",details:`Results contain ${L.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},L=null,H=null,se=406,ee="Not Acceptable"):L.length===1?L=L[0]:L=null)}else{const I=await m.text();try{N=JSON.parse(I),Array.isArray(N)&&m.status===404&&(L=[],N=null,se=200,ee="OK")}catch{m.status===404&&I===""?(se=204,ee="No Content"):N={message:I}}if(N&&this.isMaybeSingle&&(!((j=N==null?void 0:N.details)===null||j===void 0)&&j.includes("0 rows"))&&(N=null,se=200,ee="OK"),N&&this.shouldThrowOnError)throw new s.default(N)}return{error:N,data:L,count:H,status:se,statusText:ee}});return this.shouldThrowOnError||(y=y.catch(m=>{var p,_,O;return{error:{message:`${(p=m==null?void 0:m.name)!==null&&p!==void 0?p:"FetchError"}: ${m==null?void 0:m.message}`,details:`${(_=m==null?void 0:m.stack)!==null&&_!==void 0?_:""}`,hint:"",code:`${(O=m==null?void 0:m.code)!==null&&O!==void 0?O:""}`},data:null,count:null,status:0,statusText:""}})),y.then(f,d)}returns(){return this}overrideTypes(){return this}}return Za.default=r,Za}var Ph;function Uy(){if(Ph)return Ia;Ph=1;var c=Ia&&Ia.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ia,"__esModule",{value:!0});const i=c(Ny());class s extends i.default{select(o){let f=!1;const d=(o??"*").split("").map(g=>/\s/.test(g)&&!f?"":(g==='"'&&(f=!f),g)).join("");return this.url.searchParams.set("select",d),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:f=!0,nullsFirst:d,foreignTable:g,referencedTable:y=g}={}){const m=y?`${y}.order`:"order",p=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${p?`${p},`:""}${o}.${f?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:f,referencedTable:d=f}={}){const g=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(g,`${o}`),this}range(o,f,{foreignTable:d,referencedTable:g=d}={}){const y=typeof g>"u"?"offset":`${g}.offset`,m=typeof g>"u"?"limit":`${g}.limit`;return this.url.searchParams.set(y,`${o}`),this.url.searchParams.set(m,`${f-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:f=!1,settings:d=!1,buffers:g=!1,wal:y=!1,format:m="text"}={}){var p;const _=[o?"analyze":null,f?"verbose":null,d?"settings":null,g?"buffers":null,y?"wal":null].filter(Boolean).join("|"),O=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${O}"; options=${_};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return Ia.default=s,Ia}var Wh;function qc(){if(Wh)return Qa;Wh=1;var c=Qa&&Qa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Qa,"__esModule",{value:!0});const i=c(Uy());class s extends i.default{eq(o,f){return this.url.searchParams.append(o,`eq.${f}`),this}neq(o,f){return this.url.searchParams.append(o,`neq.${f}`),this}gt(o,f){return this.url.searchParams.append(o,`gt.${f}`),this}gte(o,f){return this.url.searchParams.append(o,`gte.${f}`),this}lt(o,f){return this.url.searchParams.append(o,`lt.${f}`),this}lte(o,f){return this.url.searchParams.append(o,`lte.${f}`),this}like(o,f){return this.url.searchParams.append(o,`like.${f}`),this}likeAllOf(o,f){return this.url.searchParams.append(o,`like(all).{${f.join(",")}}`),this}likeAnyOf(o,f){return this.url.searchParams.append(o,`like(any).{${f.join(",")}}`),this}ilike(o,f){return this.url.searchParams.append(o,`ilike.${f}`),this}ilikeAllOf(o,f){return this.url.searchParams.append(o,`ilike(all).{${f.join(",")}}`),this}ilikeAnyOf(o,f){return this.url.searchParams.append(o,`ilike(any).{${f.join(",")}}`),this}is(o,f){return this.url.searchParams.append(o,`is.${f}`),this}in(o,f){const d=Array.from(new Set(f)).map(g=>typeof g=="string"&&new RegExp("[,()]").test(g)?`"${g}"`:`${g}`).join(",");return this.url.searchParams.append(o,`in.(${d})`),this}contains(o,f){return typeof f=="string"?this.url.searchParams.append(o,`cs.${f}`):Array.isArray(f)?this.url.searchParams.append(o,`cs.{${f.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(f)}`),this}containedBy(o,f){return typeof f=="string"?this.url.searchParams.append(o,`cd.${f}`):Array.isArray(f)?this.url.searchParams.append(o,`cd.{${f.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(f)}`),this}rangeGt(o,f){return this.url.searchParams.append(o,`sr.${f}`),this}rangeGte(o,f){return this.url.searchParams.append(o,`nxl.${f}`),this}rangeLt(o,f){return this.url.searchParams.append(o,`sl.${f}`),this}rangeLte(o,f){return this.url.searchParams.append(o,`nxr.${f}`),this}rangeAdjacent(o,f){return this.url.searchParams.append(o,`adj.${f}`),this}overlaps(o,f){return typeof f=="string"?this.url.searchParams.append(o,`ov.${f}`):this.url.searchParams.append(o,`ov.{${f.join(",")}}`),this}textSearch(o,f,{config:d,type:g}={}){let y="";g==="plain"?y="pl":g==="phrase"?y="ph":g==="websearch"&&(y="w");const m=d===void 0?"":`(${d})`;return this.url.searchParams.append(o,`${y}fts${m}.${f}`),this}match(o){return Object.entries(o).forEach(([f,d])=>{this.url.searchParams.append(f,`eq.${d}`)}),this}not(o,f,d){return this.url.searchParams.append(o,`not.${f}.${d}`),this}or(o,{foreignTable:f,referencedTable:d=f}={}){const g=d?`${d}.or`:"or";return this.url.searchParams.append(g,`(${o})`),this}filter(o,f,d){return this.url.searchParams.append(o,`${f}.${d}`),this}}return Qa.default=s,Qa}var Fh;function Cy(){if(Fh)return Ka;Fh=1;var c=Ka&&Ka.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ka,"__esModule",{value:!0});const i=c(qc());class s{constructor(o,{headers:f={},schema:d,fetch:g}){this.url=o,this.headers=new Headers(f),this.schema=d,this.fetch=g}select(o,{head:f=!1,count:d}={}){const g=f?"HEAD":"GET";let y=!1;const m=(o??"*").split("").map(p=>/\s/.test(p)&&!y?"":(p==='"'&&(y=!y),p)).join("");return this.url.searchParams.set("select",m),d&&this.headers.append("Prefer",`count=${d}`),new i.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:f,defaultToNull:d=!0}={}){var g;const y="POST";if(f&&this.headers.append("Prefer",`count=${f}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const m=o.reduce((p,_)=>p.concat(Object.keys(_)),[]);if(m.length>0){const p=[...new Set(m)].map(_=>`"${_}"`);this.url.searchParams.set("columns",p.join(","))}}return new i.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}upsert(o,{onConflict:f,ignoreDuplicates:d=!1,count:g,defaultToNull:y=!0}={}){var m;const p="POST";if(this.headers.append("Prefer",`resolution=${d?"ignore":"merge"}-duplicates`),f!==void 0&&this.url.searchParams.set("on_conflict",f),g&&this.headers.append("Prefer",`count=${g}`),y||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const _=o.reduce((O,j)=>O.concat(Object.keys(j)),[]);if(_.length>0){const O=[...new Set(_)].map(j=>`"${j}"`);this.url.searchParams.set("columns",O.join(","))}}return new i.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(o,{count:f}={}){var d;const g="PATCH";return f&&this.headers.append("Prefer",`count=${f}`),new i.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}delete({count:o}={}){var f;const d="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new i.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return Ka.default=s,Ka}var ey;function Zm(){if(ey)return Xa;ey=1;var c=Xa&&Xa.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Xa,"__esModule",{value:!0});const i=c(Cy()),s=c(qc());class r{constructor(f,{headers:d={},schema:g,fetch:y}={}){this.url=f,this.headers=new Headers(d),this.schemaName=g,this.fetch=y}from(f){const d=new URL(`${this.url}/${f}`);return new i.default(d,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(f){return new r(this.url,{headers:this.headers,schema:f,fetch:this.fetch})}rpc(f,d={},{head:g=!1,get:y=!1,count:m}={}){var p;let _;const O=new URL(`${this.url}/rpc/${f}`);let j;g||y?(_=g?"HEAD":"GET",Object.entries(d).filter(([L,H])=>H!==void 0).map(([L,H])=>[L,Array.isArray(H)?`{${H.join(",")}}`:`${H}`]).forEach(([L,H])=>{O.searchParams.append(L,H)})):(_="POST",j=d);const N=new Headers(this.headers);return m&&N.set("Prefer",`count=${m}`),new s.default({method:_,url:O,headers:N,schema:this.schemaName,body:j,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return Xa.default=r,Xa}var ty;function Jm(){if(ty)return Ve;ty=1;var c=Ve&&Ve.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.PostgrestError=Ve.PostgrestBuilder=Ve.PostgrestTransformBuilder=Ve.PostgrestFilterBuilder=Ve.PostgrestQueryBuilder=Ve.PostgrestClient=void 0;const i=c(Zm());Ve.PostgrestClient=i.default;const s=c(Cy());Ve.PostgrestQueryBuilder=s.default;const r=c(qc());Ve.PostgrestFilterBuilder=r.default;const o=c(Uy());Ve.PostgrestTransformBuilder=o.default;const f=c(Ny());Ve.PostgrestBuilder=f.default;const d=c(jy());return Ve.PostgrestError=d.default,Ve.default={PostgrestClient:i.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:f.default,PostgrestError:d.default},Ve}var Pm=Jm();const Wm=Sy(Pm),{PostgrestClient:Fm,PostgrestQueryBuilder:db,PostgrestFilterBuilder:hb,PostgrestTransformBuilder:yb,PostgrestBuilder:gb,PostgrestError:vb}=Wm;function e0(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const t0=e0(),n0="2.11.15",a0=`realtime-js/${n0}`,i0="1.0.0",ky=1e4,l0=1e3;var ll;(function(c){c[c.connecting=0]="connecting",c[c.open=1]="open",c[c.closing=2]="closing",c[c.closed=3]="closed"})(ll||(ll={}));var We;(function(c){c.closed="closed",c.errored="errored",c.joined="joined",c.joining="joining",c.leaving="leaving"})(We||(We={}));var Ct;(function(c){c.close="phx_close",c.error="phx_error",c.join="phx_join",c.reply="phx_reply",c.leave="phx_leave",c.access_token="access_token"})(Ct||(Ct={}));var Sc;(function(c){c.websocket="websocket"})(Sc||(Sc={}));var aa;(function(c){c.Connecting="connecting",c.Open="open",c.Closing="closing",c.Closed="closed"})(aa||(aa={}));class s0{constructor(){this.HEADER_LENGTH=1}decode(i,s){return i.constructor===ArrayBuffer?s(this._binaryDecode(i)):s(typeof i=="string"?JSON.parse(i):{})}_binaryDecode(i){const s=new DataView(i),r=new TextDecoder;return this._decodeBroadcast(i,s,r)}_decodeBroadcast(i,s,r){const o=s.getUint8(1),f=s.getUint8(2);let d=this.HEADER_LENGTH+2;const g=r.decode(i.slice(d,d+o));d=d+o;const y=r.decode(i.slice(d,d+f));d=d+f;const m=JSON.parse(r.decode(i.slice(d,i.byteLength)));return{ref:null,topic:g,event:y,payload:m}}}class My{constructor(i,s){this.callback=i,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=i,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var xe;(function(c){c.abstime="abstime",c.bool="bool",c.date="date",c.daterange="daterange",c.float4="float4",c.float8="float8",c.int2="int2",c.int4="int4",c.int4range="int4range",c.int8="int8",c.int8range="int8range",c.json="json",c.jsonb="jsonb",c.money="money",c.numeric="numeric",c.oid="oid",c.reltime="reltime",c.text="text",c.time="time",c.timestamp="timestamp",c.timestamptz="timestamptz",c.timetz="timetz",c.tsrange="tsrange",c.tstzrange="tstzrange"})(xe||(xe={}));const ny=(c,i,s={})=>{var r;const o=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(i).reduce((f,d)=>(f[d]=r0(d,c,i,o),f),{})},r0=(c,i,s,r)=>{const o=i.find(g=>g.name===c),f=o==null?void 0:o.type,d=s[c];return f&&!r.includes(f)?zy(f,d):wc(d)},zy=(c,i)=>{if(c.charAt(0)==="_"){const s=c.slice(1,c.length);return f0(i,s)}switch(c){case xe.bool:return u0(i);case xe.float4:case xe.float8:case xe.int2:case xe.int4:case xe.int8:case xe.numeric:case xe.oid:return c0(i);case xe.json:case xe.jsonb:return o0(i);case xe.timestamp:return d0(i);case xe.abstime:case xe.date:case xe.daterange:case xe.int4range:case xe.int8range:case xe.money:case xe.reltime:case xe.text:case xe.time:case xe.timestamptz:case xe.timetz:case xe.tsrange:case xe.tstzrange:return wc(i);default:return wc(i)}},wc=c=>c,u0=c=>{switch(c){case"t":return!0;case"f":return!1;default:return c}},c0=c=>{if(typeof c=="string"){const i=parseFloat(c);if(!Number.isNaN(i))return i}return c},o0=c=>{if(typeof c=="string")try{return JSON.parse(c)}catch(i){return console.log(`JSON parse error: ${i}`),c}return c},f0=(c,i)=>{if(typeof c!="string")return c;const s=c.length-1,r=c[s];if(c[0]==="{"&&r==="}"){let f;const d=c.slice(1,s);try{f=JSON.parse("["+d+"]")}catch{f=d?d.split(","):[]}return f.map(g=>zy(i,g))}return c},d0=c=>typeof c=="string"?c.replace(" ","T"):c,qy=c=>{let i=c;return i=i.replace(/^ws/i,"http"),i=i.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),i.replace(/\/+$/,"")};class hc{constructor(i,s,r={},o=ky){this.channel=i,this.event=s,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(i){this.timeout=i,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(i){this.payload=Object.assign(Object.assign({},this.payload),i)}receive(i,s){var r;return this._hasReceived(i)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:i,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const i=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},i),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(i,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:i,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:i,response:s}){this.recHooks.filter(r=>r.status===i).forEach(r=>r.callback(s))}_hasReceived(i){return this.receivedResp&&this.receivedResp.status===i}}var ay;(function(c){c.SYNC="sync",c.JOIN="join",c.LEAVE="leave"})(ay||(ay={}));class sl{constructor(i,s){this.channel=i,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:f,onLeave:d,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=sl.syncState(this.state,o,f,d),this.pendingDiffs.forEach(y=>{this.state=sl.syncDiff(this.state,y,f,d)}),this.pendingDiffs=[],g()}),this.channel._on(r.diff,{},o=>{const{onJoin:f,onLeave:d,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=sl.syncDiff(this.state,o,f,d),g())}),this.onJoin((o,f,d)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:f,newPresences:d})}),this.onLeave((o,f,d)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:f,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(i,s,r,o){const f=this.cloneDeep(i),d=this.transformState(s),g={},y={};return this.map(f,(m,p)=>{d[m]||(y[m]=p)}),this.map(d,(m,p)=>{const _=f[m];if(_){const O=p.map(H=>H.presence_ref),j=_.map(H=>H.presence_ref),N=p.filter(H=>j.indexOf(H.presence_ref)<0),L=_.filter(H=>O.indexOf(H.presence_ref)<0);N.length>0&&(g[m]=N),L.length>0&&(y[m]=L)}else g[m]=p}),this.syncDiff(f,{joins:g,leaves:y},r,o)}static syncDiff(i,s,r,o){const{joins:f,leaves:d}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(f,(g,y)=>{var m;const p=(m=i[g])!==null&&m!==void 0?m:[];if(i[g]=this.cloneDeep(y),p.length>0){const _=i[g].map(j=>j.presence_ref),O=p.filter(j=>_.indexOf(j.presence_ref)<0);i[g].unshift(...O)}r(g,p,y)}),this.map(d,(g,y)=>{let m=i[g];if(!m)return;const p=y.map(_=>_.presence_ref);m=m.filter(_=>p.indexOf(_.presence_ref)<0),i[g]=m,o(g,m,y),m.length===0&&delete i[g]}),i}static map(i,s){return Object.getOwnPropertyNames(i).map(r=>s(r,i[r]))}static transformState(i){return i=this.cloneDeep(i),Object.getOwnPropertyNames(i).reduce((s,r)=>{const o=i[r];return"metas"in o?s[r]=o.metas.map(f=>(f.presence_ref=f.phx_ref,delete f.phx_ref,delete f.phx_ref_prev,f)):s[r]=o,s},{})}static cloneDeep(i){return JSON.parse(JSON.stringify(i))}onJoin(i){this.caller.onJoin=i}onLeave(i){this.caller.onLeave=i}onSync(i){this.caller.onSync=i}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var iy;(function(c){c.ALL="*",c.INSERT="INSERT",c.UPDATE="UPDATE",c.DELETE="DELETE"})(iy||(iy={}));var ly;(function(c){c.BROADCAST="broadcast",c.PRESENCE="presence",c.POSTGRES_CHANGES="postgres_changes",c.SYSTEM="system"})(ly||(ly={}));var nn;(function(c){c.SUBSCRIBED="SUBSCRIBED",c.TIMED_OUT="TIMED_OUT",c.CLOSED="CLOSED",c.CHANNEL_ERROR="CHANNEL_ERROR"})(nn||(nn={}));class Lc{constructor(i,s={config:{}},r){this.topic=i,this.params=s,this.socket=r,this.bindings={},this.state=We.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=i.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new hc(this,Ct.join,this.params,this.timeout),this.rejoinTimer=new My(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=We.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=We.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ct.reply,{},(o,f)=>{this._trigger(this._replyEventName(f),o)}),this.presence=new sl(this),this.broadcastEndpointURL=qy(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(i,s=this.timeout){var r,o;if(this.socket.isConnected()||this.socket.connect(),this.state==We.closed){const{config:{broadcast:f,presence:d,private:g}}=this.params;this._onError(p=>i==null?void 0:i(nn.CHANNEL_ERROR,p)),this._onClose(()=>i==null?void 0:i(nn.CLOSED));const y={},m={broadcast:f,presence:d,postgres_changes:(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&o!==void 0?o:[],private:g};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:m},y)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:p})=>{var _;if(this.socket.setAuth(),p===void 0){i==null||i(nn.SUBSCRIBED);return}else{const O=this.bindings.postgres_changes,j=(_=O==null?void 0:O.length)!==null&&_!==void 0?_:0,N=[];for(let L=0;L<j;L++){const H=O[L],{filter:{event:se,schema:ee,table:B,filter:I}}=H,V=p&&p[L];if(V&&V.event===se&&V.schema===ee&&V.table===B&&V.filter===I)N.push(Object.assign(Object.assign({},H),{id:V.id}));else{this.unsubscribe(),this.state=We.errored,i==null||i(nn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,i&&i(nn.SUBSCRIBED);return}}).receive("error",p=>{this.state=We.errored,i==null||i(nn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{i==null||i(nn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(i,s={}){return await this.send({type:"presence",event:"track",payload:i},s.timeout||this.timeout)}async untrack(i={}){return await this.send({type:"presence",event:"untrack"},i)}on(i,s,r){return this._on(i,s,r)}async send(i,s={}){var r,o;if(!this._canPush()&&i.type==="broadcast"){const{event:f,payload:d}=i,y={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:f,payload:d,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,y,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=m.body)===null||o===void 0?void 0:o.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(f=>{var d,g,y;const m=this._push(i.type,i,s.timeout||this.timeout);i.type==="broadcast"&&!(!((y=(g=(d=this.params)===null||d===void 0?void 0:d.config)===null||g===void 0?void 0:g.broadcast)===null||y===void 0)&&y.ack)&&f("ok"),m.receive("ok",()=>f("ok")),m.receive("error",()=>f("error")),m.receive("timeout",()=>f("timed out"))})}updateJoinPayload(i){this.joinPush.updatePayload(i)}unsubscribe(i=this.timeout){this.state=We.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ct.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new hc(this,Ct.leave,{},i),r.receive("ok",()=>{s(),o("ok")}).receive("timeout",()=>{s(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(i=>i.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(i,s,r){const o=new AbortController,f=setTimeout(()=>o.abort(),r),d=await this.socket.fetch(i,Object.assign(Object.assign({},s),{signal:o.signal}));return clearTimeout(f),d}_push(i,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${i}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new hc(this,i,s,r);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(i,s,r){return s}_isMember(i){return this.topic===i}_joinRef(){return this.joinPush.ref}_trigger(i,s,r){var o,f;const d=i.toLocaleLowerCase(),{close:g,error:y,leave:m,join:p}=Ct;if(r&&[g,y,m,p].indexOf(d)>=0&&r!==this._joinRef())return;let O=this._onMessage(d,s,r);if(s&&!O)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(j=>{var N,L,H;return((N=j.filter)===null||N===void 0?void 0:N.event)==="*"||((H=(L=j.filter)===null||L===void 0?void 0:L.event)===null||H===void 0?void 0:H.toLocaleLowerCase())===d}).map(j=>j.callback(O,r)):(f=this.bindings[d])===null||f===void 0||f.filter(j=>{var N,L,H,se,ee,B;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in j){const I=j.id,V=(N=j.filter)===null||N===void 0?void 0:N.event;return I&&((L=s.ids)===null||L===void 0?void 0:L.includes(I))&&(V==="*"||(V==null?void 0:V.toLocaleLowerCase())===((H=s.data)===null||H===void 0?void 0:H.type.toLocaleLowerCase()))}else{const I=(ee=(se=j==null?void 0:j.filter)===null||se===void 0?void 0:se.event)===null||ee===void 0?void 0:ee.toLocaleLowerCase();return I==="*"||I===((B=s==null?void 0:s.event)===null||B===void 0?void 0:B.toLocaleLowerCase())}else return j.type.toLocaleLowerCase()===d}).map(j=>{if(typeof O=="object"&&"ids"in O){const N=O.data,{schema:L,table:H,commit_timestamp:se,type:ee,errors:B}=N;O=Object.assign(Object.assign({},{schema:L,table:H,commit_timestamp:se,eventType:ee,new:{},old:{},errors:B}),this._getPayloadRecords(N))}j.callback(O,r)})}_isClosed(){return this.state===We.closed}_isJoined(){return this.state===We.joined}_isJoining(){return this.state===We.joining}_isLeaving(){return this.state===We.leaving}_replyEventName(i){return`chan_reply_${i}`}_on(i,s,r){const o=i.toLocaleLowerCase(),f={type:o,filter:s,callback:r};return this.bindings[o]?this.bindings[o].push(f):this.bindings[o]=[f],this}_off(i,s){const r=i.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(o=>{var f;return!(((f=o.type)===null||f===void 0?void 0:f.toLocaleLowerCase())===r&&Lc.isEqual(o.filter,s))}),this}static isEqual(i,s){if(Object.keys(i).length!==Object.keys(s).length)return!1;for(const r in i)if(i[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(i){this._on(Ct.close,{},i)}_onError(i){this._on(Ct.error,{},s=>i(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(i=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=We.joining,this.joinPush.resend(i))}_getPayloadRecords(i){const s={new:{},old:{}};return(i.type==="INSERT"||i.type==="UPDATE")&&(s.new=ny(i.columns,i.record)),(i.type==="UPDATE"||i.type==="DELETE")&&(s.old=ny(i.columns,i.old_record)),s}}const sy=()=>{},h0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class y0{constructor(i,s){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ky,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=sy,this.ref=0,this.logger=sy,this.conn=null,this.sendBuffer=[],this.serializer=new s0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=f=>{let d;return f?d=f:typeof fetch>"u"?d=(...g)=>an(async()=>{const{default:y}=await import("./index-2_LuQTg2.js");return{default:y}},[],import.meta.url).then(({default:y})=>y(...g)):d=fetch,(...g)=>d(...g)},this.endPoint=`${i}/${Sc.websocket}`,this.httpEndpoint=qy(i),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),(s!=null&&s.logLevel||s!=null&&s.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const o=(r=s==null?void 0:s.params)===null||r===void 0?void 0:r.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:f=>[1e3,2e3,5e3,1e4][f-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(f,d)=>d(JSON.stringify(f)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new My(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=t0),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:i0}))}disconnect(i,s){this.conn&&(this.conn.onclose=function(){},i?this.conn.close(i,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(i){const s=await i.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const i=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),i}log(i,s,r){this.logger(i,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ll.connecting:return aa.Connecting;case ll.open:return aa.Open;case ll.closing:return aa.Closing;default:return aa.Closed}}isConnected(){return this.connectionState()===aa.Open}channel(i,s={config:{}}){const r=`realtime:${i}`,o=this.getChannels().find(f=>f.topic===r);if(o)return o;{const f=new Lc(`realtime:${i}`,s,this);return this.channels.push(f),f}}push(i){const{topic:s,event:r,payload:o,ref:f}=i,d=()=>{this.encode(i,g=>{var y;(y=this.conn)===null||y===void 0||y.send(g)})};this.log("push",`${s} ${r} (${f})`,o),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(i=null){let s=i||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(r=>{const o={access_token:s,version:a0};s&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(Ct.access_token,{access_token:s})}))}async sendHeartbeat(){var i;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(i=this.conn)===null||i===void 0||i.close(l0,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(i){this.heartbeatCallback=i}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(i=>i()),this.sendBuffer=[])}_makeRef(){let i=this.ref+1;return i===this.ref?this.ref=0:this.ref=i,this.ref.toString()}_leaveOpenTopic(i){let s=this.channels.find(r=>r.topic===i&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${i}"`),s.unsubscribe())}_remove(i){this.channels=this.channels.filter(s=>s.topic!==i.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=i=>this._onConnError(i),this.conn.onmessage=i=>this._onConnMessage(i),this.conn.onclose=i=>this._onConnClose(i))}_onConnMessage(i){this.decode(i.data,s=>{let{topic:r,event:o,payload:f,ref:d}=s;r==="phoenix"&&o==="phx_reply"&&this.heartbeatCallback(s.payload.status=="ok"?"ok":"error"),d&&d===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${f.status||""} ${r} ${o} ${d&&"("+d+")"||""}`,f),Array.from(this.channels).filter(g=>g._isMember(r)).forEach(g=>g._trigger(o,f,d)),this.stateChangeCallbacks.message.forEach(g=>g(s))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(i=>i())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const i=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(i),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(i){this.log("transport","close",i),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(i))}_onConnError(i){this.log("transport",`${i}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(i))}_triggerChanError(){this.channels.forEach(i=>i._trigger(Ct.error))}_appendParams(i,s){if(Object.keys(s).length===0)return i;const r=i.match(/\?/)?"&":"?",o=new URLSearchParams(s);return`${i}${r}${o}`}_workerObjectUrl(i){let s;if(i)s=i;else{const r=new Blob([h0],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}}class Bc extends Error{constructor(i){super(i),this.__isStorageError=!0,this.name="StorageError"}}function $e(c){return typeof c=="object"&&c!==null&&"__isStorageError"in c}class g0 extends Bc{constructor(i,s){super(i),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ec extends Bc{constructor(i,s){super(i),this.name="StorageUnknownError",this.originalError=s}}var v0=function(c,i,s,r){function o(f){return f instanceof s?f:new s(function(d){d(f)})}return new(s||(s=Promise))(function(f,d){function g(p){try{m(r.next(p))}catch(_){d(_)}}function y(p){try{m(r.throw(p))}catch(_){d(_)}}function m(p){p.done?f(p.value):o(p.value).then(g,y)}m((r=r.apply(c,i||[])).next())})};const Ly=c=>{let i;return c?i=c:typeof fetch>"u"?i=(...s)=>an(async()=>{const{default:r}=await Promise.resolve().then(()=>fl);return{default:r}},void 0,import.meta.url).then(({default:r})=>r(...s)):i=fetch,(...s)=>i(...s)},m0=()=>v0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield an(()=>Promise.resolve().then(()=>fl),void 0,import.meta.url)).Response:Response}),Tc=c=>{if(Array.isArray(c))return c.map(s=>Tc(s));if(typeof c=="function"||c!==Object(c))return c;const i={};return Object.entries(c).forEach(([s,r])=>{const o=s.replace(/([-_][a-z])/gi,f=>f.toUpperCase().replace(/[-_]/g,""));i[o]=Tc(r)}),i};var ia=function(c,i,s,r){function o(f){return f instanceof s?f:new s(function(d){d(f)})}return new(s||(s=Promise))(function(f,d){function g(p){try{m(r.next(p))}catch(_){d(_)}}function y(p){try{m(r.throw(p))}catch(_){d(_)}}function m(p){p.done?f(p.value):o(p.value).then(g,y)}m((r=r.apply(c,i||[])).next())})};const yc=c=>c.msg||c.message||c.error_description||c.error||JSON.stringify(c),p0=(c,i,s)=>ia(void 0,void 0,void 0,function*(){const r=yield m0();c instanceof r&&!(s!=null&&s.noResolveJson)?c.json().then(o=>{i(new g0(yc(o),c.status||500))}).catch(o=>{i(new Ec(yc(o),o))}):i(new Ec(yc(c),c))}),b0=(c,i,s,r)=>{const o={method:c,headers:(i==null?void 0:i.headers)||{}};return c==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},i==null?void 0:i.headers),r&&(o.body=JSON.stringify(r)),Object.assign(Object.assign({},o),s))};function dl(c,i,s,r,o,f){return ia(this,void 0,void 0,function*(){return new Promise((d,g)=>{c(s,b0(i,r,o,f)).then(y=>{if(!y.ok)throw y;return r!=null&&r.noResolveJson?y:y.json()}).then(y=>d(y)).catch(y=>p0(y,g,r))})})}function Hs(c,i,s,r){return ia(this,void 0,void 0,function*(){return dl(c,"GET",i,s,r)})}function Un(c,i,s,r,o){return ia(this,void 0,void 0,function*(){return dl(c,"POST",i,r,o,s)})}function _0(c,i,s,r,o){return ia(this,void 0,void 0,function*(){return dl(c,"PUT",i,r,o,s)})}function S0(c,i,s,r){return ia(this,void 0,void 0,function*(){return dl(c,"HEAD",i,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function By(c,i,s,r,o){return ia(this,void 0,void 0,function*(){return dl(c,"DELETE",i,r,o,s)})}var rt=function(c,i,s,r){function o(f){return f instanceof s?f:new s(function(d){d(f)})}return new(s||(s=Promise))(function(f,d){function g(p){try{m(r.next(p))}catch(_){d(_)}}function y(p){try{m(r.throw(p))}catch(_){d(_)}}function m(p){p.done?f(p.value):o(p.value).then(g,y)}m((r=r.apply(c,i||[])).next())})};const w0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ry={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class E0{constructor(i,s={},r,o){this.url=i,this.headers=s,this.bucketId=r,this.fetch=Ly(o)}uploadOrUpdate(i,s,r,o){return rt(this,void 0,void 0,function*(){try{let f;const d=Object.assign(Object.assign({},ry),o);let g=Object.assign(Object.assign({},this.headers),i==="POST"&&{"x-upsert":String(d.upsert)});const y=d.metadata;typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",d.cacheControl),y&&f.append("metadata",this.encodeMetadata(y)),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",d.cacheControl),y&&f.append("metadata",this.encodeMetadata(y))):(f=r,g["cache-control"]=`max-age=${d.cacheControl}`,g["content-type"]=d.contentType,y&&(g["x-metadata"]=this.toBase64(this.encodeMetadata(y)))),o!=null&&o.headers&&(g=Object.assign(Object.assign({},g),o.headers));const m=this._removeEmptyFolders(s),p=this._getFinalPath(m),_=yield this.fetch(`${this.url}/object/${p}`,Object.assign({method:i,body:f,headers:g},d!=null&&d.duplex?{duplex:d.duplex}:{})),O=yield _.json();return _.ok?{data:{path:m,id:O.Id,fullPath:O.Key},error:null}:{data:null,error:O}}catch(f){if($e(f))return{data:null,error:f};throw f}})}upload(i,s,r){return rt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",i,s,r)})}uploadToSignedUrl(i,s,r,o){return rt(this,void 0,void 0,function*(){const f=this._removeEmptyFolders(i),d=this._getFinalPath(f),g=new URL(this.url+`/object/upload/sign/${d}`);g.searchParams.set("token",s);try{let y;const m=Object.assign({upsert:ry.upsert},o),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&r instanceof Blob?(y=new FormData,y.append("cacheControl",m.cacheControl),y.append("",r)):typeof FormData<"u"&&r instanceof FormData?(y=r,y.append("cacheControl",m.cacheControl)):(y=r,p["cache-control"]=`max-age=${m.cacheControl}`,p["content-type"]=m.contentType);const _=yield this.fetch(g.toString(),{method:"PUT",body:y,headers:p}),O=yield _.json();return _.ok?{data:{path:f,fullPath:O.Key},error:null}:{data:null,error:O}}catch(y){if($e(y))return{data:null,error:y};throw y}})}createSignedUploadUrl(i,s){return rt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(i);const o=Object.assign({},this.headers);s!=null&&s.upsert&&(o["x-upsert"]="true");const f=yield Un(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),d=new URL(this.url+f.url),g=d.searchParams.get("token");if(!g)throw new Bc("No token returned by API");return{data:{signedUrl:d.toString(),path:i,token:g},error:null}}catch(r){if($e(r))return{data:null,error:r};throw r}})}update(i,s,r){return rt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",i,s,r)})}move(i,s,r){return rt(this,void 0,void 0,function*(){try{return{data:yield Un(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:i,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(o){if($e(o))return{data:null,error:o};throw o}})}copy(i,s,r){return rt(this,void 0,void 0,function*(){try{return{data:{path:(yield Un(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:i,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if($e(o))return{data:null,error:o};throw o}})}createSignedUrl(i,s,r){return rt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(i),f=yield Un(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const d=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return f={signedUrl:encodeURI(`${this.url}${f.signedURL}${d}`)},{data:f,error:null}}catch(o){if($e(o))return{data:null,error:o};throw o}})}createSignedUrls(i,s,r){return rt(this,void 0,void 0,function*(){try{const o=yield Un(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:i},{headers:this.headers}),f=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${f}`):null})),error:null}}catch(o){if($e(o))return{data:null,error:o};throw o}})}download(i,s){return rt(this,void 0,void 0,function*(){const o=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",f=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),d=f?`?${f}`:"";try{const g=this._getFinalPath(i);return{data:yield(yield Hs(this.fetch,`${this.url}/${o}/${g}${d}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(g){if($e(g))return{data:null,error:g};throw g}})}info(i){return rt(this,void 0,void 0,function*(){const s=this._getFinalPath(i);try{const r=yield Hs(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Tc(r),error:null}}catch(r){if($e(r))return{data:null,error:r};throw r}})}exists(i){return rt(this,void 0,void 0,function*(){const s=this._getFinalPath(i);try{return yield S0(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if($e(r)&&r instanceof Ec){const o=r.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:r}}throw r}})}getPublicUrl(i,s){const r=this._getFinalPath(i),o=[],f=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";f!==""&&o.push(f);const g=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",y=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});y!==""&&o.push(y);let m=o.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${g}/public/${r}${m}`)}}}remove(i){return rt(this,void 0,void 0,function*(){try{return{data:yield By(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:i},{headers:this.headers}),error:null}}catch(s){if($e(s))return{data:null,error:s};throw s}})}list(i,s,r){return rt(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},w0),s),{prefix:i||""});return{data:yield Un(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if($e(o))return{data:null,error:o};throw o}})}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer<"u"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const s=[];return i.width&&s.push(`width=${i.width}`),i.height&&s.push(`height=${i.height}`),i.resize&&s.push(`resize=${i.resize}`),i.format&&s.push(`format=${i.format}`),i.quality&&s.push(`quality=${i.quality}`),s.join("&")}}const T0="2.7.1",x0={"X-Client-Info":`storage-js/${T0}`};var Ja=function(c,i,s,r){function o(f){return f instanceof s?f:new s(function(d){d(f)})}return new(s||(s=Promise))(function(f,d){function g(p){try{m(r.next(p))}catch(_){d(_)}}function y(p){try{m(r.throw(p))}catch(_){d(_)}}function m(p){p.done?f(p.value):o(p.value).then(g,y)}m((r=r.apply(c,i||[])).next())})};class A0{constructor(i,s={},r){this.url=i,this.headers=Object.assign(Object.assign({},x0),s),this.fetch=Ly(r)}listBuckets(){return Ja(this,void 0,void 0,function*(){try{return{data:yield Hs(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(i){if($e(i))return{data:null,error:i};throw i}})}getBucket(i){return Ja(this,void 0,void 0,function*(){try{return{data:yield Hs(this.fetch,`${this.url}/bucket/${i}`,{headers:this.headers}),error:null}}catch(s){if($e(s))return{data:null,error:s};throw s}})}createBucket(i,s={public:!1}){return Ja(this,void 0,void 0,function*(){try{return{data:yield Un(this.fetch,`${this.url}/bucket`,{id:i,name:i,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if($e(r))return{data:null,error:r};throw r}})}updateBucket(i,s){return Ja(this,void 0,void 0,function*(){try{return{data:yield _0(this.fetch,`${this.url}/bucket/${i}`,{id:i,name:i,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if($e(r))return{data:null,error:r};throw r}})}emptyBucket(i){return Ja(this,void 0,void 0,function*(){try{return{data:yield Un(this.fetch,`${this.url}/bucket/${i}/empty`,{},{headers:this.headers}),error:null}}catch(s){if($e(s))return{data:null,error:s};throw s}})}deleteBucket(i){return Ja(this,void 0,void 0,function*(){try{return{data:yield By(this.fetch,`${this.url}/bucket/${i}`,{},{headers:this.headers}),error:null}}catch(s){if($e(s))return{data:null,error:s};throw s}})}}class O0 extends A0{constructor(i,s={},r){super(i,s,r)}from(i){return new E0(this.url,this.headers,i,this.fetch)}}const R0="2.50.4";let il="";typeof Deno<"u"?il="deno":typeof document<"u"?il="web":typeof navigator<"u"&&navigator.product==="ReactNative"?il="react-native":il="node";const D0={"X-Client-Info":`supabase-js-${il}/${R0}`},j0={headers:D0},N0={schema:"public"},U0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},C0={};var k0=function(c,i,s,r){function o(f){return f instanceof s?f:new s(function(d){d(f)})}return new(s||(s=Promise))(function(f,d){function g(p){try{m(r.next(p))}catch(_){d(_)}}function y(p){try{m(r.throw(p))}catch(_){d(_)}}function m(p){p.done?f(p.value):o(p.value).then(g,y)}m((r=r.apply(c,i||[])).next())})};const M0=c=>{let i;return c?i=c:typeof fetch>"u"?i=Ry:i=fetch,(...s)=>i(...s)},z0=()=>typeof Headers>"u"?Dy:Headers,q0=(c,i,s)=>{const r=M0(s),o=z0();return(f,d)=>k0(void 0,void 0,void 0,function*(){var g;const y=(g=yield i())!==null&&g!==void 0?g:c;let m=new o(d==null?void 0:d.headers);return m.has("apikey")||m.set("apikey",c),m.has("Authorization")||m.set("Authorization",`Bearer ${y}`),r(f,Object.assign(Object.assign({},d),{headers:m}))})};var L0=function(c,i,s,r){function o(f){return f instanceof s?f:new s(function(d){d(f)})}return new(s||(s=Promise))(function(f,d){function g(p){try{m(r.next(p))}catch(_){d(_)}}function y(p){try{m(r.throw(p))}catch(_){d(_)}}function m(p){p.done?f(p.value):o(p.value).then(g,y)}m((r=r.apply(c,i||[])).next())})};function B0(c){return c.endsWith("/")?c:c+"/"}function H0(c,i){var s,r;const{db:o,auth:f,realtime:d,global:g}=c,{db:y,auth:m,realtime:p,global:_}=i,O={db:Object.assign(Object.assign({},y),o),auth:Object.assign(Object.assign({},m),f),realtime:Object.assign(Object.assign({},p),d),global:Object.assign(Object.assign(Object.assign({},_),g),{headers:Object.assign(Object.assign({},(s=_==null?void 0:_.headers)!==null&&s!==void 0?s:{}),(r=g==null?void 0:g.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>L0(this,void 0,void 0,function*(){return""})};return c.accessToken?O.accessToken=c.accessToken:delete O.accessToken,O}const Hy="2.70.0",ei=30*1e3,xc=3,gc=xc*ei,G0="http://localhost:9999",Y0="supabase.auth.token",V0={"X-Client-Info":`gotrue-js/${Hy}`},Ac="X-Supabase-Api-Version",Gy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},$0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,X0=6e5;class Hc extends Error{constructor(i,s,r){super(i),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function ae(c){return typeof c=="object"&&c!==null&&"__isAuthError"in c}class K0 extends Hc{constructor(i,s,r){super(i,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function Q0(c){return ae(c)&&c.name==="AuthApiError"}class Yy extends Hc{constructor(i,s){super(i),this.name="AuthUnknownError",this.originalError=s}}class kn extends Hc{constructor(i,s,r,o){super(i,r,o),this.name=s,this.status=r}}class Nn extends kn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function I0(c){return ae(c)&&c.name==="AuthSessionMissingError"}class js extends kn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ns extends kn{constructor(i){super(i,"AuthInvalidCredentialsError",400,void 0)}}class Us extends kn{constructor(i,s=null){super(i,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Z0(c){return ae(c)&&c.name==="AuthImplicitGrantRedirectError"}class uy extends kn{constructor(i,s=null){super(i,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Oc extends kn{constructor(i,s){super(i,"AuthRetryableFetchError",s,void 0)}}function vc(c){return ae(c)&&c.name==="AuthRetryableFetchError"}class cy extends kn{constructor(i,s,r){super(i,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class rl extends kn{constructor(i){super(i,"AuthInvalidJwtError",400,"invalid_jwt")}}const Gs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),oy=` 	
\r=`.split(""),J0=(()=>{const c=new Array(128);for(let i=0;i<c.length;i+=1)c[i]=-1;for(let i=0;i<oy.length;i+=1)c[oy[i].charCodeAt(0)]=-2;for(let i=0;i<Gs.length;i+=1)c[Gs[i].charCodeAt(0)]=i;return c})();function fy(c,i,s){if(c!==null)for(i.queue=i.queue<<8|c,i.queuedBits+=8;i.queuedBits>=6;){const r=i.queue>>i.queuedBits-6&63;s(Gs[r]),i.queuedBits-=6}else if(i.queuedBits>0)for(i.queue=i.queue<<6-i.queuedBits,i.queuedBits=6;i.queuedBits>=6;){const r=i.queue>>i.queuedBits-6&63;s(Gs[r]),i.queuedBits-=6}}function Vy(c,i,s){const r=J0[c];if(r>-1)for(i.queue=i.queue<<6|r,i.queuedBits+=6;i.queuedBits>=8;)s(i.queue>>i.queuedBits-8&255),i.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(c)}"`)}}function dy(c){const i=[],s=d=>{i.push(String.fromCodePoint(d))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},f=d=>{F0(d,r,s)};for(let d=0;d<c.length;d+=1)Vy(c.charCodeAt(d),o,f);return i.join("")}function P0(c,i){if(c<=127){i(c);return}else if(c<=2047){i(192|c>>6),i(128|c&63);return}else if(c<=65535){i(224|c>>12),i(128|c>>6&63),i(128|c&63);return}else if(c<=1114111){i(240|c>>18),i(128|c>>12&63),i(128|c>>6&63),i(128|c&63);return}throw new Error(`Unrecognized Unicode codepoint: ${c.toString(16)}`)}function W0(c,i){for(let s=0;s<c.length;s+=1){let r=c.charCodeAt(s);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(c.charCodeAt(s+1)-56320&65535|o)+65536,s+=1}P0(r,i)}}function F0(c,i,s){if(i.utf8seq===0){if(c<=127){s(c);return}for(let r=1;r<6;r+=1)if((c>>7-r&1)===0){i.utf8seq=r;break}if(i.utf8seq===2)i.codepoint=c&31;else if(i.utf8seq===3)i.codepoint=c&15;else if(i.utf8seq===4)i.codepoint=c&7;else throw new Error("Invalid UTF-8 sequence");i.utf8seq-=1}else if(i.utf8seq>0){if(c<=127)throw new Error("Invalid UTF-8 sequence");i.codepoint=i.codepoint<<6|c&63,i.utf8seq-=1,i.utf8seq===0&&s(i.codepoint)}}function ep(c){const i=[],s={queue:0,queuedBits:0},r=o=>{i.push(o)};for(let o=0;o<c.length;o+=1)Vy(c.charCodeAt(o),s,r);return new Uint8Array(i)}function tp(c){const i=[];return W0(c,s=>i.push(s)),new Uint8Array(i)}function np(c){const i=[],s={queue:0,queuedBits:0},r=o=>{i.push(o)};return c.forEach(o=>fy(o,s,r)),fy(null,s,r),i.join("")}function ap(c){return Math.round(Date.now()/1e3)+c}function ip(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){const i=Math.random()*16|0;return(c=="x"?i:i&3|8).toString(16)})}const Ut=()=>typeof window<"u"&&typeof document<"u",ea={tested:!1,writable:!1},ul=()=>{if(!Ut())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ea.tested)return ea.writable;const c=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(c,c),globalThis.localStorage.removeItem(c),ea.tested=!0,ea.writable=!0}catch{ea.tested=!0,ea.writable=!1}return ea.writable};function lp(c){const i={},s=new URL(c);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((o,f)=>{i[f]=o})}catch{}return s.searchParams.forEach((r,o)=>{i[o]=r}),i}const $y=c=>{let i;return c?i=c:typeof fetch>"u"?i=(...s)=>an(async()=>{const{default:r}=await Promise.resolve().then(()=>fl);return{default:r}},void 0,import.meta.url).then(({default:r})=>r(...s)):i=fetch,(...s)=>i(...s)},sp=c=>typeof c=="object"&&c!==null&&"status"in c&&"ok"in c&&"json"in c&&typeof c.json=="function",Xy=async(c,i,s)=>{await c.setItem(i,JSON.stringify(s))},Cs=async(c,i)=>{const s=await c.getItem(i);if(!s)return null;try{return JSON.parse(s)}catch{return s}},ks=async(c,i)=>{await c.removeItem(i)};class Ys{constructor(){this.promise=new Ys.promiseConstructor((i,s)=>{this.resolve=i,this.reject=s})}}Ys.promiseConstructor=Promise;function mc(c){const i=c.split(".");if(i.length!==3)throw new rl("Invalid JWT structure");for(let r=0;r<i.length;r++)if(!$0.test(i[r]))throw new rl("JWT not in base64url format");return{header:JSON.parse(dy(i[0])),payload:JSON.parse(dy(i[1])),signature:ep(i[2]),raw:{header:i[0],payload:i[1]}}}async function rp(c){return await new Promise(i=>{setTimeout(()=>i(null),c)})}function up(c,i){return new Promise((r,o)=>{(async()=>{for(let f=0;f<1/0;f++)try{const d=await c(f);if(!i(f,null,d)){r(d);return}}catch(d){if(!i(f,d)){o(d);return}}})()})}function cp(c){return("0"+c.toString(16)).substr(-2)}function op(){const i=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let o="";for(let f=0;f<56;f++)o+=s.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(i),Array.from(i,cp).join("")}async function fp(c){const s=new TextEncoder().encode(c),r=await crypto.subtle.digest("SHA-256",s),o=new Uint8Array(r);return Array.from(o).map(f=>String.fromCharCode(f)).join("")}async function dp(c){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),c;const s=await fp(c);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Pa(c,i,s=!1){const r=op();let o=r;s&&(o+="/PASSWORD_RECOVERY"),await Xy(c,`${i}-code-verifier`,o);const f=await dp(r);return[f,r===f?"plain":"s256"]}const hp=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function yp(c){const i=c.headers.get(Ac);if(!i||!i.match(hp))return null;try{return new Date(`${i}T00:00:00.0Z`)}catch{return null}}function gp(c){if(!c)throw new Error("Missing exp claim");const i=Math.floor(Date.now()/1e3);if(c<=i)throw new Error("JWT has expired")}function vp(c){switch(c){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const mp=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Wa(c){if(!mp.test(c))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var pp=function(c,i){var s={};for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&i.indexOf(r)<0&&(s[r]=c[r]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(c);o<r.length;o++)i.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(c,r[o])&&(s[r[o]]=c[r[o]]);return s};const ta=c=>c.msg||c.message||c.error_description||c.error||JSON.stringify(c),bp=[502,503,504];async function hy(c){var i;if(!sp(c))throw new Oc(ta(c),0);if(bp.includes(c.status))throw new Oc(ta(c),c.status);let s;try{s=await c.json()}catch(f){throw new Yy(ta(f),f)}let r;const o=yp(c);if(o&&o.getTime()>=Gy["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new cy(ta(s),c.status,((i=s.weak_password)===null||i===void 0?void 0:i.reasons)||[]);if(r==="session_not_found")throw new Nn}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((f,d)=>f&&typeof d=="string",!0))throw new cy(ta(s),c.status,s.weak_password.reasons);throw new K0(ta(s),c.status||500,r)}const _p=(c,i,s,r)=>{const o={method:c,headers:(i==null?void 0:i.headers)||{}};return c==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},i==null?void 0:i.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),s))};async function fe(c,i,s,r){var o;const f=Object.assign({},r==null?void 0:r.headers);f[Ac]||(f[Ac]=Gy["2024-01-01"].name),r!=null&&r.jwt&&(f.Authorization=`Bearer ${r.jwt}`);const d=(o=r==null?void 0:r.query)!==null&&o!==void 0?o:{};r!=null&&r.redirectTo&&(d.redirect_to=r.redirectTo);const g=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",y=await Sp(c,i,s+g,{headers:f,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(y):{data:Object.assign({},y),error:null}}async function Sp(c,i,s,r,o,f){const d=_p(i,r,o,f);let g;try{g=await c(s,Object.assign({},d))}catch(y){throw console.error(y),new Oc(ta(y),0)}if(g.ok||await hy(g),r!=null&&r.noResolveJson)return g;try{return await g.json()}catch(y){await hy(y)}}function tn(c){var i;let s=null;xp(c)&&(s=Object.assign({},c),c.expires_at||(s.expires_at=ap(c.expires_in)));const r=(i=c.user)!==null&&i!==void 0?i:c;return{data:{session:s,user:r},error:null}}function yy(c){const i=tn(c);return!i.error&&c.weak_password&&typeof c.weak_password=="object"&&Array.isArray(c.weak_password.reasons)&&c.weak_password.reasons.length&&c.weak_password.message&&typeof c.weak_password.message=="string"&&c.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(i.data.weak_password=c.weak_password),i}function Cn(c){var i;return{data:{user:(i=c.user)!==null&&i!==void 0?i:c},error:null}}function wp(c){return{data:c,error:null}}function Ep(c){const{action_link:i,email_otp:s,hashed_token:r,redirect_to:o,verification_type:f}=c,d=pp(c,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:i,email_otp:s,hashed_token:r,redirect_to:o,verification_type:f},y=Object.assign({},d);return{data:{properties:g,user:y},error:null}}function Tp(c){return c}function xp(c){return c.access_token&&c.refresh_token&&c.expires_in}const pc=["global","local","others"];var Ap=function(c,i){var s={};for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&i.indexOf(r)<0&&(s[r]=c[r]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(c);o<r.length;o++)i.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(c,r[o])&&(s[r[o]]=c[r[o]]);return s};class Op{constructor({url:i="",headers:s={},fetch:r}){this.url=i,this.headers=s,this.fetch=$y(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(i,s=pc[0]){if(pc.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${pc.join(", ")}`);try{return await fe(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:i,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async inviteUserByEmail(i,s={}){try{return await fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:i,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Cn})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async generateLink(i){try{const{options:s}=i,r=Ap(i,["options"]),o=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(o.new_email=r==null?void 0:r.newEmail,delete o.newEmail),await fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:Ep,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(ae(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(i){try{return await fe(this.fetch,"POST",`${this.url}/admin/users`,{body:i,headers:this.headers,xform:Cn})}catch(s){if(ae(s))return{data:{user:null},error:s};throw s}}async listUsers(i){var s,r,o,f,d,g,y;try{const m={nextPage:null,lastPage:0,total:0},p=await fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=i==null?void 0:i.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(f=(o=i==null?void 0:i.perPage)===null||o===void 0?void 0:o.toString())!==null&&f!==void 0?f:""},xform:Tp});if(p.error)throw p.error;const _=await p.json(),O=(d=p.headers.get("x-total-count"))!==null&&d!==void 0?d:0,j=(y=(g=p.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&y!==void 0?y:[];return j.length>0&&(j.forEach(N=>{const L=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),H=JSON.parse(N.split(";")[1].split("=")[1]);m[`${H}Page`]=L}),m.total=parseInt(O)),{data:Object.assign(Object.assign({},_),m),error:null}}catch(m){if(ae(m))return{data:{users:[]},error:m};throw m}}async getUserById(i){Wa(i);try{return await fe(this.fetch,"GET",`${this.url}/admin/users/${i}`,{headers:this.headers,xform:Cn})}catch(s){if(ae(s))return{data:{user:null},error:s};throw s}}async updateUserById(i,s){Wa(i);try{return await fe(this.fetch,"PUT",`${this.url}/admin/users/${i}`,{body:s,headers:this.headers,xform:Cn})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async deleteUser(i,s=!1){Wa(i);try{return await fe(this.fetch,"DELETE",`${this.url}/admin/users/${i}`,{headers:this.headers,body:{should_soft_delete:s},xform:Cn})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async _listFactors(i){Wa(i.userId);try{const{data:s,error:r}=await fe(this.fetch,"GET",`${this.url}/admin/users/${i.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:s,error:r}}catch(s){if(ae(s))return{data:null,error:s};throw s}}async _deleteFactor(i){Wa(i.userId),Wa(i.id);try{return{data:await fe(this.fetch,"DELETE",`${this.url}/admin/users/${i.userId}/factors/${i.id}`,{headers:this.headers}),error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}}}const Rp={getItem:c=>ul()?globalThis.localStorage.getItem(c):null,setItem:(c,i)=>{ul()&&globalThis.localStorage.setItem(c,i)},removeItem:c=>{ul()&&globalThis.localStorage.removeItem(c)}};function gy(c={}){return{getItem:i=>c[i]||null,setItem:(i,s)=>{c[i]=s},removeItem:i=>{delete c[i]}}}function Dp(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Fa={debug:!!(globalThis&&ul()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ky extends Error{constructor(i){super(i),this.isAcquireTimeout=!0}}class jp extends Ky{}async function Np(c,i,s){Fa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",c,i);const r=new globalThis.AbortController;return i>0&&setTimeout(()=>{r.abort(),Fa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",c)},i),await Promise.resolve().then(()=>globalThis.navigator.locks.request(c,i===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){Fa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",c,o.name);try{return await s()}finally{Fa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",c,o.name)}}else{if(i===0)throw Fa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",c),new jp(`Acquiring an exclusive Navigator LockManager lock "${c}" immediately failed`);if(Fa.debug)try{const f=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(f,null,"  "))}catch(f){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",f)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}Dp();const Up={url:G0,storageKey:Y0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:V0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function vy(c,i,s){return await s()}class ol{constructor(i){var s,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ol.nextInstanceID,ol.nextInstanceID+=1,this.instanceID>0&&Ut()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},Up),i);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Op({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=$y(o.fetch),this.lock=o.lock||vy,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Ut()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Np:this.lock=vy,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:ul()?this.storage=Rp:(this.memoryStorage={},this.storage=gy(this.memoryStorage)):(this.memoryStorage={},this.storage=gy(this.memoryStorage)),Ut()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}_debug(...i){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Hy}) ${new Date().toISOString()}`,...i),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var i;try{const s=lp(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),Ut()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:f}=await this._getSessionFromURL(s,r);if(f){if(this._debug("#_initialize()","error detecting session from URL",f),Z0(f)){const y=(i=f.details)===null||i===void 0?void 0:i.code;if(y==="identity_already_exists"||y==="identity_not_found"||y==="single_identity_not_deletable")return{error:f}}return await this._removeSession(),{error:f}}const{session:d,redirectType:g}=o;return this._debug("#_initialize()","detected session in URL",d,"redirect type",g),await this._saveSession(d),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return ae(s)?{error:s}:{error:new Yy("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(i){var s,r,o;try{const f=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=i==null?void 0:i.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=i==null?void 0:i.options)===null||o===void 0?void 0:o.captchaToken}},xform:tn}),{data:d,error:g}=f;if(g||!d)return{data:{user:null,session:null},error:g};const y=d.session,m=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",y)),{data:{user:m,session:y},error:null}}catch(f){if(ae(f))return{data:{user:null,session:null},error:f};throw f}}async signUp(i){var s,r,o;try{let f;if("email"in i){const{email:p,password:_,options:O}=i;let j=null,N=null;this.flowType==="pkce"&&([j,N]=await Pa(this.storage,this.storageKey)),f=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:O==null?void 0:O.emailRedirectTo,body:{email:p,password:_,data:(s=O==null?void 0:O.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:O==null?void 0:O.captchaToken},code_challenge:j,code_challenge_method:N},xform:tn})}else if("phone"in i){const{phone:p,password:_,options:O}=i;f=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:_,data:(r=O==null?void 0:O.data)!==null&&r!==void 0?r:{},channel:(o=O==null?void 0:O.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:O==null?void 0:O.captchaToken}},xform:tn})}else throw new Ns("You must provide either an email or phone number and a password");const{data:d,error:g}=f;if(g||!d)return{data:{user:null,session:null},error:g};const y=d.session,m=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",y)),{data:{user:m,session:y},error:null}}catch(f){if(ae(f))return{data:{user:null,session:null},error:f};throw f}}async signInWithPassword(i){try{let s;if("email"in i){const{email:f,password:d,options:g}=i;s=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:f,password:d,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:yy})}else if("phone"in i){const{phone:f,password:d,options:g}=i;s=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:f,password:d,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:yy})}else throw new Ns("You must provide either an email or phone number and a password");const{data:r,error:o}=s;return o?{data:{user:null,session:null},error:o}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new js}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(s){if(ae(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(i){var s,r,o,f;return await this._handleProviderSignIn(i.provider,{redirectTo:(s=i.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=i.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=i.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(f=i.options)===null||f===void 0?void 0:f.skipBrowserRedirect})}async exchangeCodeForSession(i){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(i))}async signInWithWeb3(i){const{chain:s}=i;if(s==="solana")return await this.signInWithSolana(i);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(i){var s,r,o,f,d,g,y,m,p,_,O,j;let N,L;if("message"in i)N=i.message,L=i.signature;else{const{chain:H,wallet:se,statement:ee,options:B}=i;let I;if(Ut())if(typeof se=="object")I=se;else{const ne=window;if("solana"in ne&&typeof ne.solana=="object"&&("signIn"in ne.solana&&typeof ne.solana.signIn=="function"||"signMessage"in ne.solana&&typeof ne.solana.signMessage=="function"))I=ne.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof se!="object"||!(B!=null&&B.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=se}const V=new URL((s=B==null?void 0:B.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in I&&I.signIn){const ne=await I.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},B==null?void 0:B.signInWithSolana),{version:"1",domain:V.host,uri:V.href}),ee?{statement:ee}:null));let ve;if(Array.isArray(ne)&&ne[0]&&typeof ne[0]=="object")ve=ne[0];else if(ne&&typeof ne=="object"&&"signedMessage"in ne&&"signature"in ne)ve=ne;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ve&&"signature"in ve&&(typeof ve.signedMessage=="string"||ve.signedMessage instanceof Uint8Array)&&ve.signature instanceof Uint8Array)N=typeof ve.signedMessage=="string"?ve.signedMessage:new TextDecoder().decode(ve.signedMessage),L=ve.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in I)||typeof I.signMessage!="function"||!("publicKey"in I)||typeof I!="object"||!I.publicKey||!("toBase58"in I.publicKey)||typeof I.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${V.host} wants you to sign in with your Solana account:`,I.publicKey.toBase58(),...ee?["",ee,""]:[""],"Version: 1",`URI: ${V.href}`,`Issued At: ${(o=(r=B==null?void 0:B.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((f=B==null?void 0:B.signInWithSolana)===null||f===void 0)&&f.notBefore?[`Not Before: ${B.signInWithSolana.notBefore}`]:[],...!((d=B==null?void 0:B.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${B.signInWithSolana.expirationTime}`]:[],...!((g=B==null?void 0:B.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${B.signInWithSolana.chainId}`]:[],...!((y=B==null?void 0:B.signInWithSolana)===null||y===void 0)&&y.nonce?[`Nonce: ${B.signInWithSolana.nonce}`]:[],...!((m=B==null?void 0:B.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${B.signInWithSolana.requestId}`]:[],...!((_=(p=B==null?void 0:B.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||_===void 0)&&_.length?["Resources",...B.signInWithSolana.resources.map(ve=>`- ${ve}`)]:[]].join(`
`);const ne=await I.signMessage(new TextEncoder().encode(N),"utf8");if(!ne||!(ne instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");L=ne}}try{const{data:H,error:se}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:np(L)},!((O=i.options)===null||O===void 0)&&O.captchaToken?{gotrue_meta_security:{captcha_token:(j=i.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:tn});if(se)throw se;return!H||!H.session||!H.user?{data:{user:null,session:null},error:new js}:(H.session&&(await this._saveSession(H.session),await this._notifyAllSubscribers("SIGNED_IN",H.session)),{data:Object.assign({},H),error:se})}catch(H){if(ae(H))return{data:{user:null,session:null},error:H};throw H}}async _exchangeCodeForSession(i){const s=await Cs(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(s??"").split("/");try{const{data:f,error:d}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:i,code_verifier:r},xform:tn});if(await ks(this.storage,`${this.storageKey}-code-verifier`),d)throw d;return!f||!f.session||!f.user?{data:{user:null,session:null,redirectType:null},error:new js}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:Object.assign(Object.assign({},f),{redirectType:o??null}),error:d})}catch(f){if(ae(f))return{data:{user:null,session:null,redirectType:null},error:f};throw f}}async signInWithIdToken(i){try{const{options:s,provider:r,token:o,access_token:f,nonce:d}=i,g=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:f,nonce:d,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:tn}),{data:y,error:m}=g;return m?{data:{user:null,session:null},error:m}:!y||!y.session||!y.user?{data:{user:null,session:null},error:new js}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:y,error:m})}catch(s){if(ae(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(i){var s,r,o,f,d;try{if("email"in i){const{email:g,options:y}=i;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await Pa(this.storage,this.storageKey));const{error:_}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(s=y==null?void 0:y.data)!==null&&s!==void 0?s:{},create_user:(r=y==null?void 0:y.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:m,code_challenge_method:p},redirectTo:y==null?void 0:y.emailRedirectTo});return{data:{user:null,session:null},error:_}}if("phone"in i){const{phone:g,options:y}=i,{data:m,error:p}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(o=y==null?void 0:y.data)!==null&&o!==void 0?o:{},create_user:(f=y==null?void 0:y.shouldCreateUser)!==null&&f!==void 0?f:!0,gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},channel:(d=y==null?void 0:y.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:p}}throw new Ns("You must provide either an email or phone number.")}catch(g){if(ae(g))return{data:{user:null,session:null},error:g};throw g}}async verifyOtp(i){var s,r;try{let o,f;"options"in i&&(o=(s=i.options)===null||s===void 0?void 0:s.redirectTo,f=(r=i.options)===null||r===void 0?void 0:r.captchaToken);const{data:d,error:g}=await fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},i),{gotrue_meta_security:{captcha_token:f}}),redirectTo:o,xform:tn});if(g)throw g;if(!d)throw new Error("An error occurred on token verification.");const y=d.session,m=d.user;return y!=null&&y.access_token&&(await this._saveSession(y),await this._notifyAllSubscribers(i.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",y)),{data:{user:m,session:y},error:null}}catch(o){if(ae(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(i){var s,r,o;try{let f=null,d=null;return this.flowType==="pkce"&&([f,d]=await Pa(this.storage,this.storageKey)),await fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in i?{provider_id:i.providerId}:null),"domain"in i?{domain:i.domain}:null),{redirect_to:(r=(s=i.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=i==null?void 0:i.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:i.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:d}),headers:this.headers,xform:wp})}catch(f){if(ae(f))return{data:null,error:f};throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async i=>{const{data:{session:s},error:r}=i;if(r)throw r;if(!s)throw new Nn;const{error:o}=await fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:o}})}catch(i){if(ae(i))return{data:{user:null,session:null},error:i};throw i}}async resend(i){try{const s=`${this.url}/resend`;if("email"in i){const{email:r,type:o,options:f}=i,{error:d}=await fe(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},redirectTo:f==null?void 0:f.emailRedirectTo});return{data:{user:null,session:null},error:d}}else if("phone"in i){const{phone:r,type:o,options:f}=i,{data:d,error:g}=await fe(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:g}}throw new Ns("You must provide either an email or phone number and a type")}catch(s){if(ae(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(i,s){this._debug("#_acquireLock","begin",i);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,i,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(i){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await i(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let i=null;const s=await Cs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?i=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!i)return{data:{session:null},error:null};const r=i.expires_at?i.expires_at*1e3-Date.now()<gc:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",i.expires_at),!r){if(this.storage.isServer){let d=this.suppressGetSessionWarning;i=new Proxy(i,{get:(y,m,p)=>(!d&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),d=!0,this.suppressGetSessionWarning=!0),Reflect.get(y,m,p))})}return{data:{session:i},error:null}}const{session:o,error:f}=await this._callRefreshToken(i.refresh_token);return f?{data:{session:null},error:f}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(i){return i?await this._getUser(i):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(i){try{return i?await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:i,xform:Cn}):await this._useSession(async s=>{var r,o,f;const{data:d,error:g}=s;if(g)throw g;return!(!((r=d.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Nn}:await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(f=(o=d.session)===null||o===void 0?void 0:o.access_token)!==null&&f!==void 0?f:void 0,xform:Cn})})}catch(s){if(ae(s))return I0(s)&&(await this._removeSession(),await ks(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(i,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(i,s))}async _updateUser(i,s={}){try{return await this._useSession(async r=>{const{data:o,error:f}=r;if(f)throw f;if(!o.session)throw new Nn;const d=o.session;let g=null,y=null;this.flowType==="pkce"&&i.email!=null&&([g,y]=await Pa(this.storage,this.storageKey));const{data:m,error:p}=await fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},i),{code_challenge:g,code_challenge_method:y}),jwt:d.access_token,xform:Cn});if(p)throw p;return d.user=m.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),{data:{user:d.user},error:null}})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async setSession(i){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(i))}async _setSession(i){try{if(!i.access_token||!i.refresh_token)throw new Nn;const s=Date.now()/1e3;let r=s,o=!0,f=null;const{payload:d}=mc(i.access_token);if(d.exp&&(r=d.exp,o=r<=s),o){const{session:g,error:y}=await this._callRefreshToken(i.refresh_token);if(y)return{data:{user:null,session:null},error:y};if(!g)return{data:{user:null,session:null},error:null};f=g}else{const{data:g,error:y}=await this._getUser(i.access_token);if(y)throw y;f={access_token:i.access_token,refresh_token:i.refresh_token,user:g.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(f),await this._notifyAllSubscribers("SIGNED_IN",f)}return{data:{user:f.user,session:f},error:null}}catch(s){if(ae(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(i){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(i))}async _refreshSession(i){try{return await this._useSession(async s=>{var r;if(!i){const{data:d,error:g}=s;if(g)throw g;i=(r=d.session)!==null&&r!==void 0?r:void 0}if(!(i!=null&&i.refresh_token))throw new Nn;const{session:o,error:f}=await this._callRefreshToken(i.refresh_token);return f?{data:{user:null,session:null},error:f}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(ae(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(i,s){try{if(!Ut())throw new Us("No browser detected.");if(i.error||i.error_description||i.error_code)throw new Us(i.error_description||"Error in URL with unspecified error_description",{error:i.error||"unspecified_error",code:i.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new uy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Us("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!i.code)throw new uy("No code detected.");const{data:ee,error:B}=await this._exchangeCodeForSession(i.code);if(B)throw B;const I=new URL(window.location.href);return I.searchParams.delete("code"),window.history.replaceState(window.history.state,"",I.toString()),{data:{session:ee.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:f,refresh_token:d,expires_in:g,expires_at:y,token_type:m}=i;if(!f||!g||!d||!m)throw new Us("No session defined in URL");const p=Math.round(Date.now()/1e3),_=parseInt(g);let O=p+_;y&&(O=parseInt(y));const j=O-p;j*1e3<=ei&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${j}s, should have been closer to ${_}s`);const N=O-_;p-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,O,p):p-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,O,p);const{data:L,error:H}=await this._getUser(f);if(H)throw H;const se={provider_token:r,provider_refresh_token:o,access_token:f,expires_in:_,expires_at:O,refresh_token:d,token_type:m,user:L.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:se,redirectType:i.type},error:null}}catch(r){if(ae(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(i){return!!(i.access_token||i.error_description)}async _isPKCECallback(i){const s=await Cs(this.storage,`${this.storageKey}-code-verifier`);return!!(i.code&&s)}async signOut(i={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(i))}async _signOut({scope:i}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:o,error:f}=s;if(f)return{error:f};const d=(r=o.session)===null||r===void 0?void 0:r.access_token;if(d){const{error:g}=await this.admin.signOut(d,i);if(g&&!(Q0(g)&&(g.status===404||g.status===401||g.status===403)))return{error:g}}return i!=="others"&&(await this._removeSession(),await ks(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(i){const s=ip(),r={id:s,callback:i,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(i){return await this._useSession(async s=>{var r,o;try{const{data:{session:f},error:d}=s;if(d)throw d;await((r=this.stateChangeEmitters.get(i))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",f)),this._debug("INITIAL_SESSION","callback id",i,"session",f)}catch(f){await((o=this.stateChangeEmitters.get(i))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",i,"error",f),console.error(f)}})}async resetPasswordForEmail(i,s={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await Pa(this.storage,this.storageKey,!0));try{return await fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:i,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(f){if(ae(f))return{data:null,error:f};throw f}}async getUserIdentities(){var i;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(i=s.user.identities)!==null&&i!==void 0?i:[]},error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}}async linkIdentity(i){var s;try{const{data:r,error:o}=await this._useSession(async f=>{var d,g,y,m,p;const{data:_,error:O}=f;if(O)throw O;const j=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,i.provider,{redirectTo:(d=i.options)===null||d===void 0?void 0:d.redirectTo,scopes:(g=i.options)===null||g===void 0?void 0:g.scopes,queryParams:(y=i.options)===null||y===void 0?void 0:y.queryParams,skipBrowserRedirect:!0});return await fe(this.fetch,"GET",j,{headers:this.headers,jwt:(p=(m=_.session)===null||m===void 0?void 0:m.access_token)!==null&&p!==void 0?p:void 0})});if(o)throw o;return Ut()&&!(!((s=i.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:i.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ae(r))return{data:{provider:i.provider,url:null},error:r};throw r}}async unlinkIdentity(i){try{return await this._useSession(async s=>{var r,o;const{data:f,error:d}=s;if(d)throw d;return await fe(this.fetch,"DELETE",`${this.url}/user/identities/${i.identity_id}`,{headers:this.headers,jwt:(o=(r=f.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(s){if(ae(s))return{data:null,error:s};throw s}}async _refreshAccessToken(i){const s=`#_refreshAccessToken(${i.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await up(async o=>(o>0&&await rp(200*Math.pow(2,o-1)),this._debug(s,"refreshing attempt",o),await fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:i},headers:this.headers,xform:tn})),(o,f)=>{const d=200*Math.pow(2,o);return f&&vc(f)&&Date.now()+d-r<ei})}catch(r){if(this._debug(s,"error",r),ae(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(i){return typeof i=="object"&&i!==null&&"access_token"in i&&"refresh_token"in i&&"expires_at"in i}async _handleProviderSignIn(i,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,i,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",i,"options",s,"url",r),Ut()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:i,url:r},error:null}}async _recoverAndRefresh(){var i;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await Cs(this.storage,this.storageKey);if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const o=((i=r.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<gc;if(this._debug(s,`session has${o?"":" not"} expired with margin of ${gc}s`),o){if(this.autoRefreshToken&&r.refresh_token){const{error:f}=await this._callRefreshToken(r.refresh_token);f&&(console.error(f),vc(f)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(i){var s,r;if(!i)throw new Nn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${i.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Ys;const{data:f,error:d}=await this._refreshAccessToken(i);if(d)throw d;if(!f.session)throw new Nn;await this._saveSession(f.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",f.session);const g={session:f.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(f){if(this._debug(o,"error",f),ae(f)){const d={session:null,error:f};return vc(f)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(d),d}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(f),f}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(i,s,r=!0){const o=`#_notifyAllSubscribers(${i})`;this._debug(o,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:i,session:s});const f=[],d=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(i,s)}catch(y){f.push(y)}});if(await Promise.all(d),f.length>0){for(let g=0;g<f.length;g+=1)console.error(f[g]);throw f[0]}}finally{this._debug(o,"end")}}async _saveSession(i){this._debug("#_saveSession()",i),this.suppressGetSessionWarning=!0,await Xy(this.storage,this.storageKey,i)}async _removeSession(){this._debug("#_removeSession()"),await ks(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const i=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{i&&Ut()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",i)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const i=setInterval(()=>this._autoRefreshTokenTick(),ei);this.autoRefreshTicker=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const i=this.autoRefreshTicker;this.autoRefreshTicker=null,i&&clearInterval(i)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const i=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-i)/ei);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${ei}ms, refresh threshold is ${xc} ticks`),o<=xc&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(i){if(i.isAcquireTimeout||i instanceof Ky)this._debug("auto refresh token tick lock not available");else throw i}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ut()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(i){console.error("_handleVisibilityChange",i)}}async _onVisibilityChanged(i){const s=`#_onVisibilityChanged(${i})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),i||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(i,s,r){const o=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[f,d]=await Pa(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(f)}`,code_challenge_method:`${encodeURIComponent(d)}`});o.push(g.toString())}if(r!=null&&r.queryParams){const f=new URLSearchParams(r.queryParams);o.push(f.toString())}return r!=null&&r.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${i}?${o.join("&")}`}async _unenroll(i){try{return await this._useSession(async s=>{var r;const{data:o,error:f}=s;return f?{data:null,error:f}:await fe(this.fetch,"DELETE",`${this.url}/factors/${i.factorId}`,{headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(ae(s))return{data:null,error:s};throw s}}async _enroll(i){try{return await this._useSession(async s=>{var r,o;const{data:f,error:d}=s;if(d)return{data:null,error:d};const g=Object.assign({friendly_name:i.friendlyName,factor_type:i.factorType},i.factorType==="phone"?{phone:i.phone}:{issuer:i.issuer}),{data:y,error:m}=await fe(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(r=f==null?void 0:f.session)===null||r===void 0?void 0:r.access_token});return m?{data:null,error:m}:(i.factorType==="totp"&&(!((o=y==null?void 0:y.totp)===null||o===void 0)&&o.qr_code)&&(y.totp.qr_code=`data:image/svg+xml;utf-8,${y.totp.qr_code}`),{data:y,error:null})})}catch(s){if(ae(s))return{data:null,error:s};throw s}}async _verify(i){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:o,error:f}=s;if(f)return{data:null,error:f};const{data:d,error:g}=await fe(this.fetch,"POST",`${this.url}/factors/${i.factorId}/verify`,{body:{code:i.code,challenge_id:i.challengeId},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return g?{data:null,error:g}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:g})})}catch(s){if(ae(s))return{data:null,error:s};throw s}})}async _challenge(i){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:o,error:f}=s;return f?{data:null,error:f}:await fe(this.fetch,"POST",`${this.url}/factors/${i.factorId}/challenge`,{body:{channel:i.channel},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(ae(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(i){const{data:s,error:r}=await this._challenge({factorId:i.factorId});return r?{data:null,error:r}:await this._verify({factorId:i.factorId,challengeId:s.id,code:i.code})}async _listFactors(){const{data:{user:i},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(i==null?void 0:i.factors)||[],o=r.filter(d=>d.factor_type==="totp"&&d.status==="verified"),f=r.filter(d=>d.factor_type==="phone"&&d.status==="verified");return{data:{all:r,totp:o,phone:f},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async i=>{var s,r;const{data:{session:o},error:f}=i;if(f)return{data:null,error:f};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=mc(o.access_token);let g=null;d.aal&&(g=d.aal);let y=g;((r=(s=o.user.factors)===null||s===void 0?void 0:s.filter(_=>_.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(y="aal2");const p=d.amr||[];return{data:{currentLevel:g,nextLevel:y,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(i,s={keys:[]}){let r=s.keys.find(d=>d.kid===i);if(r||(r=this.jwks.keys.find(d=>d.kid===i),r&&this.jwks_cached_at+X0>Date.now()))return r;const{data:o,error:f}=await fe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;if(!o.keys||o.keys.length===0)throw new rl("JWKS is empty");if(this.jwks=o,this.jwks_cached_at=Date.now(),r=o.keys.find(d=>d.kid===i),!r)throw new rl("No matching signing key found in JWKS");return r}async getClaims(i,s={keys:[]}){try{let r=i;if(!r){const{data:j,error:N}=await this.getSession();if(N||!j.session)return{data:null,error:N};r=j.session.access_token}const{header:o,payload:f,signature:d,raw:{header:g,payload:y}}=mc(r);if(gp(f.exp),!o.kid||o.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:j}=await this.getUser(r);if(j)throw j;return{data:{claims:f,header:o,signature:d},error:null}}const m=vp(o.alg),p=await this.fetchJwk(o.kid,s),_=await crypto.subtle.importKey("jwk",p,m,!0,["verify"]);if(!await crypto.subtle.verify(m,_,d,tp(`${g}.${y}`)))throw new rl("Invalid JWT signature");return{data:{claims:f,header:o,signature:d},error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}}ol.nextInstanceID=0;const Cp=ol;class kp extends Cp{constructor(i){super(i)}}var Mp=function(c,i,s,r){function o(f){return f instanceof s?f:new s(function(d){d(f)})}return new(s||(s=Promise))(function(f,d){function g(p){try{m(r.next(p))}catch(_){d(_)}}function y(p){try{m(r.throw(p))}catch(_){d(_)}}function m(p){p.done?f(p.value):o(p.value).then(g,y)}m((r=r.apply(c,i||[])).next())})};class zp{constructor(i,s,r){var o,f,d;if(this.supabaseUrl=i,this.supabaseKey=s,!i)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const g=B0(i),y=new URL(g);this.realtimeUrl=new URL("realtime/v1",y),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",y),this.storageUrl=new URL("storage/v1",y),this.functionsUrl=new URL("functions/v1",y);const m=`sb-${y.hostname.split(".")[0]}-auth-token`,p={db:N0,realtime:C0,auth:Object.assign(Object.assign({},U0),{storageKey:m}),global:j0},_=H0(r??{},p);this.storageKey=(o=_.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(f=_.global.headers)!==null&&f!==void 0?f:{},_.accessToken?(this.accessToken=_.accessToken,this.auth=new Proxy({},{get:(O,j)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(j)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=_.auth)!==null&&d!==void 0?d:{},this.headers,_.global.fetch),this.fetch=q0(s,this._getAccessToken.bind(this),_.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},_.realtime)),this.rest=new Fm(new URL("rest/v1",y).href,{headers:this.headers,schema:_.db.schema,fetch:this.fetch}),_.accessToken||this._listenForAuthEvents()}get functions(){return new Vm(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new O0(this.storageUrl.href,this.headers,this.fetch)}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,s={},r={}){return this.rest.rpc(i,s,r)}channel(i,s={config:{}}){return this.realtime.channel(i,s)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var i,s;return Mp(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(i=r.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:s,detectSessionInUrl:r,storage:o,storageKey:f,flowType:d,lock:g,debug:y},m,p){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new kp({url:this.authUrl.href,headers:Object.assign(Object.assign({},_),m),storageKey:f,autoRefreshToken:i,persistSession:s,detectSessionInUrl:r,storage:o,flowType:d,lock:g,debug:y,fetch:p,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(i){return new y0(this.realtimeUrl.href,Object.assign(Object.assign({},i),{params:Object.assign({apikey:this.supabaseKey},i==null?void 0:i.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(i,s,r){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:i==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const qp=(c,i,s)=>new zp(c,i,s),Lp=(c,i)=>{try{return qp(c,i)}catch(s){return console.error("Failed to create Supabase client:",s),null}},Qy=Q.createContext(void 0);function Bp({children:c}){const[i,s]=Q.useState(null),[r,o]=Q.useState("INITIALIZING"),[f,d]=Q.useState(null),[g,y]=Q.useState(null);Q.useEffect(()=>{const p="https://yhusjlrbpqgnezaaladq.supabase.co",_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlodXNqbHJicHFnbmV6YWFsYWRxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIwMzY3NDcsImV4cCI6MjA2NzYxMjc0N30.C6dTccPyT0d-FIA0SpwlaQsni4VjnLQaeQi1kihvlvE";{const O=Lp(p,_);s(O)}},[]),Q.useEffect(()=>{if(!i){r!=="NO_CONFIG"&&(o("LOGGED_OUT"),d(null),y(null));return}o("INITIALIZING"),i.auth.getSession().then(({data:{session:_}})=>{y(_),d((_==null?void 0:_.user)??null),o(_?"LOGGED_IN":"LOGGED_OUT")}).catch(()=>{o("LOGGED_OUT")});const{data:p}=i.auth.onAuthStateChange((_,O)=>{y(O),d((O==null?void 0:O.user)??null),o(O?"LOGGED_IN":"LOGGED_OUT")});return()=>{p==null||p.subscription.unsubscribe()}},[i]);const m={supabase:i,authState:r,user:f,session:g};return E.jsx(Qy.Provider,{value:m,children:c})}const Vs=()=>{const c=Q.useContext(Qy);if(c===void 0)throw new Error("useAuth must be used within an AuthProvider");return c};var ze=(c=>(c.Editor="EDITOR",c.Reader="READER",c.ReadingMode="READING_MODE",c.Review="REVIEW",c))(ze||{});const Iy={isLoading:!0,view:"EDITOR",currentTextEntryId:null,editingEntryId:null,selectedSentence:null,history:[],reviewDeck:[],urlToImport:null},Hp=(c,i)=>{switch(i.type){case"INITIALIZE_DATA_SUCCESS":return{...c,isLoading:!1,history:i.payload.history,reviewDeck:i.payload.reviewDeck,currentTextEntryId:i.payload.currentTextEntryId,view:i.payload.view};case"INITIALIZE_DATA_FAILURE":return{...c,isLoading:!1};case"SET_VIEW":return{...c,view:i.payload,selectedSentence:null};case"START_EDITING":return{...c,view:"EDITOR",editingEntryId:i.payload,currentTextEntryId:i.payload,selectedSentence:null};case"RESET_VIEW":return Nt("unsaved-title",""),Nt("unsaved-text",""),Nt("session_currentTextEntryId",null),{...c,view:"EDITOR",currentTextEntryId:null,selectedSentence:null,editingEntryId:null};case"SET_CURRENT_TEXT_ENTRY_ID":return Nt("session_currentTextEntryId",i.payload),Nt("unsaved-title",""),Nt("unsaved-text",""),{...c,currentTextEntryId:i.payload,selectedSentence:null};case"SET_SELECTED_SENTENCE":return{...c,selectedSentence:i.payload};case"SET_HISTORY":{const s=i.payload;return Ls().then(()=>{s.forEach(r=>na(r))}),{...c,history:s}}case"ADD_OR_UPDATE_TEXT_ENTRY":{const s=i.payload;na(s),Nt("unsaved-title",""),Nt("unsaved-text","");const r=c.history.findIndex(f=>f.id===s.id);let o;return r>-1?(o=[...c.history],o[r]=s):o=[s,...c.history],o.sort((f,d)=>d.updatedAt-f.updatedAt),{...c,history:o,editingEntryId:null}}case"REMOVE_TEXT_ENTRY":{const s=i.payload;Mm(s);const r=c.history.filter(f=>f.id!==s),o=c.currentTextEntryId===s;return o&&Nt("session_currentTextEntryId",null),{...c,history:r,currentTextEntryId:o?null:c.currentTextEntryId,view:o?"EDITOR":c.view,selectedSentence:o?null:c.selectedSentence}}case"CLEAR_HISTORY":return Ls(),Nt("session_currentTextEntryId",null),{...c,history:[],currentTextEntryId:null,view:"EDITOR",selectedSentence:null};case"SET_REVIEW_DECK":{const s=i.payload;return Mc().then(()=>{s.forEach(r=>Bs(r))}),{...c,reviewDeck:s}}case"ADD_OR_UPDATE_REVIEW_ITEM":{const s=i.payload;Bs(s);const r=c.reviewDeck.findIndex(f=>f.id===s.id);let o;return r>-1?(o=[...c.reviewDeck],o[r]=s):o=[...c.reviewDeck,s],o.sort((f,d)=>f.addedAt-d.addedAt),{...c,reviewDeck:o}}case"REMOVE_REVIEW_ITEM":{const s=i.payload;zm(s);const r=c.reviewDeck.filter(o=>o.id!==s);return{...c,reviewDeck:r}}case"NAVIGATE_SENTENCE":{if(!c.currentTextEntryId)return c;const s=c.history.findIndex(y=>y.id===c.currentTextEntryId);if(s===-1)return c;const r=[...c.history],o={...r[s]},f=o.text.split(`
`).flatMap(y=>{var m;return((m=y.match(/[^]+(?:[][]*)?/g))==null?void 0:m.filter(p=>p==null?void 0:p.trim()))||[]}),g=o.readingProgress+(i.payload.direction==="next"?1:-1);return g>=0&&g<f.length?(o.readingProgress=g,r[s]=o,na(o),{...c,history:r}):c}case"JUMP_TO_SENTENCE":{if(!c.currentTextEntryId)return c;const s=c.history.findIndex(g=>g.id===c.currentTextEntryId);if(s===-1)return c;const r=[...c.history],o={...r[s]},f=o.text.split(`
`).flatMap(g=>{var y;return((y=g.match(/[^]+(?:[][]*)?/g))==null?void 0:y.filter(m=>m==null?void 0:m.trim()))||[]}),d=i.payload.index;return d>=0&&d<f.length?(o.readingProgress=d,r[s]=o,na(o),{...c,history:r}):c}case"CACHE_ANALYSIS":{const{entryId:s,sentence:r,depth:o,analysis:f}=i.payload,d=c.history.findIndex(O=>O.id===s);if(d===-1)return c;const g=[...c.history],y=g[d],m={...y.analyzedSentences[r]||{},[o]:f},p={...y.analyzedSentences,[r]:m},_={...y,analyzedSentences:p,updatedAt:Date.now()};return g[d]=_,na(_),{...c,history:g}}case"SET_URL_TO_IMPORT":return{...c,view:"EDITOR",urlToImport:i.payload};case"CLEAR_URL_TO_IMPORT":return{...c,urlToImport:null};default:return c}},Zy=Q.createContext({state:Iy,dispatch:()=>null});function Gp({children:c,_testDispatch:i,_testState:s}){const[r,o]=Q.useReducer(Hp,s||Iy),{user:f,supabase:d}=Vs(),g=Q.useCallback(async m=>{if(o(m),!(!f||!d))try{switch(m.type){case"ADD_OR_UPDATE_TEXT_ENTRY":{const p=m.payload,_={id:p.id,user_id:f.id,title:p.title,text:p.text,reading_progress:p.readingProgress,analyzed_sentences:p.analyzedSentences,created_at:new Date(p.createdAt).toISOString(),updated_at:new Date(p.updatedAt).toISOString()};await d.from("text_entries").upsert(_);break}case"CACHE_ANALYSIS":{const{entryId:p,sentence:_,depth:O,analysis:j}=m.payload,{error:N}=await d.rpc("update_sentence_analysis",{entry_id:p,sentence_key:_,depth_key:O,analysis_data:j});if(N)throw N;break}case"REMOVE_TEXT_ENTRY":await d.from("text_entries").delete().match({id:m.payload,user_id:f.id});break;case"CLEAR_HISTORY":await d.from("text_entries").delete().match({user_id:f.id});break;case"ADD_OR_UPDATE_REVIEW_ITEM":{const p=m.payload,_={id:p.id,user_id:f.id,type:p.type,content:p.content,text_entry_id:p.textEntryId,srs_stage:p.srsStage,interval_modifier:p.intervalModifier,incorrect_answer_count:p.incorrectAnswerCount,next_review_date:new Date(p.nextReviewDate).toISOString(),added_at:new Date(p.addedAt).toISOString()};await d.from("review_deck").upsert(_);break}case"REMOVE_REVIEW_ITEM":await d.from("review_deck").delete().match({id:m.payload,user_id:f.id});break}}catch(p){console.error("Supabase sync failed:",p)}},[f,d]),y=i||g;return Q.useEffect(()=>{if(s)return;const m=async()=>{try{const[p,_,O]=await Promise.all([Cc(),kc(),qm("session_currentTextEntryId")]),j=O&&p.some(L=>L.id===O)?O:null;O&&!j&&await Nt("session_currentTextEntryId",null),o({type:"INITIALIZE_DATA_SUCCESS",payload:{history:p,reviewDeck:_,currentTextEntryId:j,view:j?"READER":"EDITOR"}})}catch(p){console.error("Failed to load app data from IndexedDB",p),o({type:"INITIALIZE_DATA_FAILURE"})}};jc().then(m).catch(p=>{console.error("DB Init failed",p),o({type:"INITIALIZE_DATA_FAILURE"})})},[s]),E.jsx(Zy.Provider,{value:{state:r,dispatch:y},children:c})}const Mn=()=>Q.useContext(Zy),my=["low","medium","high"],Jy={isLoading:!0,theme:"light",showFurigana:!0,showColorCoding:!0,showPitchAccent:!0,analysisDepth:"medium",fontSizeIndex:Ey,newWordsPerDay:10,userApiKey:null},py=c=>{document.documentElement.classList.toggle("dark",c.theme==="dark"),document.documentElement.style.setProperty("--font-size-multiplier",bc[c.fontSizeIndex].value)},Yp=(c,i)=>{switch(i.type){case"INITIALIZE_SETTINGS_SUCCESS":return py(i.payload),{...c,isLoading:!1,...i.payload};case"INITIALIZE_SETTINGS_FAILURE":return{...c,isLoading:!1};case"UPDATE_SETTINGS":{const s={...c,...i.payload},r={...i.payload};return Object.prototype.hasOwnProperty.call(r,"userApiKey")&&(typeof r.userApiKey=="string"&&r.userApiKey.trim().length>0?r.userApiKey=r.userApiKey.trim():r.userApiKey=null),Oy(r),py(s),{...c,...s}}default:return c}},Py=Q.createContext({state:Jy,dispatch:()=>null});function Vp({children:c,_testState:i}){const[s,r]=Q.useReducer(Yp,i||Jy);return Q.useEffect(()=>{if(i)return;const o=async()=>{try{const f=await Ay();r({type:"INITIALIZE_SETTINGS_SUCCESS",payload:f})}catch(f){console.error("Failed to load settings from IndexedDB",f),r({type:"INITIALIZE_SETTINGS_FAILURE"})}};jc().then(o).catch(f=>{console.error("DB Init failed",f),r({type:"INITIALIZE_SETTINGS_FAILURE"})})},[i]),E.jsx(Py.Provider,{value:{state:s,dispatch:r},children:c})}const Gc=()=>Q.useContext(Py),cl={isHistoryPanelOpen:!1,tooltip:{visible:!1,content:null,position:{top:0,left:0},pinned:!1,targetElement:null},bottomSheet:{visible:!1,content:{title:"",body:null},targetElement:null}},$p=(c,i)=>{switch(i.type){case"SET_HISTORY_PANEL_OPEN":return{...c,isHistoryPanelOpen:i.payload};case"SHOW_TOOLTIP":return c.tooltip.pinned?c:{...c,tooltip:{...c.tooltip,visible:!0,pinned:!1,...i.payload}};case"HIDE_TOOLTIP":return{...c,tooltip:{...cl.tooltip}};case"PIN_TOOLTIP":return c.tooltip.targetElement===i.payload.targetElement&&c.tooltip.pinned?{...c,tooltip:{...cl.tooltip}}:{...c,tooltip:{visible:!0,pinned:!0,...i.payload}};case"SHOW_BOTTOM_SHEET":return document.body.classList.add("overflow-hidden","md:overflow-auto"),{...c,bottomSheet:{visible:!0,...i.payload}};case"SET_BOTTOM_SHEET_TITLE":return c.bottomSheet.visible?{...c,bottomSheet:{...c.bottomSheet,content:{...c.bottomSheet.content,title:i.payload}}}:c;case"HIDE_BOTTOM_SHEET":return document.body.classList.remove("overflow-hidden","md:overflow-auto"),{...c,bottomSheet:{...cl.bottomSheet}};default:return c}},Wy=Q.createContext({state:cl,dispatch:()=>null});function Xp({children:c}){const[i,s]=Q.useReducer($p,cl);return E.jsx(Wy.Provider,{value:{state:i,dispatch:s},children:c})}const la=()=>Q.useContext(Wy);var $s=wy();const Fy=Q.createContext(void 0);function Kp({children:c}){const[i,s]=Q.useState({isOpen:!1,message:""}),r=()=>{s({isOpen:!1,message:""})},o=()=>{var y;(y=i.onConfirm)==null||y.call(i),r()},f=()=>{var y;(y=i.onCancel)==null||y.call(i),r()},d=Q.useCallback((y,m,p={})=>{s({isOpen:!0,message:y,onConfirm:m,onCancel:()=>{},confirmText:p.confirmText||"Confirm",confirmClass:p.confirmClass||"bg-destructive hover:bg-destructive-hover",cancelText:p.cancelText||"Cancel",isAlert:!1})},[]),g=Q.useCallback((y,m={})=>{s({isOpen:!0,message:y,onConfirm:m.onOk,confirmText:"OK",confirmClass:"bg-accent hover:bg-accent/90",isAlert:!0})},[]);return E.jsxs(Fy.Provider,{value:{showConfirmation:d,showAlert:g},children:[c,i.isOpen&&$s.createPortal(E.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md z-[100] flex items-center justify-center p-4 transition-opacity animate-fade-in",children:E.jsxs("div",{className:"glass-morphism rounded-2xl shadow-2xl p-8 w-full max-w-md transform transition-all animate-slide-in",children:[E.jsx("p",{className:"text-text-secondary text-lg mb-8",children:i.message}),E.jsxs("div",{className:"flex justify-end gap-4",children:[!i.isAlert&&E.jsx("button",{onClick:f,className:"px-5 py-3 rounded-xl text-base font-medium text-text-secondary bg-surface-subtle hover:bg-surface-hover transition-colors shadow-sm",children:i.cancelText}),E.jsx("button",{onClick:o,className:`px-5 py-3 rounded-xl text-base font-medium text-primary-text transition-colors shadow-lg ${i.confirmClass}`,children:i.confirmText})]})]})}),document.body)]})}const Xs=()=>{const c=Q.useContext(Fy);if(c===void 0)throw new Error("useModal must be used within a ModalProvider");return c},Qp=({entry:c})=>{const{state:i,dispatch:s}=Mn(),{dispatch:r}=la(),{showConfirmation:o}=Xs(),f=i.reviewDeck.filter(y=>y.textEntryId!==c.id?!1:y.srsStage===0||y.nextReviewDate<=Date.now()).length,d=()=>{r({type:"SET_HISTORY_PANEL_OPEN",payload:!1}),s({type:"SET_CURRENT_TEXT_ENTRY_ID",payload:c.id}),s({type:"SET_VIEW",payload:ze.Reader})},g=y=>{y.stopPropagation(),o(`Are you sure you want to delete "${c.title}"?`,()=>{s({type:"REMOVE_TEXT_ENTRY",payload:c.id})},{confirmText:"Delete"})};return E.jsxs("li",{className:"text-entry-item group p-4 hover:bg-surface-hover transition-colors flex justify-between items-center",children:[E.jsxs("div",{className:"flex-grow pr-4 truncate cursor-pointer",onClick:d,children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"font-medium text-sm pointer-events-none text-text-primary",title:c.title,children:c.title}),f>0&&E.jsx("span",{className:"flex-shrink-0 bg-accent text-primary-text text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold pointer-events-none",title:`${f} review${f>1?"s":""} due`,children:f})]}),E.jsxs("span",{className:"block text-xs text-text-muted mt-1 pointer-events-none",children:["Updated: ",new Date(c.updatedAt).toLocaleString()]})]}),E.jsx("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0",children:E.jsx("button",{className:"p-2 rounded-full hover:bg-destructive-subtle-bg text-destructive/70 hover:text-destructive transition-colors",title:"Delete Text",onClick:g,children:E.jsx("i",{className:"bi bi-trash3 text-xl"})})})]})};function Ip(){const{state:c,dispatch:i}=Mn(),{state:s,dispatch:r}=la(),{showConfirmation:o}=Xs(),f=()=>r({type:"SET_HISTORY_PANEL_OPEN",payload:!1}),d=()=>{c.history.length!==0&&o("Are you sure you want to delete all your saved texts? This cannot be undone.",()=>{i({type:"CLEAR_HISTORY"})},{confirmText:"Delete All"})};return s.isHistoryPanelOpen?E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm z-30 transition-opacity",onClick:f}),E.jsxs("div",{className:"fixed top-0 right-0 h-full w-full max-w-md glass-morphism shadow-2xl z-40 flex flex-col border-l border-border transition-transform duration-300 ease-in-out",style:{transform:"translateX(0%)"},children:[E.jsxs("header",{className:"flex items-center justify-between p-6 border-b border-border flex-shrink-0",children:[E.jsx("h2",{className:"text-xl font-bold text-text-primary",children:"My Texts"}),E.jsxs("div",{className:"flex items-center gap-2",children:[c.history.length>0&&E.jsx("button",{title:"Delete All Texts",className:"p-2 rounded-lg text-text-muted hover:bg-destructive-subtle-bg hover:text-destructive transition-colors",onClick:d,children:E.jsx("i",{className:"bi bi-trash3 text-xl"})}),E.jsx("button",{title:"Close Panel",className:"btn-ghost",onClick:f,children:E.jsx("i",{className:"bi bi-x-lg text-xl"})})]})]}),E.jsx("div",{className:"flex-grow overflow-y-auto no-scrollbar",children:c.history.length>0?E.jsx("ul",{className:"divide-y divide-border",children:c.history.map(g=>E.jsx(Qp,{entry:g},g.id))}):E.jsxs("div",{className:"text-center p-8",children:[E.jsx("i",{className:"bi bi-file-earmark-text text-5xl text-text-muted/50 mx-auto mb-4","aria-hidden":"true"}),E.jsx("p",{className:"text-text-muted",children:"You have no saved texts yet."}),E.jsx("p",{className:"text-sm text-text-muted/70 mt-1",children:"Start by analyzing some Japanese text!"})]})})]})]}):null}async function Zp(c,i,s){if(!s)return;const{data:r,error:o}=await s.from("text_entries").select("*").eq("user_id",c),{data:f,error:d}=await s.from("review_deck").select("*").eq("user_id",c);if(o||d)throw o||d;const g=await Cc(),y=await kc(),m=new Map(g.map(j=>[j.id,j]));r.forEach(j=>{const N=m.get(j.id);if(!N||new Date(j.updated_at).getTime()>N.updatedAt){const L={id:j.id,title:j.title,text:j.text,createdAt:new Date(j.created_at).getTime(),updatedAt:new Date(j.updated_at).getTime(),readingProgress:j.reading_progress,analyzedSentences:j.analyzed_sentences};m.set(j.id,L)}});const p=new Map(y.map(j=>[j.id,j]));f.forEach(j=>{if(!p.get(j.id)||j){const L={id:j.id,type:j.type,content:j.content,textEntryId:j.text_entry_id,srsStage:j.srs_stage,intervalModifier:j.interval_modifier,incorrectAnswerCount:j.incorrect_answer_count,nextReviewDate:new Date(j.next_review_date).getTime(),addedAt:new Date(j.added_at).getTime()};p.set(j.id,L)}});const _=Array.from(m.values()),O=Array.from(p.values());if(_.length>0){const j=_.map(N=>({id:N.id,user_id:c,title:N.title,text:N.text,reading_progress:N.readingProgress,analyzed_sentences:N.analyzedSentences,created_at:new Date(N.createdAt).toISOString(),updated_at:new Date(N.updatedAt).toISOString()}));await s.from("text_entries").upsert(j)}if(O.length>0){const j=O.map(N=>({id:N.id,user_id:c,type:N.type,content:N.content,text_entry_id:N.textEntryId,srs_stage:N.srsStage,interval_modifier:N.intervalModifier,incorrect_answer_count:N.incorrectAnswerCount,next_review_date:new Date(N.nextReviewDate).toISOString(),added_at:new Date(N.addedAt).toISOString()}));await s.from("review_deck").upsert(j)}await Ls(),await Mc();for(const j of _)await na(j);for(const j of O)await Bs(j);i({type:"INITIALIZE_DATA_SUCCESS",payload:{history:_,reviewDeck:O,currentTextEntryId:null,view:"EDITOR"}})}const Jp=()=>{const{authState:c,user:i,supabase:s}=Vs(),{dispatch:r}=Mn(),{showConfirmation:o,showAlert:f}=Xs(),[d,g]=Q.useState(!1),[y,m]=Q.useState(!1),p=async()=>{s&&o("Are you sure you want to sign out?",async()=>{const{error:j}=await s.auth.signOut();f(j?`Error signing out: ${j.message}`:"You have been signed out.")},{confirmText:"Sign Out",confirmClass:"bg-destructive hover:bg-destructive-hover"})},_=async()=>{if(!s)return;g(!0);const{data:j,error:N}=await s.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.href,skipBrowserRedirect:!0}});N?(f(`Error preparing for Google Sign-In: ${N.message}`),g(!1)):j.url?window.open(j.url,"_blank"):(f("An unknown error occurred while trying to sign in with Google."),g(!1))},O=async j=>{if(j){m(!0);try{await Zp(j,r,s),f("Data successfully synced with the cloud.")}catch(N){f(`Data sync failed: ${N.message}`)}finally{m(!1)}}};if(c==="INITIALIZING"||c==="NO_CONFIG"||y){const j=y?"Syncing data...":c==="INITIALIZING"?"Checking auth status...":"Account management disabled.";return E.jsxs("div",{children:[E.jsx("p",{className:"text-sm font-medium text-text-secondary mb-3",children:"Account"}),E.jsxs("div",{className:"flex items-center gap-2 text-sm text-text-muted",children:[c!=="NO_CONFIG"&&E.jsx("i",{className:"bi bi-arrow-repeat animate-spin"}),E.jsx("span",{children:j})]})]})}return E.jsxs("div",{children:[E.jsx("p",{className:"text-sm font-medium text-text-secondary mb-3",children:"Account"}),c==="LOGGED_IN"&&i?E.jsxs("div",{className:"space-y-3",children:[E.jsxs("p",{className:"text-sm text-text-secondary truncate",title:i.email,children:["Signed in as ",E.jsx("strong",{className:"text-text-primary font-medium",children:i.email})]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsxs("button",{onClick:()=>O(i.id),disabled:y,className:"flex-1 text-xs font-medium px-3 py-2 rounded-lg bg-surface-soft text-text-secondary hover:bg-surface-hover transition-colors inline-flex items-center justify-center gap-2 disabled:opacity-70",children:[E.jsx("i",{className:`bi ${y?"bi-arrow-repeat animate-spin":"bi-arrow-repeat"}`}),"Sync Data"]}),E.jsxs("button",{onClick:p,className:"flex-1 text-xs font-medium px-3 py-2 rounded-lg bg-destructive-subtle-bg text-destructive-subtle-text hover:bg-destructive-subtle-bg/80 transition-colors inline-flex items-center justify-center gap-2",children:[E.jsx("i",{className:"bi bi-box-arrow-right"}),"Sign Out"]})]})]}):E.jsxs("button",{onClick:_,disabled:d,className:"w-full text-sm font-medium px-3 py-2.5 rounded-lg bg-white text-[#3c4043] border border-gray-300 hover:bg-gray-50 transition-colors inline-flex items-center justify-center gap-3 shadow-sm disabled:opacity-70",children:[E.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 48 48","aria-hidden":"true",children:[E.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24s8.955,20,20,20s20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),E.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),E.jsx("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.222,0-9.519-3.355-11.176-7.944l-6.573,4.817C9.656,39.663,16.318,44,24,44z"}),E.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571l6.19,5.238C39.99,34.556,44,29.861,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]}),d?"Redirecting...":"Sign in with Google"]})]})},Ms=({label:c,shortcut:i,checked:s,onChange:r,id:o})=>E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("label",{htmlFor:o,className:"text-sm font-medium text-text-secondary cursor-pointer",children:[c," ",i&&E.jsxs("span",{className:"text-xs text-text-muted",children:["(",i,")"]})]}),E.jsxs("label",{htmlFor:o,className:"relative inline-flex h-6 w-11 items-center rounded-full bg-surface-subtle transition-colors focus-within:outline-none focus-within:ring-2 focus-within:ring-focus-ring focus-within:ring-offset-2 cursor-pointer",children:[E.jsx("input",{type:"checkbox",id:o,className:"sr-only peer",checked:s,onChange:r}),E.jsx("span",{className:"ml-1 inline-block h-4 w-4 transform rounded-full bg-surface transition-transform peer-checked:translate-x-5 peer-checked:bg-primary shadow-sm"})]})]});function Pp({setIsOpen:c}){const{state:i,dispatch:s}=Gc(),{state:r,dispatch:o}=Mn(),{authState:f,supabase:d,user:g}=Vs(),{showAlert:y,showConfirmation:m}=Xs(),p=Q.useRef(null),[_,O]=Q.useState(""),[j,N]=Q.useState(!1),[L,H]=Q.useState(!1),[se,ee]=Q.useState("Notification"in window?Notification.permission:"default");Q.useEffect(()=>{const W=le=>{le.key==="Escape"&&c(!1)};return document.addEventListener("keydown",W),()=>{document.removeEventListener("keydown",W)}},[c]),Q.useEffect(()=>{O(i.userApiKey||"")},[i.userApiKey]);const B=W=>{s({type:"UPDATE_SETTINGS",payload:W})},I=async()=>{H(!0);const W=_.trim();if(f==="LOGGED_IN"&&d)try{const{error:le}=await d.functions.invoke("set-user-api-key",{body:{apiKey:W}});if(le)throw le;B({userApiKey:W}),y("API Key securely saved to your account.")}catch(le){y(`Error saving key to account: ${le instanceof Error?le.message:"Unknown error"}`)}else B({userApiKey:W}),y("API Key settings updated locally.");H(!1)},V=async()=>{if(!("Notification"in window)||!("setAppBadge"in navigator)){y("App icon badging is not supported on this browser or device.");return}if(se==="denied"){y("Permission for notifications was denied. You must enable it in your browser or OS settings for this site.");return}if(se==="granted"){y("App icon badging is already enabled.");return}try{const W=await Notification.requestPermission();if(ee(W),W==="granted"){y("Permission granted! The app icon will now show the number of due reviews.");const le=r.reviewDeck.filter(Xe=>Xe.srsStage===0||Xe.nextReviewDate<=Date.now()).length;le>0?await navigator.setAppBadge(le):await navigator.clearAppBadge()}else y("Permission was not granted. App icon badging will remain disabled.")}catch(W){console.error("Error requesting notification permission:",W),y("An error occurred while trying to enable badging.")}},ne=async W=>{var tt;const le=(tt=W.target.files)==null?void 0:tt[0];if(!le)return;const Xe=new FileReader;Xe.onload=Ce=>{var U;try{const q=JSON.parse((U=Ce.target)==null?void 0:U.result);if(!q.history||!q.settings||!q.reviewDeck)throw new Error("Invalid backup file structure.");m("Importing will overwrite your current history, review deck, and settings. Are you sure you want to continue?",async()=>{try{await Promise.all([Ls(),Mc()]),await Promise.all([...q.history.map(X=>na(X)),...q.reviewDeck.map(X=>Bs(X)),Oy(q.settings)]),o({type:"SET_HISTORY",payload:q.history||[]}),o({type:"SET_REVIEW_DECK",payload:q.reviewDeck||[]}),s({type:"UPDATE_SETTINGS",payload:q.settings}),y("Import successful!",{onOk:()=>c(!1)}),o({type:"RESET_VIEW"})}catch(X){y(`Import failed during database operation: ${X instanceof Error?X.message:"Unknown error."}`,{onOk:()=>c(!1)})}},{confirmText:"Import",confirmClass:"bg-accent hover:bg-accent/90"})}catch(q){y(`Import failed: ${q instanceof Error?q.message:"Could not read file."}`,{onOk:()=>c(!1)})}finally{W.target.value=""}},Xe.readAsText(le)},ve=async()=>{try{const[W,le,Xe]=await Promise.all([Cc(),kc(),Ay()]),tt={version:"3.0-indexeddb",exportedAt:Date.now(),history:W,reviewDeck:le,settings:Xe},Ce=JSON.stringify(tt,null,2),U=new Blob([Ce],{type:"application/json"}),q=URL.createObjectURL(U),X=document.createElement("a");X.href=q;const me=new Date().toISOString().split("T")[0];X.download=`japanese-analyzer-backup-${me}.json`,document.body.appendChild(X),X.click(),document.body.removeChild(X),URL.revokeObjectURL(q)}catch(W){y(`Export failed: ${W instanceof Error?W.message:"Could not read data from database."}`)}},Fe=my.indexOf(i.analysisDepth),pt=()=>{const le={granted:{text:"Badging Enabled",disabled:!0,info:"Review count will show on the app icon.",icon:"bi-check-circle-fill text-accent-text"},denied:{text:"Permission Denied",disabled:!0,info:"Enable notifications in browser settings to use this.",icon:"bi-slash-circle"},default:{text:"Enable Review Count on Icon",disabled:!1,info:"Requires notification permission to display badges on iOS.",icon:"bi-app-indicator"}}[se];return E.jsxs("div",{children:[E.jsx("p",{className:"text-sm font-medium text-text-secondary mb-3",children:"Home Screen Badges (PWA)"}),E.jsx("div",{className:"flex gap-2",children:E.jsxs("button",{onClick:V,disabled:le.disabled,className:"flex-1 text-xs font-medium px-3 py-2 rounded-lg bg-surface-soft text-text-secondary hover:bg-surface-hover transition-colors inline-flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:[E.jsx("i",{className:`bi ${le.icon}`}),le.text]})}),E.jsx("p",{className:"text-xs text-text-muted mt-2 px-1",children:le.info})]})},ln=()=>{const W=f==="LOGGED_IN";let le="Using the default application key.";i.userApiKey&&(le=W?"Using API key from your account.":"Using API key from local browser storage.");const Xe=W?"Save to Account":"Save Key";return E.jsxs("div",{children:[E.jsx("p",{className:"text-sm font-medium text-text-secondary mb-3",children:"API Key Management (Gemini)"}),E.jsxs("div",{className:"relative flex items-center",children:[E.jsx("input",{type:j?"text":"password",value:_,onChange:tt=>O(tt.target.value),placeholder:"Enter your Gemini API Key",className:"w-full rounded-lg border-border-subtle bg-surface-soft shadow-sm focus-ring text-sm px-4 py-2 pr-10","aria-label":"Gemini API Key",disabled:L}),E.jsx("button",{type:"button",className:"absolute right-2 text-text-muted hover:text-text-primary p-1",onClick:()=>N(!j),title:j?"Hide key":"Show key",children:E.jsx("i",{className:`bi ${j?"bi-eye-slash":"bi-eye"} text-base`})})]}),E.jsx("div",{className:"flex gap-2 mt-2",children:E.jsxs("button",{onClick:I,disabled:L,className:"flex-1 text-xs font-medium px-3 py-2 rounded-lg bg-primary/80 text-primary-text hover:bg-primary transition-colors inline-flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-wait",children:[L?E.jsx("i",{className:"bi bi-arrow-repeat text-base animate-spin"}):E.jsx("i",{className:"bi bi-save text-base"}),Xe]})}),E.jsx("p",{className:"text-xs text-text-muted mt-2 px-1",children:le})]})};return E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-lg z-[80]",onClick:()=>c(!1)}),E.jsxs("div",{ref:p,className:"fixed top-20 right-4 flex flex-col w-[95vw] max-w-sm glass-morphism rounded-xl shadow-2xl ring-1 ring-border-subtle z-[90] origin-top-right animate-fade-in max-h-[calc(100vh-12rem)]",children:[E.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-border-subtle flex-shrink-0",children:[E.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:"Settings"}),E.jsx("button",{onClick:()=>c(!1),className:"btn-ghost p-1",title:"Close Settings (Esc)",children:E.jsx("i",{className:"bi bi-x-lg text-xl"})})]}),E.jsxs("div",{className:"p-4 space-y-4 overflow-y-auto no-scrollbar",children:[E.jsxs(E.Fragment,{children:[E.jsx(Jp,{}),E.jsx("hr",{className:"border-border-subtle"})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-x-6 gap-y-3",children:[E.jsx(Ms,{id:"pitch-accent-checkbox",label:"Pitch Accent",checked:i.showPitchAccent,onChange:W=>B({showPitchAccent:W.target.checked})}),E.jsx(Ms,{id:"furigana-checkbox",label:"Furigana",shortcut:"F",checked:i.showFurigana,onChange:W=>B({showFurigana:W.target.checked})}),E.jsx(Ms,{id:"color-coding-checkbox",label:"POS Colors",shortcut:"C",checked:i.showColorCoding,onChange:W=>B({showColorCoding:W.target.checked})}),E.jsx(Ms,{id:"theme-checkbox",label:"Dark Mode",checked:i.theme==="dark",onChange:W=>B({theme:W.target.checked?"dark":"light"})})]}),E.jsx("hr",{className:"border-border-subtle"}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{children:[E.jsxs("div",{className:"flex items-center justify-between mb-2",children:[E.jsx("label",{htmlFor:"analysis-depth-slider",className:"text-sm font-medium text-text-secondary",children:"Analysis Depth"}),E.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded-full bg-primary-subtle-bg text-primary-subtle-text capitalize",children:i.analysisDepth})]}),E.jsx("input",{type:"range",id:"analysis-depth-slider",min:"0",max:"2",step:"1",value:Fe,onChange:W=>B({analysisDepth:my[parseInt(W.target.value)]}),className:"w-full h-2 bg-surface-subtle rounded-lg appearance-none cursor-pointer"})]}),E.jsxs("div",{children:[E.jsxs("div",{className:"flex items-center justify-between mb-2",children:[E.jsx("label",{htmlFor:"font-size-slider",className:"text-sm font-medium text-text-secondary",children:"Font Size"}),E.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded-full bg-primary-subtle-bg text-primary-subtle-text",children:bc[i.fontSizeIndex].label})]}),E.jsx("input",{type:"range",id:"font-size-slider",min:"0",max:bc.length-1,step:"1",value:i.fontSizeIndex,onChange:W=>B({fontSizeIndex:parseInt(W.target.value)}),className:"w-full h-2 bg-surface-subtle rounded-lg appearance-none cursor-pointer"})]}),E.jsxs("div",{children:[E.jsxs("div",{className:"flex items-center justify-between mb-2",children:[E.jsx("label",{htmlFor:"new-words-slider",className:"text-sm font-medium text-text-secondary",children:"New Words Per Day"}),E.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded-full bg-primary-subtle-bg text-primary-subtle-text",children:i.newWordsPerDay})]}),E.jsx("input",{type:"range",id:"new-words-slider",min:"5",max:"50",step:"5",value:i.newWordsPerDay,onChange:W=>B({newWordsPerDay:parseInt(W.target.value,10)}),className:"w-full h-2 bg-surface-subtle rounded-lg appearance-none cursor-pointer"})]})]}),E.jsx("hr",{className:"border-border-subtle"}),ln(),E.jsx("hr",{className:"border-border-subtle"}),pt(),E.jsx("hr",{className:"border-border-subtle"}),E.jsxs("div",{children:[E.jsx("p",{className:"text-sm font-medium text-text-secondary mb-3",children:"Data Management"}),E.jsxs("div",{className:"flex gap-2",children:[E.jsxs("button",{onClick:ve,className:"flex-1 text-xs font-medium px-3 py-2 rounded-lg bg-surface-soft text-text-secondary hover:bg-surface-hover transition-colors inline-flex items-center justify-center gap-2",children:[E.jsx("i",{className:"bi bi-download text-base"}),"Export"]}),E.jsxs("label",{className:"flex-1 text-xs font-medium px-3 py-2 rounded-lg bg-surface-soft text-text-secondary hover:bg-surface-hover transition-colors cursor-pointer inline-flex items-center justify-center gap-2",children:[E.jsx("i",{className:"bi bi-upload text-base"}),"Import",E.jsx("input",{type:"file",className:"hidden",accept:".json",onChange:ne})]})]})]})]})]})]})}let Rc=null;function by(c){Rc=c}function Wp(){if(!("speechSynthesis"in window)){document.body.classList.remove("tts-available");return}const c=()=>{const i=window.speechSynthesis.getVoices().filter(f=>f.lang==="ja-JP");if(i.length===0){by(null),document.body.classList.remove("tts-available");return}const s=i.find(f=>f.name.includes("Google")),r=i.find(f=>!f.localService),o=s||r||i[0]||null;by(o),document.body.classList.toggle("tts-available",!!o)};c(),window.speechSynthesis.onvoiceschanged!==void 0&&(window.speechSynthesis.onvoiceschanged=c)}function mb(c){if(!("speechSynthesis"in window)||!Rc){console.warn("Speech synthesis not available or no Japanese voice found.");return}window.speechSynthesis.cancel();const i=new SpeechSynthesisUtterance(c);i.voice=Rc,i.lang="ja-JP",i.rate=.9,i.pitch=1,window.speechSynthesis.speak(i)}function Fp(){const{state:c,dispatch:i}=Mn(),{state:s,dispatch:r}=Gc(),{state:o}=la();Q.useEffect(()=>{const f=d=>{var m,p,_,O,j,N,L,H,se;const g=d.target;if(["INPUT","TEXTAREA"].includes(g.tagName)||g.isContentEditable)return;switch(d.key.toLowerCase()==="f"&&(d.preventDefault(),r({type:"UPDATE_SETTINGS",payload:{showFurigana:!s.showFurigana}})),d.key.toLowerCase()==="c"&&(d.preventDefault(),r({type:"UPDATE_SETTINGS",payload:{showColorCoding:!s.showColorCoding}})),c.view){case ze.Review:d.key==="Escape"&&(d.preventDefault(),(m=document.querySelector('[data-action="review-exit"]'))==null||m.click());const ee=document.querySelector('[data-action="review-show-answer"]');ee&&(d.code==="Space"||d.key===" ")&&(d.preventDefault(),ee.click()),ee||(d.key==="1"?(d.preventDefault(),(p=document.querySelector('[data-action="review-quality-1"]'))==null||p.click()):d.key==="2"?(d.preventDefault(),(_=document.querySelector('[data-action="review-quality-2"]'))==null||_.click()):d.key==="3"?(d.preventDefault(),(O=document.querySelector('[data-action="review-quality-3"]'))==null||O.click()):d.key==="4"&&(d.preventDefault(),(j=document.querySelector('[data-action="review-quality-4"]'))==null||j.click()));return;case ze.ReadingMode:d.key==="ArrowRight"?(d.preventDefault(),(N=document.querySelector("#reading-nav-next"))==null||N.click()):d.key==="ArrowLeft"&&(d.preventDefault(),(L=document.querySelector("#reading-nav-prev"))==null||L.click());break}if(c.view===ze.Reader||c.view===ze.ReadingMode){if(d.key.toLowerCase()==="t"){const ee=document.querySelector("#toggle-translation-button");ee&&(d.preventDefault(),ee.click())}if(d.key.toLowerCase()==="s"){const ee=document.querySelector(".tts-button");ee&&(d.preventDefault(),ee.click())}}const y=document.querySelector(".analysis-view-container, .reading-mode-view");if(y){const ee=y.querySelector(".is-focused");d.key==="Escape"&&ee&&(d.preventDefault(),ee.classList.remove("is-focused","ring-2","ring-focus-ring","bg-surface-soft"),y.querySelectorAll(".segment").forEach(I=>I.classList.remove("opacity-30")));const B=Array.from(y.querySelectorAll("[data-pattern-id]"));if(B.length>0){const I=B.findIndex(V=>V.classList.contains("is-focused"));if(d.key.toLowerCase()==="j"||d.key.toLowerCase()==="k"){d.preventDefault();let V=I===-1?0:d.key==="j"?I+1:I-1;V>=B.length&&(V=0),V<0&&(V=B.length-1),(H=B[V])==null||H.click()}d.key.toLowerCase()==="e"&&ee&&(d.preventDefault(),(se=ee.querySelector(".show-examples-button"))==null||se.click())}}};return document.addEventListener("keydown",f),()=>{document.removeEventListener("keydown",f)}},[c,s,i,r])}function eb(){const{state:c,dispatch:i}=la(),{visible:s,content:r,position:o,pinned:f,targetElement:d}=c.tooltip,g=Q.useRef(null);Q.useEffect(()=>{if(!s||!f)return;const p=_=>{d&&d.contains(_.target)||g.current&&g.current.contains(_.target)||i({type:"HIDE_TOOLTIP"})};return document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[s,f,d,i]);const y=()=>{},m=()=>{c.tooltip.pinned||i({type:"HIDE_TOOLTIP"})};return s?$s.createPortal(E.jsx("div",{ref:g,className:"fixed z-50 max-w-sm rounded-xl glass-morphism border border-border/50 shadow-2xl p-4 text-base transition-all duration-200 max-h-96 overflow-y-auto no-scrollbar tooltip-content",style:{left:`${o.left}px`,top:`${o.top}px`,opacity:1},onMouseOver:y,onMouseOut:m,children:r}),document.body):null}const tb=()=>{const{state:c,dispatch:i}=la(),{visible:s,content:r,targetElement:o}=c.bottomSheet,f=Q.useRef(null),[d,g]=Q.useState(!1),[y,m]=Q.useState(!1);Q.useEffect(()=>{if(s){g(!0);const O=setTimeout(()=>{m(!0)},50);return()=>clearTimeout(O)}else m(!1)},[s]);const p=O=>{O.target===f.current&&O.propertyName==="transform"&&!y&&!s&&g(!1)},_=()=>{i({type:"HIDE_BOTTOM_SHEET"})};return Q.useEffect(()=>{const O=N=>{const L=N.target;f.current&&f.current.contains(L)||o&&o.contains(L)||L.closest('button, a, [role="button"], .segment')||_()},j=N=>{N.key==="Escape"&&_()};return d&&s&&(document.addEventListener("click",O,{capture:!0}),document.addEventListener("keydown",j)),()=>{document.removeEventListener("click",O,{capture:!0}),document.removeEventListener("keydown",j)}},[d,s,o]),Q.useEffect(()=>{const O=document.querySelector(".segment-bottom-sheet-active");O&&O.classList.remove("bg-accent-selected-bg/60","dark:bg-accent-selected-bg/30","segment-bottom-sheet-active"),o&&s&&o.classList.add("bg-accent-selected-bg/60","dark:bg-accent-selected-bg/30","segment-bottom-sheet-active")},[o,s]),d?$s.createPortal(E.jsxs(E.Fragment,{children:[E.jsx("div",{className:`fixed inset-0 bg-black/40 backdrop-blur-sm z-10 transition-opacity duration-300 md:hidden ${y?"opacity-100":"opacity-0"}`,onClick:_,"aria-hidden":"true"}),E.jsxs("div",{ref:f,className:`fixed bottom-0 left-0 right-0 z-20 bg-surface border-t border-border rounded-t-2xl shadow-2xl-top transition-transform duration-300 ease-in-out max-h-[60vh] flex flex-col md:hidden ${y?"translate-y-0":"translate-y-full"}`,onTransitionEnd:p,children:[E.jsxs("header",{className:"flex-shrink-0 py-3 px-4 border-b border-border-subtle relative text-center",children:[E.jsx("div",{className:"absolute top-2 left-1/2 -translate-x-1/2 w-10 h-1.5 bg-border rounded-full","aria-hidden":"true"}),E.jsx("h3",{className:"font-semibold text-lg text-text-primary font-japanese mt-2",children:r.title}),E.jsx("button",{title:"Close details (Esc)",className:"btn-ghost absolute top-1.5 right-2",onClick:_,children:E.jsx("i",{className:"bi bi-x-lg text-2xl"})})]}),E.jsx("div",{className:"p-4 overflow-y-auto no-scrollbar flex-grow bottom-sheet-content",children:r.body})]})]}),document.body):null};function nb(){const{state:c}=Mn(),{state:i}=la(),[s,r]=Q.useState(!1),o=Q.useCallback(()=>{const d=c.view===ze.ReadingMode,g=c.view===ze.Review;let y=!1;if(!g&&!i.bottomSheet.visible){if(d)y=window.scrollY>window.innerHeight/2;else if(c.view===ze.Reader&&c.selectedSentence){const m=document.getElementById("reader-view-text-container");if(m){const p=m.getBoundingClientRect();y=!(p.bottom>0&&p.top<window.innerHeight)}}}r(y)},[c.view,c.selectedSentence,i.bottomSheet.visible]);Q.useEffect(()=>(window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)),[o]),Q.useEffect(()=>{o()},[c.view,c.selectedSentence,i.bottomSheet.visible]);const f=()=>{if(c.view===ze.ReadingMode)window.scrollTo({top:0,behavior:"smooth"});else if(c.view===ze.Reader&&c.selectedSentence){const d=document.querySelector(".clickable-sentence.selected");d==null||d.scrollIntoView({behavior:"smooth",block:"center"})}};return s?$s.createPortal(E.jsx("button",{className:`fixed bottom-5 right-5 w-12 h-12 bg-accent text-primary-text rounded-full shadow-lg flex items-center justify-center text-2xl font-bold transition-all duration-300 hover:bg-accent/90 z-50 ${s?"opacity-100 visible translate-y-0":"opacity-0 invisible translate-y-5"}`,onClick:f,title:c.view===ze.ReadingMode?"Scroll to top":"Back to analyzed sentence",children:""}),document.body):null}const _y=Q.lazy(()=>an(()=>import("./EditorView-cSOjgIKM.js"),__vite__mapDeps([0,1]),import.meta.url).then(c=>({default:c.EditorView}))),ab=Q.lazy(()=>an(()=>import("./ReaderView-Ck9U_WzY.js"),__vite__mapDeps([2,3,1,4]),import.meta.url).then(c=>({default:c.ReaderView}))),ib=Q.lazy(()=>an(()=>import("./ReadingModeView-rF2kd7d_.js"),__vite__mapDeps([5,3,1,4]),import.meta.url).then(c=>({default:c.ReadingModeView}))),lb=Q.lazy(()=>an(()=>import("./ReviewController-CxX6iT7H.js"),__vite__mapDeps([6,4,1]),import.meta.url).then(c=>({default:c.ReviewController})));function sb(){const{state:c,dispatch:i}=Mn(),{dispatch:s}=la(),[r,o]=Q.useState(!1),f=c.reviewDeck.filter(g=>c.currentTextEntryId&&g.textEntryId&&g.textEntryId!==c.currentTextEntryId?!1:g.srsStage===0||g.nextReviewDate<=Date.now()).length,d=()=>{c.currentTextEntryId?i({type:"SET_VIEW",payload:ze.Reader}):i({type:"RESET_VIEW"})};return E.jsxs("header",{id:"app-header",className:"flex justify-between items-center px-4 py-3 border-b border-border bg-gradient-to-r from-background to-surface md:rounded-t-2xl flex-shrink-0",children:[E.jsx("div",{className:"flex items-center gap-4",children:E.jsx("button",{onClick:d,title:"Return to main screen",className:"px-4 py-1 bg-gradient-to-br from-primary to-purple-600 rounded-xl flex items-center justify-center shadow-lg focus-ring hover-lift",children:E.jsx("span",{className:"font-japanese font-bold text-primary-text text-xl select-none dark:text-white",children:""})})}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("button",{title:"New Text",className:"btn-ghost",onClick:()=>i({type:"RESET_VIEW"}),children:E.jsx("i",{className:"bi bi-plus-lg text-xl"})}),E.jsx("button",{title:"My Texts",className:"btn-ghost",onClick:()=>s({type:"SET_HISTORY_PANEL_OPEN",payload:!0}),children:E.jsx("i",{className:"bi bi-clock-history text-xl"})}),E.jsx("div",{className:"relative",children:E.jsxs("button",{title:"Review Deck",className:"btn-ghost",onClick:()=>i({type:"SET_VIEW",payload:ze.Review}),children:[E.jsx("i",{className:"bi bi-stack text-xl"}),f>0&&E.jsx("span",{className:"absolute -top-1 -right-1 bg-destructive text-white text-xs rounded-full h-4 w-4 flex items-center justify-center pointer-events-none transition-opacity",children:f})]})}),E.jsxs("div",{children:[E.jsx("button",{title:"Settings",className:"btn-ghost",onClick:()=>o(g=>!g),children:E.jsx("i",{className:"bi bi-gear text-xl"})}),r&&E.jsx(Pp,{setIsOpen:o})]})]})]})}const rb=()=>E.jsx("div",{className:"w-full h-full flex items-center justify-center bg-surface",children:E.jsxs("div",{className:"text-center",children:[E.jsx("i",{className:"bi bi-arrow-repeat text-4xl text-text-muted animate-spin"}),E.jsx("p",{className:"mt-4 text-text-muted",children:"Loading view..."})]})});function ub(){const{state:c,dispatch:i}=Mn(),{state:s}=Gc(),{authState:r}=Vs();if(Fp(),Q.useEffect(()=>{const g=new URLSearchParams(window.location.search).get("url");if(g){i({type:"SET_URL_TO_IMPORT",payload:g});const y=window.location.origin+window.location.pathname;window.history.replaceState({},document.title,y)}Wp()},[i]),Q.useEffect(()=>{if("setAppBadge"in navigator&&"Notification"in window)if(Notification.permission==="granted"){const d=c.reviewDeck.filter(g=>g.srsStage===0||g.nextReviewDate<=Date.now()).length;d>0?navigator.setAppBadge(d).catch(g=>console.error("Failed to set app badge.",g)):navigator.clearAppBadge().catch(g=>console.error("Failed to clear app badge.",g))}else navigator.clearAppBadge().catch(()=>{})},[c.reviewDeck]),c.isLoading||s.isLoading||r==="INITIALIZING")return E.jsx("div",{className:"w-full h-full flex items-center justify-center bg-background",children:E.jsxs("div",{className:"text-center",children:[E.jsx("i",{className:"bi bi-arrow-repeat text-4xl text-text-muted animate-spin"}),E.jsx("p",{className:"mt-4 text-text-muted",children:"Loading application data..."})]})});const o=()=>{switch(c.view){case ze.Editor:return E.jsx(_y,{});case ze.Reader:return E.jsx(ab,{});case ze.ReadingMode:return E.jsx(ib,{});case ze.Review:return E.jsx(lb,{});default:return E.jsx(_y,{})}},f=c.view===ze.ReadingMode;return E.jsxs("div",{className:`w-full h-full flex flex-col ${f?"":"md:container md:mx-auto md:px-4 md:py-6"}`,children:[E.jsxs("main",{id:"app",className:`bg-surface w-full flex-grow flex flex-col min-h-0 ${f?"":"md:rounded-2xl md:shadow-xl md:border border-border md:overflow-hidden"}`,children:[c.view!==ze.ReadingMode&&E.jsx(sb,{}),E.jsx(Q.Suspense,{fallback:E.jsx(rb,{}),children:o()})]}),E.jsx(Ip,{}),E.jsx(eb,{}),E.jsx(tb,{}),E.jsx(nb,{})]})}function cb(){return E.jsx(Vp,{children:E.jsx(Xp,{children:E.jsx(Kp,{children:E.jsx(Bp,{children:E.jsx(Gp,{children:E.jsx(ub,{})})})})})})}const ob=Nm.createRoot(document.getElementById("root"));ob.render(E.jsx(cb,{}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./sw.js").then(c=>{console.log("ServiceWorker registration successful with scope: ",c.scope)}).catch(c=>{console.warn("ServiceWorker registration failed: ",c.message)})});export{fb as R,ze as V,Gc as a,Xs as b,la as c,mb as d,Vs as e,Ay as f,qm as g,wm as h,Sy as i,E as j,Q as r,Nt as s,Mn as u};
